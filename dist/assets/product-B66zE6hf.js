import{r as k,u as yn,c as jt,a as jn,b as kn,d as vr,o as Ot,e as yr,i as Xr,f as Ft,g as zr,h as Mr,k as Ke,j as t,s as He,l as Be,m as Xe,n as Jt,p as Zr,q as Jr,t as qe,v as $a,w as Dr,x as Cn,y as Ue,z as Or,B as _n,A as wn,C as Fe,D as Sn,E as ue,R as wt,F as Pn,G as Aa,H as Ia,I as Fr,J as ie,K as q,P as Ge,T as z,L as Nr,N as Ie,Q as Tn,S as $n,U as ke,V as et,W as tt,X as Ht,Y as Te,Z as Ba,_ as Pr,$ as Ut,a0 as An,a1 as In,a2 as Bn,a3 as Rn,a4 as Ln}from"./index-7iJENN8l.js";import{c as dt,a as We,F as er,b as tr,d as je,e as Qe,f as Ra,g as La,h as Ea,i as En}from"./index.esm-DupS7xVs.js";import{D as ot}from"./Dialog-BqPaV-ey.js";import{D as gt,a as xt}from"./DialogTitle-CT6tK7cC.js";import{T as se,a as Oe,b as $,c as rr,d as ar,e as nr,f as ir,S as za}from"./TextField-DjM1Uxpr.js";import{D as bt}from"./DialogActions-EJzUn52o.js";import{M as Ae}from"./MenuItem-HOt1CTeO.js";import{R as qr}from"./DeleteOutlined-CCgBDBVB.js";import{R as Ct}from"./PlusOutlined-S2C7CQGj.js";import{g as Tr}from"./fileHelper-DtQg9PBz.js";import{S as _e}from"./Skeleton-iMASedie.js";import{S as ea}from"./Switch-Dhc0wUK3.js";import{A as Ma}from"./Add-BTlmxzap.js";import{A as Vr}from"./Alert-BM0W0WQ1.js";import{D as Da}from"./Delete-zH25P5z-.js";import{f as Je}from"./currencyFormat-th2sljt-.js";import{T as zn,a as ta}from"./Tabs-m3SR83Eh.js";import{E as Mn}from"./Edit-B3ndajW5.js";import{S as jr}from"./sweetalert2.esm.all-D3pEHXw3.js";import{C as Dn}from"./Container-oieR4SAA.js";import{R as On}from"./SearchOutlined-CzCr69N-.js";import{I as Fn}from"./InputLabel-7T4gFri9.js";import{T as Nn}from"./TablePagination-CrNfolgG.js";import{T as Bt}from"./TableSortLabel-uXpaK-bX.js";import{R as qn}from"./EditOutlined-D0m0JwmK.js";import{C as Vn}from"./CardMedia-Blu-P_zq.js";import"./Close-CKOILJ5j.js";import"./KeyboardArrowRight-BXiSKNan.js";import"./LastPage-9DPZuRZJ.js";function Wn(e){return k.Children.toArray(e).filter(r=>k.isValidElement(r))}const Gn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Hn(e,r,a=(n,i)=>n===i){return e.length===r.length&&e.every((n,i)=>a(n,r[i]))}const Un=2;function Oa(e,r){return e-r}function ra(e,r){const{index:a}=e.reduce((n,i,c)=>{const u=Math.abs(r-i);return n===null||u<n.distance||u===n.distance?{distance:u,index:c}:n},null)??{};return a}function Rt(e,r){if(r.current!==void 0&&e.changedTouches){const a=e;for(let n=0;n<a.changedTouches.length;n+=1){const i=a.changedTouches[n];if(i.identifier===r.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Yt(e,r,a){return(e-r)*100/(a-r)}function Yn(e,r,a){return(a-r)*e+r}function Qn(e){if(Math.abs(e)<1){const a=e.toExponential().split("e-"),n=a[0].split(".")[1];return(n?n.length:0)+parseInt(a[1],10)}const r=e.toString().split(".")[1];return r?r.length:0}function Kn(e,r,a){const n=Math.round((e-a)/r)*r+a;return Number(n.toFixed(Qn(r)))}function aa({values:e,newValue:r,index:a}){const n=e.slice();return n[a]=r,n.sort(Oa)}function Lt({sliderRef:e,activeIndex:r,setActive:a}){var i,c,u;const n=Ot(e.current);(!((i=e.current)!=null&&i.contains(n.activeElement))||Number((c=n==null?void 0:n.activeElement)==null?void 0:c.getAttribute("data-index"))!==r)&&((u=e.current)==null||u.querySelector(`[type="range"][data-index="${r}"]`).focus()),a&&a(r)}function Et(e,r){return typeof e=="number"&&typeof r=="number"?e===r:typeof e=="object"&&typeof r=="object"?Hn(e,r):!1}const Xn={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Zn=e=>e;let zt;function na(){return zt===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?zt=CSS.supports("touch-action","none"):zt=!0),zt}function Jn(e){const{"aria-labelledby":r,defaultValue:a,disabled:n=!1,disableSwap:i=!1,isRtl:c=!1,marks:u=!1,max:d=100,min:m=0,name:b,onChange:v,onChangeCommitted:S,orientation:j="horizontal",rootRef:h,scale:x=Zn,step:y=1,shiftStep:B=10,tabIndex:I,value:T}=e,l=k.useRef(void 0),[s,o]=k.useState(-1),[p,f]=k.useState(-1),[w,U]=k.useState(!1),X=k.useRef(0),[G,oe]=yn({controlled:T,default:a??m,name:"Slider"}),L=v&&((g,_,R)=>{const H=g.nativeEvent||g,ge=new H.constructor(H.type,H);Object.defineProperty(ge,"target",{writable:!0,value:{value:_,name:b}}),v(ge,_,R)}),E=Array.isArray(G);let W=E?G.slice().sort(Oa):[G];W=W.map(g=>g==null?m:jt(g,m,d));const ee=u===!0&&y!==null?[...Array(Math.floor((d-m)/y)+1)].map((g,_)=>({value:m+y*_})):u||[],A=ee.map(g=>g.value),[Y,D]=k.useState(-1),O=k.useRef(null),P=jn(h,O),Q=g=>_=>{var H;const R=Number(_.currentTarget.getAttribute("data-index"));Xr(_.target)&&D(R),f(R),(H=g==null?void 0:g.onFocus)==null||H.call(g,_)},Z=g=>_=>{var R;Xr(_.target)||D(-1),f(-1),(R=g==null?void 0:g.onBlur)==null||R.call(g,_)},C=(g,_)=>{const R=Number(g.currentTarget.getAttribute("data-index")),H=W[R],ge=A.indexOf(H);let N=_;if(ee&&y==null){const Ce=A[A.length-1];N>Ce?N=Ce:N<A[0]?N=A[0]:N=N<H?A[ge-1]:A[ge+1]}if(N=jt(N,m,d),E){i&&(N=jt(N,W[R-1]||-1/0,W[R+1]||1/0));const Ce=N;N=aa({values:W,newValue:N,index:R});let Pe=R;i||(Pe=N.indexOf(Ce)),Lt({sliderRef:O,activeIndex:Pe})}oe(N),D(R),L&&!Et(N,G)&&L(g,N,R),S&&S(g,N)},F=g=>_=>{var R;if(y!==null){const H=Number(_.currentTarget.getAttribute("data-index")),ge=W[H];let N=null;(_.key==="ArrowLeft"||_.key==="ArrowDown")&&_.shiftKey||_.key==="PageDown"?N=Math.max(ge-B,m):((_.key==="ArrowRight"||_.key==="ArrowUp")&&_.shiftKey||_.key==="PageUp")&&(N=Math.min(ge+B,d)),N!==null&&(C(_,N),_.preventDefault())}(R=g==null?void 0:g.onKeyDown)==null||R.call(g,_)};kn(()=>{var g;n&&O.current.contains(document.activeElement)&&((g=document.activeElement)==null||g.blur())},[n]),n&&s!==-1&&o(-1),n&&Y!==-1&&D(-1);const fe=g=>_=>{var R;(R=g.onChange)==null||R.call(g,_),C(_,_.target.valueAsNumber)},ce=k.useRef(void 0);let le=j;c&&j==="horizontal"&&(le+="-reverse");const re=({finger:g,move:_=!1})=>{const{current:R}=O,{width:H,height:ge,bottom:N,left:Ce}=R.getBoundingClientRect();let Pe;le.startsWith("vertical")?Pe=(N-g.y)/ge:Pe=(g.x-Ce)/H,le.includes("-reverse")&&(Pe=1-Pe);let ve;if(ve=Yn(Pe,m,d),y)ve=Kn(ve,y,m);else{const yt=ra(A,ve);ve=A[yt]}ve=jt(ve,m,d);let Me=0;if(E){_?Me=ce.current:Me=ra(W,ve),i&&(ve=jt(ve,W[Me-1]||-1/0,W[Me+1]||1/0));const yt=ve;ve=aa({values:W,newValue:ve,index:Me}),i&&_||(Me=ve.indexOf(yt),ce.current=Me)}return{newValue:ve,activeIndex:Me}},pe=vr(g=>{const _=Rt(g,l);if(!_)return;if(X.current+=1,g.type==="mousemove"&&g.buttons===0){de(g);return}const{newValue:R,activeIndex:H}=re({finger:_,move:!0});Lt({sliderRef:O,activeIndex:H,setActive:o}),oe(R),!w&&X.current>Un&&U(!0),L&&!Et(R,G)&&L(g,R,H)}),de=vr(g=>{const _=Rt(g,l);if(U(!1),!_)return;const{newValue:R}=re({finger:_,move:!0});o(-1),g.type==="touchend"&&f(-1),S&&S(g,R),l.current=void 0,J()}),te=vr(g=>{if(n)return;na()||g.preventDefault();const _=g.changedTouches[0];_!=null&&(l.current=_.identifier);const R=Rt(g,l);if(R!==!1){const{newValue:ge,activeIndex:N}=re({finger:R});Lt({sliderRef:O,activeIndex:N,setActive:o}),oe(ge),L&&!Et(ge,G)&&L(g,ge,N)}X.current=0;const H=Ot(O.current);H.addEventListener("touchmove",pe,{passive:!0}),H.addEventListener("touchend",de,{passive:!0})}),J=k.useCallback(()=>{const g=Ot(O.current);g.removeEventListener("mousemove",pe),g.removeEventListener("mouseup",de),g.removeEventListener("touchmove",pe),g.removeEventListener("touchend",de)},[de,pe]);k.useEffect(()=>{const{current:g}=O;return g.addEventListener("touchstart",te,{passive:na()}),()=>{g.removeEventListener("touchstart",te),J()}},[J,te]),k.useEffect(()=>{n&&J()},[n,J]);const Se=g=>_=>{var ge;if((ge=g.onMouseDown)==null||ge.call(g,_),n||_.defaultPrevented||_.button!==0)return;_.preventDefault();const R=Rt(_,l);if(R!==!1){const{newValue:N,activeIndex:Ce}=re({finger:R});Lt({sliderRef:O,activeIndex:Ce,setActive:o}),oe(N),L&&!Et(N,G)&&L(_,N,Ce)}X.current=0;const H=Ot(O.current);H.addEventListener("mousemove",pe,{passive:!0}),H.addEventListener("mouseup",de)},V=Yt(E?W[0]:m,m,d),Ee=Yt(W[W.length-1],m,d)-V,xe=(g={})=>{const _=yr(g),R={onMouseDown:Se(_||{})},H={..._,...R};return{...g,ref:P,...H}},Ze=g=>_=>{var H;(H=g.onMouseOver)==null||H.call(g,_);const R=Number(_.currentTarget.getAttribute("data-index"));f(R)},At=g=>_=>{var R;(R=g.onMouseLeave)==null||R.call(g,_),f(-1)};return{active:s,axis:le,axisProps:Xn,dragging:w,focusedThumbIndex:Y,getHiddenInputProps:(g={})=>{const _=yr(g),R={onChange:fe(_||{}),onFocus:Q(_||{}),onBlur:Z(_||{}),onKeyDown:F(_||{})},H={..._,...R};return{tabIndex:I,"aria-labelledby":r,"aria-orientation":j,"aria-valuemax":x(d),"aria-valuemin":x(m),name:b,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:n,...g,...H,style:{...Gn,direction:c?"rtl":"ltr",width:"100%",height:"100%"}}},getRootProps:xe,getThumbProps:(g={})=>{const _=yr(g),R={onMouseOver:Ze(_||{}),onMouseLeave:At(_||{})};return{...g,..._,...R}},marks:ee,open:p,range:E,rootRef:P,trackLeap:Ee,trackOffset:V,values:W,getThumbStyle:g=>({pointerEvents:s!==-1&&s!==g?"none":void 0})}}const ei=e=>!e||!Ft(e);function ti(e){return Mr("MuiSlider",e)}const Re=zr("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),ri=e=>{const{open:r}=e;return{offset:Ke(r&&Re.valueLabelOpen),circle:Re.valueLabelCircle,label:Re.valueLabelLabel}};function ai(e){const{children:r,className:a,value:n}=e,i=ri(e);return r?k.cloneElement(r,{className:Ke(r.props.className)},t.jsxs(k.Fragment,{children:[r.props.children,t.jsx("span",{className:Ke(i.offset,a),"aria-hidden":!0,children:t.jsx("span",{className:i.circle,children:t.jsx("span",{className:i.label,children:n})})})]})):null}function ia(e){return e}const ni=He("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[r.root,r[`color${Be(a.color)}`],a.size!=="medium"&&r[`size${Be(a.size)}`],a.marked&&r.marked,a.orientation==="vertical"&&r.vertical,a.track==="inverted"&&r.trackInverted,a.track===!1&&r.trackFalse]}})(Xe(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Re.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${Re.dragging}`]:{[`& .${Re.thumb}, & .${Re.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(Jt()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),ii=He("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,r)=>r.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),si=He("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,r)=>r.track})(Xe(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(Jt()).map(([r])=>({props:{color:r,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${r}Track`],borderColor:e.vars.palette.Slider[`${r}Track`]}:{backgroundColor:Zr(e.palette[r].main,.62),borderColor:Zr(e.palette[r].main,.62),...e.applyStyles("dark",{backgroundColor:Jr(e.palette[r].main,.5)}),...e.applyStyles("dark",{borderColor:Jr(e.palette[r].main,.5)})}}}))]}))),oi=He("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[r.thumb,r[`thumbColor${Be(a.color)}`],a.size!=="medium"&&r[`thumbSize${Be(a.size)}`]]}})(Xe(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Re.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(Jt()).map(([r])=>({props:{color:r},style:{[`&:hover, &.${Re.focusVisible}`]:{...e.vars?{boxShadow:`0px 0px 0px 8px rgba(${e.vars.palette[r].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${qe(e.palette[r].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${Re.active}`]:{...e.vars?{boxShadow:`0px 0px 0px 14px rgba(${e.vars.palette[r].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${qe(e.palette[r].main,.16)}`}}}}))]}))),ci=He(ai,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,r)=>r.valueLabel})(Xe(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Re.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Re.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),li=He("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>$a(e)&&e!=="markActive",overridesResolver:(e,r)=>{const{markActive:a}=e;return[r.mark,a&&r.markActive]}})(Xe(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),di=He("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>$a(e)&&e!=="markLabelActive",overridesResolver:(e,r)=>r.markLabel})(Xe(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),ui=e=>{const{disabled:r,dragging:a,marked:n,orientation:i,track:c,classes:u,color:d,size:m}=e,b={root:["root",r&&"disabled",a&&"dragging",n&&"marked",i==="vertical"&&"vertical",c==="inverted"&&"trackInverted",c===!1&&"trackFalse",d&&`color${Be(d)}`,m&&`size${Be(m)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",r&&"disabled",m&&`thumbSize${Be(m)}`,d&&`thumbColor${Be(d)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Or(b,ti,u)},pi=({children:e})=>e,fi=k.forwardRef(function(r,a){const n=Dr({props:r,name:"MuiSlider"}),i=Cn(),{"aria-label":c,"aria-valuetext":u,"aria-labelledby":d,component:m="span",components:b={},componentsProps:v={},color:S="primary",classes:j,className:h,disableSwap:x=!1,disabled:y=!1,getAriaLabel:B,getAriaValueText:I,marks:T=!1,max:l=100,min:s=0,name:o,onChange:p,onChangeCommitted:f,orientation:w="horizontal",shiftStep:U=10,size:X="medium",step:G=1,scale:oe=ia,slotProps:L,slots:E,tabIndex:W,track:ee="normal",value:A,valueLabelDisplay:Y="off",valueLabelFormat:D=ia,...O}=n,P={...n,isRtl:i,max:l,min:s,classes:j,disabled:y,disableSwap:x,orientation:w,marks:T,color:S,size:X,step:G,shiftStep:U,scale:oe,track:ee,valueLabelDisplay:Y,valueLabelFormat:D},{axisProps:Q,getRootProps:Z,getHiddenInputProps:C,getThumbProps:F,open:fe,active:ce,axis:le,focusedThumbIndex:re,range:pe,dragging:de,marks:te,values:J,trackOffset:Se,trackLeap:V,getThumbStyle:Ee}=Jn({...P,rootRef:a});P.marked=te.length>0&&te.some(he=>he.label),P.dragging=de,P.focusedThumbIndex=re;const xe=ui(P),Ze=(E==null?void 0:E.root)??b.Root??ni,At=(E==null?void 0:E.rail)??b.Rail??ii,pr=(E==null?void 0:E.track)??b.Track??si,fr=(E==null?void 0:E.thumb)??b.Thumb??oi,hr=(E==null?void 0:E.valueLabel)??b.ValueLabel??ci,g=(E==null?void 0:E.mark)??b.Mark??li,_=(E==null?void 0:E.markLabel)??b.MarkLabel??di,R=(E==null?void 0:E.input)??b.Input??"input",H=(L==null?void 0:L.root)??v.root,ge=(L==null?void 0:L.rail)??v.rail,N=(L==null?void 0:L.track)??v.track,Ce=(L==null?void 0:L.thumb)??v.thumb,Pe=(L==null?void 0:L.valueLabel)??v.valueLabel,ve=(L==null?void 0:L.mark)??v.mark,Me=(L==null?void 0:L.markLabel)??v.markLabel,yt=(L==null?void 0:L.input)??v.input,mn=Ue({elementType:Ze,getSlotProps:Z,externalSlotProps:H,externalForwardedProps:O,additionalProps:{...ei(Ze)&&{as:m}},ownerState:{...P,...H==null?void 0:H.ownerState},className:[xe.root,h]}),gn=Ue({elementType:At,externalSlotProps:ge,ownerState:P,className:xe.rail}),xn=Ue({elementType:pr,externalSlotProps:N,additionalProps:{style:{...Q[le].offset(Se),...Q[le].leap(V)}},ownerState:{...P,...N==null?void 0:N.ownerState},className:xe.track}),mr=Ue({elementType:fr,getSlotProps:F,externalSlotProps:Ce,ownerState:{...P,...Ce==null?void 0:Ce.ownerState},className:xe.thumb}),bn=Ue({elementType:hr,externalSlotProps:Pe,ownerState:{...P,...Pe==null?void 0:Pe.ownerState},className:xe.valueLabel}),gr=Ue({elementType:g,externalSlotProps:ve,ownerState:P,className:xe.mark}),xr=Ue({elementType:_,externalSlotProps:Me,ownerState:P,className:xe.markLabel}),vn=Ue({elementType:R,getSlotProps:C,externalSlotProps:yt,ownerState:P});return t.jsxs(Ze,{...mn,children:[t.jsx(At,{...gn}),t.jsx(pr,{...xn}),te.filter(he=>he.value>=s&&he.value<=l).map((he,ye)=>{const br=Yt(he.value,s,l),It=Q[le].offset(br);let Ne;return ee===!1?Ne=J.includes(he.value):Ne=ee==="normal"&&(pe?he.value>=J[0]&&he.value<=J[J.length-1]:he.value<=J[0])||ee==="inverted"&&(pe?he.value<=J[0]||he.value>=J[J.length-1]:he.value>=J[0]),t.jsxs(k.Fragment,{children:[t.jsx(g,{"data-index":ye,...gr,...!Ft(g)&&{markActive:Ne},style:{...It,...gr.style},className:Ke(gr.className,Ne&&xe.markActive)}),he.label!=null?t.jsx(_,{"aria-hidden":!0,"data-index":ye,...xr,...!Ft(_)&&{markLabelActive:Ne},style:{...It,...xr.style},className:Ke(xe.markLabel,xr.className,Ne&&xe.markLabelActive),children:he.label}):null]},ye)}),J.map((he,ye)=>{const br=Yt(he,s,l),It=Q[le].offset(br),Ne=Y==="off"?pi:hr;return t.jsx(Ne,{...!Ft(Ne)&&{valueLabelFormat:D,valueLabelDisplay:Y,value:typeof D=="function"?D(oe(he),ye):D,index:ye,open:fe===ye||ce===ye||Y==="on",disabled:y},...bn,children:t.jsx(fr,{"data-index":ye,...mr,className:Ke(xe.thumb,mr.className,ce===ye&&xe.active,re===ye&&xe.focusVisible),style:{...It,...Ee(ye),...mr.style},children:t.jsx(R,{"data-index":ye,"aria-label":B?B(ye):c,"aria-valuenow":oe(he),"aria-labelledby":d,"aria-valuetext":I?I(oe(he),ye):u,value:J[ye],...vn})})},ye)})]})});function hi(e){return Mr("MuiToggleButton",e)}const rt=zr("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Fa=k.createContext({}),Na=k.createContext(void 0);function mi(e,r){return r===void 0||e===void 0?!1:Array.isArray(r)?r.includes(e):e===r}const gi=e=>{const{classes:r,fullWidth:a,selected:n,disabled:i,size:c,color:u}=e,d={root:["root",n&&"selected",i&&"disabled",a&&"fullWidth",`size${Be(c)}`,u]};return Or(d,hi,r)},xi=He(_n,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[r.root,r[`size${Be(a.size)}`]]}})(Xe(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${rt.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:qe(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${rt.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:qe(e.palette.text.primary,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:qe(e.palette.text.primary,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:qe(e.palette.text.primary,e.palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(Jt()).map(([r])=>({props:{color:r},style:{[`&.${rt.selected}`]:{color:(e.vars||e).palette[r].main,backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:qe(e.palette[r].main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:qe(e.palette[r].main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:qe(e.palette[r].main,e.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),sa=k.forwardRef(function(r,a){const{value:n,...i}=k.useContext(Fa),c=k.useContext(Na),u=wn({...i,selected:mi(r.value,n)},r),d=Dr({props:u,name:"MuiToggleButton"}),{children:m,className:b,color:v="standard",disabled:S=!1,disableFocusRipple:j=!1,fullWidth:h=!1,onChange:x,onClick:y,selected:B,size:I="medium",value:T,...l}=d,s={...d,color:v,disabled:S,disableFocusRipple:j,fullWidth:h,size:I},o=gi(s),p=w=>{y&&(y(w,T),w.defaultPrevented)||x&&x(w,T)},f=c||"";return t.jsx(xi,{className:Ke(i.className,o.root,b,f),disabled:S,focusRipple:!j,ref:a,onClick:p,onChange:x,value:T,ownerState:s,"aria-pressed":B,...l,children:m})});function bi(e){return Mr("MuiToggleButtonGroup",e)}const ae=zr("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),vi=e=>{const{classes:r,orientation:a,fullWidth:n,disabled:i}=e,c={root:["root",a,n&&"fullWidth"],grouped:["grouped",`grouped${Be(a)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Or(c,bi,r)},yi=He("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[{[`& .${ae.grouped}`]:r.grouped},{[`& .${ae.grouped}`]:r[`grouped${Be(a.orientation)}`]},{[`& .${ae.firstButton}`]:r.firstButton},{[`& .${ae.lastButton}`]:r.lastButton},{[`& .${ae.middleButton}`]:r.middleButton},r.root,a.orientation==="vertical"&&r.vertical,a.fullWidth&&r.fullWidth]}})(Xe(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${ae.grouped}`]:{[`&.${ae.selected} + .${ae.grouped}.${ae.selected}`]:{borderTop:0,marginTop:0}},[`& .${ae.firstButton},& .${ae.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${ae.lastButton},& .${ae.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${ae.lastButton}.${rt.disabled},& .${ae.middleButton}.${rt.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${ae.grouped}`]:{[`&.${ae.selected} + .${ae.grouped}.${ae.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${ae.firstButton},& .${ae.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${ae.lastButton},& .${ae.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${ae.lastButton}.${rt.disabled},& .${ae.middleButton}.${rt.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),ji=k.forwardRef(function(r,a){const n=Dr({props:r,name:"MuiToggleButtonGroup"}),{children:i,className:c,color:u="standard",disabled:d=!1,exclusive:m=!1,fullWidth:b=!1,onChange:v,orientation:S="horizontal",size:j="medium",value:h,...x}=n,y={...n,disabled:d,fullWidth:b,orientation:S,size:j},B=vi(y),I=k.useCallback((f,w)=>{if(!v)return;const U=h&&h.indexOf(w);let X;h&&U>=0?(X=h.slice(),X.splice(U,1)):X=h?h.concat(w):[w],v(f,X)},[v,h]),T=k.useCallback((f,w)=>{v&&v(f,h===w?null:w)},[v,h]),l=k.useMemo(()=>({className:B.grouped,onChange:m?T:I,value:h,size:j,fullWidth:b,color:u,disabled:d}),[B.grouped,m,T,I,h,j,b,u,d]),s=Wn(i),o=s.length,p=f=>{const w=f===0,U=f===o-1;return w&&U?"":w?B.firstButton:U?B.lastButton:B.middleButton};return t.jsx(yi,{role:"group",className:Ke(B.root,c),ref:a,ownerState:y,...x,children:t.jsx(Fa.Provider,{value:l,children:s.map((f,w)=>t.jsx(Na.Provider,{value:p(w),children:f},w))})})}),ki=Fe(t.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList"),Ci=Fe(t.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule"),oa=Fe(t.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),_i=dt().shape({name:We().min(2,"Too Short!").max(100,"Too Long!").required("Required"),prefix:We().matches(/^[A-Za-z0-9]{3}$/,"Must be exactly 3 alphanumeric characters").required("Required"),description:We().nullable()}),wi=({open:e,handleClose:r})=>{const a=Sn();return t.jsxs(ot,{open:e,onClose:r,children:[t.jsx(gt,{children:"Add New Category"}),t.jsx(er,{initialValues:{name:"",prefix:"",description:""},validationSchema:_i,onSubmit:async(n,{setSubmitting:i,resetForm:c})=>{try{await a.mutateAsync(n),c(),r()}catch(u){console.error("Error creating category:",u)}finally{i(!1)}},children:({errors:n,touched:i,isSubmitting:c})=>t.jsxs(tr,{children:[t.jsxs(xt,{children:[t.jsx(je,{as:se,name:"name",label:"Category Name",fullWidth:!0,margin:"normal",error:i.name&&n.name,helperText:i.name&&n.name}),t.jsx(je,{as:se,name:"prefix",label:"Category Prefix (3 characters)",fullWidth:!0,margin:"normal",error:i.prefix&&n.prefix,helperText:i.prefix&&n.prefix}),t.jsx(je,{as:se,name:"description",label:"Description",fullWidth:!0,margin:"normal",multiline:!0,rows:3,error:i.description&&n.description,helperText:i.description&&n.description})]}),t.jsxs(bt,{children:[t.jsx(ue,{onClick:r,children:"Cancel"}),t.jsx(ue,{type:"submit",disabled:c,variant:"contained",color:"primary",children:c?"Adding...":"Add Category"})]})]})})]})};var we=function(){return we=Object.assign||function(r){for(var a,n=1,i=arguments.length;n<i;n++){a=arguments[n];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c])}return r},we.apply(this,arguments)};function Qt(e,r,a){if(a||arguments.length===2)for(var n=0,i=r.length,c;n<i;n++)(c||!(n in r))&&(c||(c=Array.prototype.slice.call(r,0,n)),c[n]=r[n]);return e.concat(c||Array.prototype.slice.call(r))}var ne="-ms-",_t="-moz-",K="-webkit-",qa="comm",sr="rule",Wr="decl",Si="@import",Va="@keyframes",Pi="@layer",Wa=Math.abs,Gr=String.fromCharCode,$r=Object.assign;function Ti(e,r){return be(e,0)^45?(((r<<2^be(e,0))<<2^be(e,1))<<2^be(e,2))<<2^be(e,3):0}function Ga(e){return e.trim()}function Ve(e,r){return(e=r.exec(e))?e[0]:e}function M(e,r,a){return e.replace(r,a)}function Nt(e,r,a){return e.indexOf(r,a)}function be(e,r){return e.charCodeAt(r)|0}function ut(e,r,a){return e.slice(r,a)}function De(e){return e.length}function Ha(e){return e.length}function kt(e,r){return r.push(e),e}function $i(e,r){return e.map(r).join("")}function ca(e,r){return e.filter(function(a){return!Ve(a,r)})}var or=1,pt=1,Ua=0,Le=0,me=0,vt="";function cr(e,r,a,n,i,c,u,d){return{value:e,root:r,parent:a,type:n,props:i,children:c,line:or,column:pt,length:u,return:"",siblings:d}}function Ye(e,r){return $r(cr("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},r)}function ct(e){for(;e.root;)e=Ye(e.root,{children:[e]});kt(e,e.siblings)}function Ai(){return me}function Ii(){return me=Le>0?be(vt,--Le):0,pt--,me===10&&(pt=1,or--),me}function ze(){return me=Le<Ua?be(vt,Le++):0,pt++,me===10&&(pt=1,or++),me}function nt(){return be(vt,Le)}function qt(){return Le}function lr(e,r){return ut(vt,e,r)}function Ar(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Bi(e){return or=pt=1,Ua=De(vt=e),Le=0,[]}function Ri(e){return vt="",e}function kr(e){return Ga(lr(Le-1,Ir(e===91?e+2:e===40?e+1:e)))}function Li(e){for(;(me=nt())&&me<33;)ze();return Ar(e)>2||Ar(me)>3?"":" "}function Ei(e,r){for(;--r&&ze()&&!(me<48||me>102||me>57&&me<65||me>70&&me<97););return lr(e,qt()+(r<6&&nt()==32&&ze()==32))}function Ir(e){for(;ze();)switch(me){case e:return Le;case 34:case 39:e!==34&&e!==39&&Ir(me);break;case 40:e===41&&Ir(e);break;case 92:ze();break}return Le}function zi(e,r){for(;ze()&&e+me!==57;)if(e+me===84&&nt()===47)break;return"/*"+lr(r,Le-1)+"*"+Gr(e===47?e:ze())}function Mi(e){for(;!Ar(nt());)ze();return lr(e,Le)}function Di(e){return Ri(Vt("",null,null,null,[""],e=Bi(e),0,[0],e))}function Vt(e,r,a,n,i,c,u,d,m){for(var b=0,v=0,S=u,j=0,h=0,x=0,y=1,B=1,I=1,T=0,l="",s=i,o=c,p=n,f=l;B;)switch(x=T,T=ze()){case 40:if(x!=108&&be(f,S-1)==58){Nt(f+=M(kr(T),"&","&\f"),"&\f",Wa(b?d[b-1]:0))!=-1&&(I=-1);break}case 34:case 39:case 91:f+=kr(T);break;case 9:case 10:case 13:case 32:f+=Li(x);break;case 92:f+=Ei(qt()-1,7);continue;case 47:switch(nt()){case 42:case 47:kt(Oi(zi(ze(),qt()),r,a,m),m);break;default:f+="/"}break;case 123*y:d[b++]=De(f)*I;case 125*y:case 59:case 0:switch(T){case 0:case 125:B=0;case 59+v:I==-1&&(f=M(f,/\f/g,"")),h>0&&De(f)-S&&kt(h>32?da(f+";",n,a,S-1,m):da(M(f," ","")+";",n,a,S-2,m),m);break;case 59:f+=";";default:if(kt(p=la(f,r,a,b,v,i,d,l,s=[],o=[],S,c),c),T===123)if(v===0)Vt(f,r,p,p,s,c,S,d,o);else switch(j===99&&be(f,3)===110?100:j){case 100:case 108:case 109:case 115:Vt(e,p,p,n&&kt(la(e,p,p,0,0,i,d,l,i,s=[],S,o),o),i,o,S,d,n?s:o);break;default:Vt(f,p,p,p,[""],o,0,d,o)}}b=v=h=0,y=I=1,l=f="",S=u;break;case 58:S=1+De(f),h=x;default:if(y<1){if(T==123)--y;else if(T==125&&y++==0&&Ii()==125)continue}switch(f+=Gr(T),T*y){case 38:I=v>0?1:(f+="\f",-1);break;case 44:d[b++]=(De(f)-1)*I,I=1;break;case 64:nt()===45&&(f+=kr(ze())),j=nt(),v=S=De(l=f+=Mi(qt())),T++;break;case 45:x===45&&De(f)==2&&(y=0)}}return c}function la(e,r,a,n,i,c,u,d,m,b,v,S){for(var j=i-1,h=i===0?c:[""],x=Ha(h),y=0,B=0,I=0;y<n;++y)for(var T=0,l=ut(e,j+1,j=Wa(B=u[y])),s=e;T<x;++T)(s=Ga(B>0?h[T]+" "+l:M(l,/&\f/g,h[T])))&&(m[I++]=s);return cr(e,r,a,i===0?sr:d,m,b,v,S)}function Oi(e,r,a,n){return cr(e,r,a,qa,Gr(Ai()),ut(e,2,-2),0,n)}function da(e,r,a,n,i){return cr(e,r,a,Wr,ut(e,0,n),ut(e,n+1,-1),n,i)}function Ya(e,r,a){switch(Ti(e,r)){case 5103:return K+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return K+e+e;case 4789:return _t+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return K+e+_t+e+ne+e+e;case 5936:switch(be(e,r+11)){case 114:return K+e+ne+M(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return K+e+ne+M(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return K+e+ne+M(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return K+e+ne+e+e;case 6165:return K+e+ne+"flex-"+e+e;case 5187:return K+e+M(e,/(\w+).+(:[^]+)/,K+"box-$1$2"+ne+"flex-$1$2")+e;case 5443:return K+e+ne+"flex-item-"+M(e,/flex-|-self/g,"")+(Ve(e,/flex-|baseline/)?"":ne+"grid-row-"+M(e,/flex-|-self/g,""))+e;case 4675:return K+e+ne+"flex-line-pack"+M(e,/align-content|flex-|-self/g,"")+e;case 5548:return K+e+ne+M(e,"shrink","negative")+e;case 5292:return K+e+ne+M(e,"basis","preferred-size")+e;case 6060:return K+"box-"+M(e,"-grow","")+K+e+ne+M(e,"grow","positive")+e;case 4554:return K+M(e,/([^-])(transform)/g,"$1"+K+"$2")+e;case 6187:return M(M(M(e,/(zoom-|grab)/,K+"$1"),/(image-set)/,K+"$1"),e,"")+e;case 5495:case 3959:return M(e,/(image-set\([^]*)/,K+"$1$`$1");case 4968:return M(M(e,/(.+:)(flex-)?(.*)/,K+"box-pack:$3"+ne+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+K+e+e;case 4200:if(!Ve(e,/flex-|baseline/))return ne+"grid-column-align"+ut(e,r)+e;break;case 2592:case 3360:return ne+M(e,"template-","")+e;case 4384:case 3616:return a&&a.some(function(n,i){return r=i,Ve(n.props,/grid-\w+-end/)})?~Nt(e+(a=a[r].value),"span",0)?e:ne+M(e,"-start","")+e+ne+"grid-row-span:"+(~Nt(a,"span",0)?Ve(a,/\d+/):+Ve(a,/\d+/)-+Ve(e,/\d+/))+";":ne+M(e,"-start","")+e;case 4896:case 4128:return a&&a.some(function(n){return Ve(n.props,/grid-\w+-start/)})?e:ne+M(M(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return M(e,/(.+)-inline(.+)/,K+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(De(e)-1-r>6)switch(be(e,r+1)){case 109:if(be(e,r+4)!==45)break;case 102:return M(e,/(.+:)(.+)-([^]+)/,"$1"+K+"$2-$3$1"+_t+(be(e,r+3)==108?"$3":"$2-$3"))+e;case 115:return~Nt(e,"stretch",0)?Ya(M(e,"stretch","fill-available"),r,a)+e:e}break;case 5152:case 5920:return M(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,c,u,d,m,b){return ne+i+":"+c+b+(u?ne+i+"-span:"+(d?m:+m-+c)+b:"")+e});case 4949:if(be(e,r+6)===121)return M(e,":",":"+K)+e;break;case 6444:switch(be(e,be(e,14)===45?18:11)){case 120:return M(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+K+(be(e,14)===45?"inline-":"")+"box$3$1"+K+"$2$3$1"+ne+"$2box$3")+e;case 100:return M(e,":",":"+ne)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return M(e,"scroll-","scroll-snap-")+e}return e}function Kt(e,r){for(var a="",n=0;n<e.length;n++)a+=r(e[n],n,e,r)||"";return a}function Fi(e,r,a,n){switch(e.type){case Pi:if(e.children.length)break;case Si:case Wr:return e.return=e.return||e.value;case qa:return"";case Va:return e.return=e.value+"{"+Kt(e.children,n)+"}";case sr:if(!De(e.value=e.props.join(",")))return""}return De(a=Kt(e.children,n))?e.return=e.value+"{"+a+"}":""}function Ni(e){var r=Ha(e);return function(a,n,i,c){for(var u="",d=0;d<r;d++)u+=e[d](a,n,i,c)||"";return u}}function qi(e){return function(r){r.root||(r=r.return)&&e(r)}}function Vi(e,r,a,n){if(e.length>-1&&!e.return)switch(e.type){case Wr:e.return=Ya(e.value,e.length,a);return;case Va:return Kt([Ye(e,{value:M(e.value,"@","@"+K)})],n);case sr:if(e.length)return $i(a=e.props,function(i){switch(Ve(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ct(Ye(e,{props:[M(i,/:(read-\w+)/,":"+_t+"$1")]})),ct(Ye(e,{props:[i]})),$r(e,{props:ca(a,n)});break;case"::placeholder":ct(Ye(e,{props:[M(i,/:(plac\w+)/,":"+K+"input-$1")]})),ct(Ye(e,{props:[M(i,/:(plac\w+)/,":"+_t+"$1")]})),ct(Ye(e,{props:[M(i,/:(plac\w+)/,ne+"input-$1")]})),ct(Ye(e,{props:[i]})),$r(e,{props:ca(a,n)});break}return""})}}var Wi={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$e={},ft=typeof process<"u"&&$e!==void 0&&($e.REACT_APP_SC_ATTR||$e.SC_ATTR)||"data-styled",Qa="active",Ka="data-styled-version",dr="6.1.13",Hr=`/*!sc*/
`,Xt=typeof window<"u"&&"HTMLElement"in window,Gi=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&$e!==void 0&&$e.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&$e.REACT_APP_SC_DISABLE_SPEEDY!==""?$e.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&$e.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&$e!==void 0&&$e.SC_DISABLE_SPEEDY!==void 0&&$e.SC_DISABLE_SPEEDY!==""&&$e.SC_DISABLE_SPEEDY!=="false"&&$e.SC_DISABLE_SPEEDY),ur=Object.freeze([]),ht=Object.freeze({});function Hi(e,r,a){return a===void 0&&(a=ht),e.theme!==a.theme&&e.theme||r||a.theme}var Xa=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Ui=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Yi=/(^-|-$)/g;function ua(e){return e.replace(Ui,"-").replace(Yi,"")}var Qi=/(a)(d)/gi,Mt=52,pa=function(e){return String.fromCharCode(e+(e>25?39:97))};function Br(e){var r,a="";for(r=Math.abs(e);r>Mt;r=r/Mt|0)a=pa(r%Mt)+a;return(pa(r%Mt)+a).replace(Qi,"$1-$2")}var Cr,Za=5381,lt=function(e,r){for(var a=r.length;a;)e=33*e^r.charCodeAt(--a);return e},Ja=function(e){return lt(Za,e)};function Ki(e){return Br(Ja(e)>>>0)}function Xi(e){return e.displayName||e.name||"Component"}function _r(e){return typeof e=="string"&&!0}var en=typeof Symbol=="function"&&Symbol.for,tn=en?Symbol.for("react.memo"):60115,Zi=en?Symbol.for("react.forward_ref"):60112,Ji={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},es={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},rn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ts=((Cr={})[Zi]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Cr[tn]=rn,Cr);function fa(e){return("type"in(r=e)&&r.type.$$typeof)===tn?rn:"$$typeof"in e?ts[e.$$typeof]:Ji;var r}var rs=Object.defineProperty,as=Object.getOwnPropertyNames,ha=Object.getOwnPropertySymbols,ns=Object.getOwnPropertyDescriptor,is=Object.getPrototypeOf,ma=Object.prototype;function an(e,r,a){if(typeof r!="string"){if(ma){var n=is(r);n&&n!==ma&&an(e,n,a)}var i=as(r);ha&&(i=i.concat(ha(r)));for(var c=fa(e),u=fa(r),d=0;d<i.length;++d){var m=i[d];if(!(m in es||a&&a[m]||u&&m in u||c&&m in c)){var b=ns(r,m);try{rs(e,m,b)}catch{}}}}return e}function mt(e){return typeof e=="function"}function Ur(e){return typeof e=="object"&&"styledComponentId"in e}function at(e,r){return e&&r?"".concat(e," ").concat(r):e||r||""}function ga(e,r){if(e.length===0)return"";for(var a=e[0],n=1;n<e.length;n++)a+=e[n];return a}function St(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Rr(e,r,a){if(a===void 0&&(a=!1),!a&&!St(e)&&!Array.isArray(e))return r;if(Array.isArray(r))for(var n=0;n<r.length;n++)e[n]=Rr(e[n],r[n]);else if(St(r))for(var n in r)e[n]=Rr(e[n],r[n]);return e}function Yr(e,r){Object.defineProperty(e,"toString",{value:r})}function Pt(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var ss=function(){function e(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return e.prototype.indexOfGroup=function(r){for(var a=0,n=0;n<r;n++)a+=this.groupSizes[n];return a},e.prototype.insertRules=function(r,a){if(r>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,c=i;r>=c;)if((c<<=1)<0)throw Pt(16,"".concat(r));this.groupSizes=new Uint32Array(c),this.groupSizes.set(n),this.length=c;for(var u=i;u<c;u++)this.groupSizes[u]=0}for(var d=this.indexOfGroup(r+1),m=(u=0,a.length);u<m;u++)this.tag.insertRule(d,a[u])&&(this.groupSizes[r]++,d++)},e.prototype.clearGroup=function(r){if(r<this.length){var a=this.groupSizes[r],n=this.indexOfGroup(r),i=n+a;this.groupSizes[r]=0;for(var c=n;c<i;c++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(r){var a="";if(r>=this.length||this.groupSizes[r]===0)return a;for(var n=this.groupSizes[r],i=this.indexOfGroup(r),c=i+n,u=i;u<c;u++)a+="".concat(this.tag.getRule(u)).concat(Hr);return a},e}(),Wt=new Map,Zt=new Map,Gt=1,Dt=function(e){if(Wt.has(e))return Wt.get(e);for(;Zt.has(Gt);)Gt++;var r=Gt++;return Wt.set(e,r),Zt.set(r,e),r},os=function(e,r){Gt=r+1,Wt.set(e,r),Zt.set(r,e)},cs="style[".concat(ft,"][").concat(Ka,'="').concat(dr,'"]'),ls=new RegExp("^".concat(ft,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ds=function(e,r,a){for(var n,i=a.split(","),c=0,u=i.length;c<u;c++)(n=i[c])&&e.registerName(r,n)},us=function(e,r){for(var a,n=((a=r.textContent)!==null&&a!==void 0?a:"").split(Hr),i=[],c=0,u=n.length;c<u;c++){var d=n[c].trim();if(d){var m=d.match(ls);if(m){var b=0|parseInt(m[1],10),v=m[2];b!==0&&(os(v,b),ds(e,v,m[3]),e.getTag().insertRules(b,i)),i.length=0}else i.push(d)}}},xa=function(e){for(var r=document.querySelectorAll(cs),a=0,n=r.length;a<n;a++){var i=r[a];i&&i.getAttribute(ft)!==Qa&&(us(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function ps(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var nn=function(e){var r=document.head,a=e||r,n=document.createElement("style"),i=function(d){var m=Array.from(d.querySelectorAll("style[".concat(ft,"]")));return m[m.length-1]}(a),c=i!==void 0?i.nextSibling:null;n.setAttribute(ft,Qa),n.setAttribute(Ka,dr);var u=ps();return u&&n.setAttribute("nonce",u),a.insertBefore(n,c),n},fs=function(){function e(r){this.element=nn(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(a){if(a.sheet)return a.sheet;for(var n=document.styleSheets,i=0,c=n.length;i<c;i++){var u=n[i];if(u.ownerNode===a)return u}throw Pt(17)}(this.element),this.length=0}return e.prototype.insertRule=function(r,a){try{return this.sheet.insertRule(a,r),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},e.prototype.getRule=function(r){var a=this.sheet.cssRules[r];return a&&a.cssText?a.cssText:""},e}(),hs=function(){function e(r){this.element=nn(r),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(r,a){if(r<=this.length&&r>=0){var n=document.createTextNode(a);return this.element.insertBefore(n,this.nodes[r]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},e.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},e}(),ms=function(){function e(r){this.rules=[],this.length=0}return e.prototype.insertRule=function(r,a){return r<=this.length&&(this.rules.splice(r,0,a),this.length++,!0)},e.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},e.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},e}(),ba=Xt,gs={isServer:!Xt,useCSSOMInjection:!Gi},sn=function(){function e(r,a,n){r===void 0&&(r=ht),a===void 0&&(a={});var i=this;this.options=we(we({},gs),r),this.gs=a,this.names=new Map(n),this.server=!!r.isServer,!this.server&&Xt&&ba&&(ba=!1,xa(this)),Yr(this,function(){return function(c){for(var u=c.getTag(),d=u.length,m="",b=function(S){var j=function(I){return Zt.get(I)}(S);if(j===void 0)return"continue";var h=c.names.get(j),x=u.getGroup(S);if(h===void 0||!h.size||x.length===0)return"continue";var y="".concat(ft,".g").concat(S,'[id="').concat(j,'"]'),B="";h!==void 0&&h.forEach(function(I){I.length>0&&(B+="".concat(I,","))}),m+="".concat(x).concat(y,'{content:"').concat(B,'"}').concat(Hr)},v=0;v<d;v++)b(v);return m}(i)})}return e.registerId=function(r){return Dt(r)},e.prototype.rehydrate=function(){!this.server&&Xt&&xa(this)},e.prototype.reconstructWithOptions=function(r,a){return a===void 0&&(a=!0),new e(we(we({},this.options),r),this.gs,a&&this.names||void 0)},e.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(r=function(a){var n=a.useCSSOMInjection,i=a.target;return a.isServer?new ms(i):n?new fs(i):new hs(i)}(this.options),new ss(r)));var r},e.prototype.hasNameForId=function(r,a){return this.names.has(r)&&this.names.get(r).has(a)},e.prototype.registerName=function(r,a){if(Dt(r),this.names.has(r))this.names.get(r).add(a);else{var n=new Set;n.add(a),this.names.set(r,n)}},e.prototype.insertRules=function(r,a,n){this.registerName(r,a),this.getTag().insertRules(Dt(r),n)},e.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},e.prototype.clearRules=function(r){this.getTag().clearGroup(Dt(r)),this.clearNames(r)},e.prototype.clearTag=function(){this.tag=void 0},e}(),xs=/&/g,bs=/^\s*\/\/.*$/gm;function on(e,r){return e.map(function(a){return a.type==="rule"&&(a.value="".concat(r," ").concat(a.value),a.value=a.value.replaceAll(",",",".concat(r," ")),a.props=a.props.map(function(n){return"".concat(r," ").concat(n)})),Array.isArray(a.children)&&a.type!=="@keyframes"&&(a.children=on(a.children,r)),a})}function vs(e){var r,a,n,i=ht,c=i.options,u=c===void 0?ht:c,d=i.plugins,m=d===void 0?ur:d,b=function(j,h,x){return x.startsWith(a)&&x.endsWith(a)&&x.replaceAll(a,"").length>0?".".concat(r):j},v=m.slice();v.push(function(j){j.type===sr&&j.value.includes("&")&&(j.props[0]=j.props[0].replace(xs,a).replace(n,b))}),u.prefix&&v.push(Vi),v.push(Fi);var S=function(j,h,x,y){h===void 0&&(h=""),x===void 0&&(x=""),y===void 0&&(y="&"),r=y,a=h,n=new RegExp("\\".concat(a,"\\b"),"g");var B=j.replace(bs,""),I=Di(x||h?"".concat(x," ").concat(h," { ").concat(B," }"):B);u.namespace&&(I=on(I,u.namespace));var T=[];return Kt(I,Ni(v.concat(qi(function(l){return T.push(l)})))),T};return S.hash=m.length?m.reduce(function(j,h){return h.name||Pt(15),lt(j,h.name)},Za).toString():"",S}var ys=new sn,Lr=vs(),cn=wt.createContext({shouldForwardProp:void 0,styleSheet:ys,stylis:Lr});cn.Consumer;wt.createContext(void 0);function va(){return k.useContext(cn)}var js=function(){function e(r,a){var n=this;this.inject=function(i,c){c===void 0&&(c=Lr);var u=n.name+c.hash;i.hasNameForId(n.id,u)||i.insertRules(n.id,u,c(n.rules,u,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=a,Yr(this,function(){throw Pt(12,String(n.name))})}return e.prototype.getName=function(r){return r===void 0&&(r=Lr),this.name+r.hash},e}(),ks=function(e){return e>="A"&&e<="Z"};function ya(e){for(var r="",a=0;a<e.length;a++){var n=e[a];if(a===1&&n==="-"&&e[0]==="-")return e;ks(n)?r+="-"+n.toLowerCase():r+=n}return r.startsWith("ms-")?"-"+r:r}var ln=function(e){return e==null||e===!1||e===""},dn=function(e){var r,a,n=[];for(var i in e){var c=e[i];e.hasOwnProperty(i)&&!ln(c)&&(Array.isArray(c)&&c.isCss||mt(c)?n.push("".concat(ya(i),":"),c,";"):St(c)?n.push.apply(n,Qt(Qt(["".concat(i," {")],dn(c),!1),["}"],!1)):n.push("".concat(ya(i),": ").concat((r=i,(a=c)==null||typeof a=="boolean"||a===""?"":typeof a!="number"||a===0||r in Wi||r.startsWith("--")?String(a).trim():"".concat(a,"px")),";")))}return n};function it(e,r,a,n){if(ln(e))return[];if(Ur(e))return[".".concat(e.styledComponentId)];if(mt(e)){if(!mt(c=e)||c.prototype&&c.prototype.isReactComponent||!r)return[e];var i=e(r);return it(i,r,a,n)}var c;return e instanceof js?a?(e.inject(a,n),[e.getName(n)]):[e]:St(e)?dn(e):Array.isArray(e)?Array.prototype.concat.apply(ur,e.map(function(u){return it(u,r,a,n)})):[e.toString()]}function Cs(e){for(var r=0;r<e.length;r+=1){var a=e[r];if(mt(a)&&!Ur(a))return!1}return!0}var _s=Ja(dr),ws=function(){function e(r,a,n){this.rules=r,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&Cs(r),this.componentId=a,this.baseHash=lt(_s,a),this.baseStyle=n,sn.registerId(a)}return e.prototype.generateAndInjectStyles=function(r,a,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,a,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&a.hasNameForId(this.componentId,this.staticRulesId))i=at(i,this.staticRulesId);else{var c=ga(it(this.rules,r,a,n)),u=Br(lt(this.baseHash,c)>>>0);if(!a.hasNameForId(this.componentId,u)){var d=n(c,".".concat(u),void 0,this.componentId);a.insertRules(this.componentId,u,d)}i=at(i,u),this.staticRulesId=u}else{for(var m=lt(this.baseHash,n.hash),b="",v=0;v<this.rules.length;v++){var S=this.rules[v];if(typeof S=="string")b+=S;else if(S){var j=ga(it(S,r,a,n));m=lt(m,j+v),b+=j}}if(b){var h=Br(m>>>0);a.hasNameForId(this.componentId,h)||a.insertRules(this.componentId,h,n(b,".".concat(h),void 0,this.componentId)),i=at(i,h)}}return i},e}(),un=wt.createContext(void 0);un.Consumer;var wr={};function Ss(e,r,a){var n=Ur(e),i=e,c=!_r(e),u=r.attrs,d=u===void 0?ur:u,m=r.componentId,b=m===void 0?function(s,o){var p=typeof s!="string"?"sc":ua(s);wr[p]=(wr[p]||0)+1;var f="".concat(p,"-").concat(Ki(dr+p+wr[p]));return o?"".concat(o,"-").concat(f):f}(r.displayName,r.parentComponentId):m,v=r.displayName,S=v===void 0?function(s){return _r(s)?"styled.".concat(s):"Styled(".concat(Xi(s),")")}(e):v,j=r.displayName&&r.componentId?"".concat(ua(r.displayName),"-").concat(r.componentId):r.componentId||b,h=n&&i.attrs?i.attrs.concat(d).filter(Boolean):d,x=r.shouldForwardProp;if(n&&i.shouldForwardProp){var y=i.shouldForwardProp;if(r.shouldForwardProp){var B=r.shouldForwardProp;x=function(s,o){return y(s,o)&&B(s,o)}}else x=y}var I=new ws(a,j,n?i.componentStyle:void 0);function T(s,o){return function(p,f,w){var U=p.attrs,X=p.componentStyle,G=p.defaultProps,oe=p.foldedComponentIds,L=p.styledComponentId,E=p.target,W=wt.useContext(un),ee=va(),A=p.shouldForwardProp||ee.shouldForwardProp,Y=Hi(f,W,G)||ht,D=function(F,fe,ce){for(var le,re=we(we({},fe),{className:void 0,theme:ce}),pe=0;pe<F.length;pe+=1){var de=mt(le=F[pe])?le(re):le;for(var te in de)re[te]=te==="className"?at(re[te],de[te]):te==="style"?we(we({},re[te]),de[te]):de[te]}return fe.className&&(re.className=at(re.className,fe.className)),re}(U,f,Y),O=D.as||E,P={};for(var Q in D)D[Q]===void 0||Q[0]==="$"||Q==="as"||Q==="theme"&&D.theme===Y||(Q==="forwardedAs"?P.as=D.forwardedAs:A&&!A(Q,O)||(P[Q]=D[Q]));var Z=function(F,fe){var ce=va(),le=F.generateAndInjectStyles(fe,ce.styleSheet,ce.stylis);return le}(X,D),C=at(oe,L);return Z&&(C+=" "+Z),D.className&&(C+=" "+D.className),P[_r(O)&&!Xa.has(O)?"class":"className"]=C,P.ref=w,k.createElement(O,P)}(l,s,o)}T.displayName=S;var l=wt.forwardRef(T);return l.attrs=h,l.componentStyle=I,l.displayName=S,l.shouldForwardProp=x,l.foldedComponentIds=n?at(i.foldedComponentIds,i.styledComponentId):"",l.styledComponentId=j,l.target=n?i.target:e,Object.defineProperty(l,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(s){this._foldedDefaultProps=n?function(o){for(var p=[],f=1;f<arguments.length;f++)p[f-1]=arguments[f];for(var w=0,U=p;w<U.length;w++)Rr(o,U[w],!0);return o}({},i.defaultProps,s):s}}),Yr(l,function(){return".".concat(l.styledComponentId)}),c&&an(l,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),l}function ja(e,r){for(var a=[e[0]],n=0,i=r.length;n<i;n+=1)a.push(r[n],e[n+1]);return a}var ka=function(e){return Object.assign(e,{isCss:!0})};function pn(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];if(mt(e)||St(e))return ka(it(ja(ur,Qt([e],r,!0))));var n=e;return r.length===0&&n.length===1&&typeof n[0]=="string"?it(n):ka(it(ja(n,r)))}function Er(e,r,a){if(a===void 0&&(a=ht),!r)throw Pt(1,r);var n=function(i){for(var c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];return e(r,a,pn.apply(void 0,Qt([i],c,!1)))};return n.attrs=function(i){return Er(e,r,we(we({},a),{attrs:Array.prototype.concat(a.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return Er(e,r,we(we({},a),i))},n}var fn=function(e){return Er(Ss,e)},Tt=fn;Xa.forEach(function(e){Tt[e]=fn(e)});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var st=function(){return st=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++)for(var i in r=arguments[a])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e},st.apply(this,arguments)};function $t(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}var Ca,_a,wa,Sa,Pa,Ps=pn(Ca||(Ca=$t([`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`],[`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`])),"#0658c2","#666","#666","#666","#666","#666"),Ts=Tt.label(_a||(_a=$t([`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`],[`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`])),function(e){return e.overRide?"":Ps}),$s=Tt.div(wa||(wa=$t([`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.9;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`],[`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.9;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`])),"#666","#999"),As=Tt.div(Sa||(Sa=$t([`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`],[`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`])),function(e){return e.error?"red":"#666"}),Is=Tt.span(Pa||(Pa=$t([`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`],[`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`])),"#666"),Ta=function(e){return e/1024/1024},Bs=function(e){return e===void 0?"":e.map(function(r){return".".concat(r.toLowerCase())}).join(",")};function Rs(e){var r=e.types,a=e.minSize,n=e.maxSize;if(r){var i=r.toString(),c="";return n&&(c+="size >= ".concat(n,", ")),a&&(c+="size <= ".concat(a,", ")),t.jsx("span",st({title:"".concat(c,"types: ").concat(i),className:"file-types"},{children:i}),void 0)}return null}function Ls(){return t.jsxs("svg",st({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[t.jsx("path",{d:"M5.33317 6.66667H22.6665V16H25.3332V6.66667C25.3332 5.196 24.1372 4 22.6665 4H5.33317C3.8625 4 2.6665 5.196 2.6665 6.66667V22.6667C2.6665 24.1373 3.8625 25.3333 5.33317 25.3333H15.9998V22.6667H5.33317V6.66667Z",fill:"#0658C2"},void 0),t.jsx("path",{d:"M10.6665 14.6667L6.6665 20H21.3332L15.9998 12L11.9998 17.3333L10.6665 14.6667Z",fill:"#0658C2"},void 0),t.jsx("path",{d:"M25.3332 18.6667H22.6665V22.6667H18.6665V25.3333H22.6665V29.3333H25.3332V25.3333H29.3332V22.6667H25.3332V18.6667Z",fill:"#0658C2"},void 0)]}),void 0)}var Sr=0,Es=function(e,r,a,n,i,c){return a?t.jsx("span",{children:"File type/size error, Hovered on types!"},void 0):t.jsx(Is,{children:n?t.jsx("span",{children:"Upload disabled"},void 0):t.jsx(t.Fragment,e||r?{children:c?t.jsx(t.Fragment,{children:t.jsx("span",{children:c},void 0)},void 0):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Uploaded Successfully!"},void 0)," Upload another?"]},void 0)}:{children:t.jsxs(t.Fragment,i?{children:[t.jsx("span",{children:i.split(" ")[0]},void 0)," ",i.substr(i.indexOf(" ")+1)]}:{children:[t.jsx("span",{children:"Upload"},void 0)," or drop a file right here"]},void 0)},void 0)},void 0)},hn=function(e){var r=e.name,a=e.hoverTitle,n=e.types,i=e.handleChange,c=e.classes,u=e.children,d=e.maxSize,m=e.minSize,b=e.fileOrFiles,v=e.onSizeError,S=e.onTypeError,j=e.onSelect,h=e.onDrop,x=e.disabled,y=e.label,B=e.uploadedLabel,I=e.multiple,T=e.required,l=e.onDraggingStateChange,s=e.dropMessageStyle,o=e.ariaLabel,p=e.ariaDescribedby,f=k.useRef(null),w=k.useRef(null),U=k.useState(!1),X=U[0],G=U[1],oe=k.useState(null),L=oe[0],E=oe[1],W=k.useState(!1),ee=W[0],A=W[1],Y=function(P){return n&&!function(Q,Z){var C=Q.name.split(".").pop();return Z.map(function(F){return F.toLowerCase()}).includes(C.toLowerCase())}(P,n)?(A(!0),S&&S("File type is not supported"),!1):d&&Ta(P.size)>d?(A(!0),v&&v("File size is too big"),!1):!(m&&Ta(P.size)<m)||(A(!0),v&&v("File size is too small"),!1)},D=function(P){var Q=!1;if(P){if(P instanceof File)Q=!Y(P);else for(var Z=0;Z<P.length;Z++){var C=P[Z];Q=!Y(C)||Q}return!Q&&(i&&i(P),E(P),G(!0),A(!1),!0)}return!1},O=function(P){var Q=P.labelRef,Z=P.inputRef,C=P.multiple,F=P.handleChanges,fe=P.onDrop,ce=k.useState(!1),le=ce[0],re=ce[1],pe=k.useCallback(function(){Z.current.click()},[Z]),de=k.useCallback(function(V){V.preventDefault(),V.stopPropagation(),Sr++,V.dataTransfer.items&&V.dataTransfer.items.length!==0&&re(!0)},[]),te=k.useCallback(function(V){V.preventDefault(),V.stopPropagation(),--Sr>0||re(!1)},[]),J=k.useCallback(function(V){V.preventDefault(),V.stopPropagation()},[]),Se=k.useCallback(function(V){V.preventDefault(),V.stopPropagation(),re(!1),Sr=0;var Ee=V.dataTransfer.files;if(Ee&&Ee.length>0){var xe=C?Ee:Ee[0],Ze=F(xe);fe&&Ze&&fe(xe)}},[F]);return k.useEffect(function(){var V=Q.current;return V.addEventListener("click",pe),V.addEventListener("dragenter",de),V.addEventListener("dragleave",te),V.addEventListener("dragover",J),V.addEventListener("drop",Se),function(){V.removeEventListener("click",pe),V.removeEventListener("dragenter",de),V.removeEventListener("dragleave",te),V.removeEventListener("dragover",J),V.removeEventListener("drop",Se)}},[pe,de,te,J,Se,Q]),le}({labelRef:f,inputRef:w,multiple:I,handleChanges:D,onDrop:h});return k.useEffect(function(){l==null||l(O)},[O]),k.useEffect(function(){b?(G(!0),E(b)):(w.current&&(w.current.value=""),G(!1),E(null))},[b]),t.jsxs(Ts,st({overRide:u,className:"".concat(c||""," ").concat(x?"is-disabled":""),ref:f,htmlFor:r,onClick:function(P){P.preventDefault(),P.stopPropagation()},"aria-describedby":p,role:"button","aria-label":o},{children:[t.jsx("input",{onClick:function(P){P.stopPropagation(),w&&w.current&&(w.current.value="",w.current.click())},onChange:function(P){var Q=P.target.files,Z=I?Q:Q[0],C=D(Z);j&&C&&j(Z)},accept:Bs(n),ref:w,type:"file",id:r,name:r,disabled:x,multiple:I,required:T},void 0),O&&t.jsx($s,st({style:s},{children:t.jsx("span",{children:a||"Drop Here"},void 0)}),void 0),!u&&t.jsxs(t.Fragment,{children:[t.jsx(Ls,{},void 0),t.jsxs(As,st({error:ee},{children:[Es(L,X,ee,x,y,B),t.jsx(Rs,{types:n,minSize:m,maxSize:d},void 0)]}),void 0)]},void 0),u]}),void 0)};const zs=dt().shape({product_name:We().min(2,"Too Short!").max(100,"Too Long!").required("Required"),product_category_id:Qe().required("Required"),reorder_level:Qe().min(0,"Must be 0 or greater").required("Required"),product_type:We().oneOf(["raw","finished","custom"],"Invalid product type").required("Required"),product_image:Ra().nullable().test("fileSize","File is too large",e=>!e||e.size<=5e6),attributes:La().of(dt().shape({attribute_id:Qe().required("Required"),value:Qe().required("Required")}))}),Ms=["JPG","JPEG","PNG","GIF"],Ds=({open:e,handleClose:r,categories:a})=>{const n=Pn(),i=Aa(),{data:c=[]}=Ia(),[u,d]=k.useState(null),{refetch:m}=Fr(),b=(j,h)=>{j&&(h("product_image",j),d(URL.createObjectURL(j)))},v=()=>{r(),d(null)},S=(j,h,x)=>x.some((y,B)=>y.attribute_id===j&&B!==h);return t.jsxs(ot,{open:e,onClose:v,maxWidth:"md",fullWidth:!0,children:[t.jsx(gt,{children:"Add New Product"}),t.jsx(er,{initialValues:{product_name:"",product_category_id:"",reorder_level:0,product_type:"raw",product_image:null,attributes:[]},validationSchema:zs,onSubmit:async(j,{setSubmitting:h,resetForm:x})=>{try{const y=await n.mutateAsync(j);j.product_image&&await i.mutateAsync({id:y.data.id,image:j.product_image}),m(),d(null),x(),v(),ie.success("Successfully Created Product")}catch(y){ie.error("Something went wrong please try again"),console.error("Error creating product:",y)}finally{h(!1)}},children:({values:j,errors:h,touched:x,isSubmitting:y,setFieldValue:B})=>t.jsxs(tr,{children:[t.jsxs(xt,{children:[t.jsx(q,{sx:{maxWidth:500,mx:"auto",mt:2,mb:2},children:t.jsx(Ge,{variant:"outlined",sx:{p:3,borderStyle:"dashed",borderColor:"grey.400",backgroundColor:"grey.50","&:hover":{borderColor:"primary.main",cursor:"pointer"}},children:t.jsxs(q,{sx:{textAlign:"center"},children:[t.jsx(hn,{handleChange:I=>b(I,B),name:"product_image",label:"Upload or drop a Product Image",types:Ms,multiple:!1}),x.product_image&&h.product_image&&t.jsx(z,{color:"error",variant:"caption",display:"block",sx:{mt:1},children:h.product_image}),u&&t.jsx(Ge,{elevation:0,sx:{p:2,mt:2,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"grey.50",borderRadius:1},children:t.jsx(q,{sx:{width:"100%",height:200,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",borderRadius:1,bgcolor:"white"},children:t.jsx("img",{src:u,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})})]})})}),t.jsx(je,{as:se,name:"product_name",label:"Product Name",fullWidth:!0,margin:"normal",error:x.product_name&&h.product_name,helperText:x.product_name&&h.product_name}),t.jsx(je,{as:se,select:!0,name:"product_category_id",label:"Category",fullWidth:!0,margin:"normal",error:x.product_category_id&&h.product_category_id,helperText:x.product_category_id&&h.product_category_id,children:a.map(I=>t.jsx(Ae,{value:I.id,children:I.name},I.id))}),t.jsx(je,{as:se,name:"reorder_level",label:"Reorder Level",type:"number",fullWidth:!0,margin:"normal",error:x.reorder_level&&h.reorder_level,helperText:x.reorder_level&&h.reorder_level}),t.jsxs(je,{as:se,select:!0,name:"product_type",label:"Product Type",fullWidth:!0,margin:"normal",error:x.product_type&&h.product_type,helperText:x.product_type&&h.product_type,children:[t.jsx(Ae,{value:"raw",children:"Raw Material"}),t.jsx(Ae,{value:"finished",children:"Finished Product"}),t.jsx(Ae,{value:"custom",children:"Custom Product"})]}),t.jsx(Nr,{sx:{my:2}}),t.jsx(z,{variant:"subtitle1",gutterBottom:!0,children:"Product Attributes"}),t.jsx(Ea,{name:"attributes",children:({push:I,remove:T})=>t.jsxs(q,{children:[j.attributes.map((l,s)=>{var o,p,f,w,U,X,G,oe,L,E,W,ee,A,Y,D,O;return t.jsxs(q,{sx:{display:"flex",gap:2,mb:2},children:[t.jsx(je,{as:se,select:!0,name:`attributes.${s}.attribute_id`,label:"Attribute",fullWidth:!0,error:((p=(o=x.attributes)==null?void 0:o[s])==null?void 0:p.attribute_id)&&((w=(f=h.attributes)==null?void 0:f[s])==null?void 0:w.attribute_id),helperText:((X=(U=x.attributes)==null?void 0:U[s])==null?void 0:X.attribute_id)&&((oe=(G=h.attributes)==null?void 0:G[s])==null?void 0:oe.attribute_id),children:c.map(P=>t.jsxs(Ae,{disabled:S(P.id,s,j.attributes),value:P.id,children:[P.attribute_name," (",P.unit_of_measurement,")"]},P.id))}),t.jsx(je,{as:se,name:`attributes.${s}.value`,label:"Value",type:"number",fullWidth:!0,error:((E=(L=x.attributes)==null?void 0:L[s])==null?void 0:E.value)&&((ee=(W=h.attributes)==null?void 0:W[s])==null?void 0:ee.value),helperText:((Y=(A=x.attributes)==null?void 0:A[s])==null?void 0:Y.value)&&((O=(D=h.attributes)==null?void 0:D[s])==null?void 0:O.value)}),t.jsx(Ie,{onClick:()=>T(s),color:"error",children:t.jsx(qr,{})})]},s)}),t.jsx(ue,{type:"button",onClick:()=>I({attribute_id:"",value:""}),startIcon:t.jsx(Ct,{}),variant:"outlined",fullWidth:!0,children:"Add Attribute"})]})})]}),t.jsxs(bt,{children:[t.jsx(ue,{onClick:v,children:"Cancel"}),t.jsx(ue,{type:"submit",disabled:y,variant:"contained",color:"primary",children:y?"Adding...":"Add Product"})]})]})})]})},Os=dt().shape({attribute_name:We().required("Required").min(2,"Too Short!").max(100,"Too Long!"),unit_of_measurement:We().required("Required").max(50,"Too Long!")}),Fs=({open:e,handleClose:r})=>{const a=Tn();return t.jsxs(ot,{open:e,onClose:r,children:[t.jsx(gt,{children:"Add New Attribute"}),t.jsx(er,{initialValues:{attribute_name:"",unit_of_measurement:""},validationSchema:Os,onSubmit:async(n,{setSubmitting:i,resetForm:c})=>{try{await a.mutateAsync(n),c(),r()}catch(u){console.error("Error creating attribute:",u)}finally{i(!1)}},children:({errors:n,touched:i,isSubmitting:c})=>t.jsxs(tr,{children:[t.jsxs(xt,{children:[t.jsx(je,{as:se,name:"attribute_name",label:"Attribute Name",fullWidth:!0,margin:"normal",error:i.attribute_name&&n.attribute_name,helperText:i.attribute_name&&n.attribute_name}),t.jsx(je,{as:se,name:"unit_of_measurement",label:"Unit of Measurement",fullWidth:!0,margin:"normal",error:i.unit_of_measurement&&n.unit_of_measurement,helperText:i.unit_of_measurement&&n.unit_of_measurement})]}),t.jsxs(bt,{children:[t.jsx(ue,{onClick:r,children:"Cancel"}),t.jsx(ue,{type:"submit",disabled:c,variant:"contained",color:"primary",children:c?"Adding...":"Add Attribute"})]})]})})]})},Ns=dt().shape({product_name:We().min(2,"Too Short!").max(100,"Too Long!").required("Required"),product_category_id:Qe().required("Required"),reorder_level:Qe().min(0,"Must be 0 or greater").required("Required"),product_type:We().oneOf(["raw","finished","custom"],"Invalid product type").required("Required"),product_image:Ra().test("fileSize","File is too large",e=>!e||e.size<=5e6),attributes:La().of(dt().shape({attribute_id:Qe().required("Required"),value:Qe().required("Required")}))}),qs=["JPG","JPEG","PNG","GIF"],Vs=({open:e,handleClose:r,categories:a,product:n})=>{const i=$n(),c=Aa(),{data:u=[]}=Ia(),[d,m]=k.useState(null),{refetch:b}=Fr();k.useEffect(()=>{n!=null&&n.product_image&&m(Tr(n.product_image))},[n]);const v=(h,x)=>{h&&(x("product_image",h),m(URL.createObjectURL(h)))},S=()=>{r(),m(null)},j=(h,x,y)=>y.some((B,I)=>B.attribute_id===h&&I!==x);return n?t.jsxs(ot,{open:e,onClose:S,maxWidth:"md",fullWidth:!0,children:[t.jsx(gt,{children:"Edit Product"}),t.jsx(er,{initialValues:{product_name:n.product_name||"",product_category_id:n.product_category_id||"",reorder_level:n.reorder_level||0,product_type:n.product_type||"raw",attributes:n.attributes.map(h=>({attribute_id:h.id,value:parseFloat(h.pivot.value)}))||[]},validationSchema:Ns,onSubmit:async(h,{setSubmitting:x})=>{try{await i.mutateAsync({id:n.id,data:h}),h.product_image&&await c.mutateAsync({id:n.id,image:h.product_image}),b(),S(),ie.success("Successfully Edited Product")}catch(y){ie.error("Something went wrong please try again"),console.error("Error updating product:",y)}finally{x(!1)}},children:({values:h,errors:x,touched:y,isSubmitting:B,setFieldValue:I})=>t.jsxs(tr,{children:[t.jsxs(xt,{children:[t.jsx(q,{sx:{maxWidth:500,mx:"auto",mt:2,mb:2},children:t.jsx(Ge,{variant:"outlined",sx:{p:3,borderStyle:"dashed",borderColor:"grey.400",backgroundColor:"grey.50","&:hover":{borderColor:"primary.main",cursor:"pointer"}},children:t.jsxs(q,{sx:{textAlign:"center"},children:[t.jsx(hn,{handleChange:T=>v(T,I),name:"product_image",label:"Upload or drop a Product Image",types:qs,multiple:!1}),d&&t.jsx(Ge,{elevation:0,sx:{p:2,mt:2,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"grey.50",borderRadius:1},children:t.jsx(q,{sx:{width:"100%",height:200,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",borderRadius:1,bgcolor:"white"},children:t.jsx("img",{src:d,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})})]})})}),t.jsx(je,{as:se,name:"product_name",label:"Product Name",fullWidth:!0,margin:"normal",error:y.product_name&&x.product_name,helperText:y.product_name&&x.product_name}),t.jsx(je,{as:se,select:!0,name:"product_category_id",label:"Category",fullWidth:!0,margin:"normal",error:y.product_category_id&&x.product_category_id,helperText:y.product_category_id&&x.product_category_id,children:a.map(T=>t.jsx(Ae,{value:T.id,children:T.name},T.id))}),t.jsx(je,{as:se,name:"reorder_level",label:"Reorder Level",type:"number",fullWidth:!0,margin:"normal",error:y.reorder_level&&x.reorder_level,helperText:y.reorder_level&&x.reorder_level}),t.jsxs(je,{as:se,select:!0,name:"product_type",label:"Product Type",fullWidth:!0,margin:"normal",error:y.product_type&&x.product_type,helperText:y.product_type&&x.product_type,children:[t.jsx(Ae,{value:"raw",children:"Raw Material"}),t.jsx(Ae,{value:"finished",children:"Finished Product"}),t.jsx(Ae,{value:"custom",children:"Custom Product"})]}),t.jsx(Nr,{sx:{my:2}}),t.jsx(z,{variant:"subtitle1",gutterBottom:!0,children:"Product Attributes"}),t.jsx(Ea,{name:"attributes",children:({push:T,remove:l})=>t.jsxs(q,{children:[h.attributes.map((s,o)=>{var p,f,w,U,X,G,oe,L,E,W,ee,A,Y,D,O,P,Q;return t.jsxs(q,{sx:{display:"flex",gap:2,mb:2},children:[t.jsx(je,{as:se,select:!0,name:`attributes.${o}.attribute_id`,label:"Attribute",fullWidth:!0,error:((f=(p=y.attributes)==null?void 0:p[o])==null?void 0:f.attribute_id)&&((U=(w=x.attributes)==null?void 0:w[o])==null?void 0:U.attribute_id),helperText:((G=(X=y.attributes)==null?void 0:X[o])==null?void 0:G.attribute_id)&&((L=(oe=x.attributes)==null?void 0:oe[o])==null?void 0:L.attribute_id),children:u.map(Z=>t.jsxs(Ae,{value:Z.id,disabled:j(Z.id,o,h.attributes),children:[Z.attribute_name," (",Z.unit_of_measurement,")"]},Z.id))}),t.jsx(je,{as:se,name:`attributes.${o}.value`,label:`Value ${((E=u.find(Z=>Z.id===s.attribute_id))==null?void 0:E.unit_of_measurement)||""}`,type:"number",fullWidth:!0,error:((ee=(W=y.attributes)==null?void 0:W[o])==null?void 0:ee.value)&&((Y=(A=x.attributes)==null?void 0:A[o])==null?void 0:Y.value),helperText:((O=(D=y.attributes)==null?void 0:D[o])==null?void 0:O.value)&&((Q=(P=x.attributes)==null?void 0:P[o])==null?void 0:Q.value)}),t.jsx(Ie,{onClick:()=>l(o),color:"error",children:t.jsx(qr,{})})]},o)}),t.jsx(ue,{type:"button",onClick:()=>T({attribute_id:"",value:""}),startIcon:t.jsx(Ct,{}),variant:"outlined",fullWidth:!0,disabled:h.attributes.length>=u.length,children:"Add Attribute"})]})})]}),t.jsxs(bt,{children:[t.jsx(ue,{onClick:S,children:"Cancel"}),t.jsx(ue,{type:"submit",disabled:B,variant:"contained",color:"primary",children:B?"Updating...":"Update Product"})]})]})})]}):null},Ws=()=>t.jsx(ke,{item:!0,xs:12,sm:6,md:4,lg:3,children:t.jsxs(et,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[t.jsx(_e,{variant:"rectangular",height:200}),t.jsxs(tt,{children:[t.jsx(_e,{variant:"text",sx:{fontSize:"1.25rem",mb:1}}),t.jsx(_e,{variant:"text",width:"60%"}),t.jsx(_e,{variant:"text",width:"40%"}),t.jsx(_e,{variant:"text",width:"70%"}),t.jsx(_e,{variant:"text",width:"80%"})]})]})}),Gs=()=>t.jsxs(Oe,{children:[t.jsx($,{children:t.jsx(_e,{variant:"rectangular",width:50,height:50,sx:{borderRadius:1}})}),t.jsx($,{children:t.jsx(_e,{variant:"text",width:100})}),t.jsx($,{children:t.jsx(_e,{variant:"text",width:150})}),t.jsx($,{children:t.jsx(_e,{variant:"text",width:100})}),t.jsx($,{children:t.jsx(_e,{variant:"text",width:200})}),t.jsx($,{align:"right",children:t.jsx(_e,{variant:"text",width:80})}),t.jsx($,{align:"right",children:t.jsxs(q,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[t.jsx(_e,{variant:"circular",width:32,height:32}),t.jsx(_e,{variant:"circular",width:32,height:32})]})})]}),Hs=e=>{if(!e)return"default";switch(e.toLowerCase()){case"aluminum":return"#1976d2";case"breezeway":return"#2e7d32";case"glass":return"#0288d1";case"hardware":return"#d32f2f";case"accessory":return"#f57c00";case"lock":return"#7b1fa2";case"frame":return"#c2185b";case"track":return"#00796b";case"paint":return"#fbc02d";default:return"#9e9e9e"}},Us=({category:e})=>{if(!e||!e.name)return t.jsx($,{children:"-"});const r=Hs(e.name);return t.jsx(Ht,{label:e.name,size:"small",sx:{backgroundColor:r,color:r==="#fbc02d"?"rgba(0, 0, 0, 0.87)":"white",fontWeight:500}})},Ys=Fe(t.jsx("path",{d:"M7.5 5.6 10 7 8.6 4.5 10 2 7.5 3.4 5 2l1.4 2.5L5 7zm12 9.8L17 14l1.4 2.5L17 19l2.5-1.4L22 19l-1.4-2.5L22 14zM22 2l-2.5 1.4L17 2l1.4 2.5L17 7l2.5-1.4L22 7l-1.4-2.5zm-7.63 5.29a.996.996 0 0 0-1.41 0L1.29 18.96c-.39.39-.39 1.02 0 1.41l2.34 2.34c.39.39 1.02.39 1.41 0L16.7 11.05c.39-.39.39-1.02 0-1.41zm-1.03 5.49-2.12-2.12 2.44-2.44 2.12 2.12z"}),"AutoFixHigh"),Qr=Fe(t.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),Qs=Fe(t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),Ks=Fe(t.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}),"Pause"),Xs=Fe(t.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),Zs=Fe(t.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m-8 6H8v1h3c.55 0 1 .45 1 1v3c0 .55-.45 1-1 1h-1v1H8v-1H6v-2h4v-1H7c-.55 0-1-.45-1-1V9c0-.55.45-1 1-1h1V7h2v1h2zm4 6.25-2-2h4zM14 10l2-2 2 2z"}),"PriceChange"),Js=Fe(t.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),Kr=()=>{const[e,r]=k.useState(!1),[a,n]=k.useState([]),[i,c]=k.useState(null),u=async l=>{var s,o;try{r(!0);const p=await Te.get(`/bracket-pricing/products/${l}/brackets`);return n(p.data.data),p.data.data}catch(p){return console.error("Error fetching product brackets:",p),ie.error(((o=(s=p.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to fetch brackets"),[]}finally{r(!1)}};return{loading:e,brackets:a,activeBracket:i,setBrackets:n,setActiveBracket:c,getProductBrackets:u,getActiveBracket:async l=>{var s,o;try{r(!0);const p=await Te.get(`/bracket-pricing/products/${l}/active-bracket`);return c(p.data.data),p.data.data}catch(p){return console.error("Error fetching active bracket:",p),ie.error(((o=(s=p.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to fetch active bracket"),null}finally{r(!1)}},createBracket:async(l,s)=>{var o,p;try{r(!0);const f=await Te.post(`/bracket-pricing/products/${l}/brackets`,s);return ie.success("Bracket created successfully"),await u(l),f.data.data}catch(f){throw console.error("Error creating bracket:",f),ie.error(((p=(o=f.response)==null?void 0:o.data)==null?void 0:p.message)||"Failed to create bracket"),f}finally{r(!1)}},updateBracket:async(l,s)=>{var o,p;try{r(!0);const f=await Te.put(`/bracket-pricing/brackets/${l}`,s);return ie.success("Bracket updated successfully"),f.data.data}catch(f){throw console.error("Error updating bracket:",f),ie.error(((p=(o=f.response)==null?void 0:o.data)==null?void 0:p.message)||"Failed to update bracket"),f}finally{r(!1)}},deleteBracket:async l=>{var s,o;try{return r(!0),await Te.delete(`/bracket-pricing/brackets/${l}`),ie.success("Bracket deleted successfully"),!0}catch(p){return console.error("Error deleting bracket:",p),ie.error(((o=(s=p.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to delete bracket"),!1}finally{r(!1)}},getBracket:async l=>{var s,o;try{return r(!0),(await Te.get(`/bracket-pricing/brackets/${l}`)).data.data}catch(p){return console.error("Error fetching bracket:",p),ie.error(((o=(s=p.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to fetch bracket"),null}finally{r(!1)}},activateBracket:async l=>{var s,o;try{r(!0);const p=await Te.post(`/bracket-pricing/brackets/${l}/activate`);return ie.success("Bracket activated successfully"),c(p.data.data),p.data.data}catch(p){throw console.error("Error activating bracket:",p),ie.error(((o=(s=p.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to activate bracket"),p}finally{r(!1)}},deactivateBracketPricing:async l=>{var s,o;try{return r(!0),await Te.delete(`/bracket-pricing/products/${l}/deactivate`),ie.success("Bracket pricing deactivated successfully"),c(null),!0}catch(p){return console.error("Error deactivating bracket pricing:",p),ie.error(((o=(s=p.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to deactivate bracket pricing"),!1}finally{r(!1)}},getPricingBreakdown:async(l,s="regular",o=[1,5,10,25,50,100])=>{var p,f;try{return r(!0),(await Te.get(`/bracket-pricing/products/${l}/breakdown`,{params:{price_type:s,quantities:o}})).data.data}catch(w){return console.error("Error fetching pricing breakdown:",w),ie.error(((f=(p=w.response)==null?void 0:p.data)==null?void 0:f.message)||"Failed to fetch pricing breakdown"),null}finally{r(!1)}},calculatePrice:async(l,s,o)=>{var p,f;try{return(await Te.post(`/bracket-pricing/products/${l}/calculate-price`,{quantity:s,price_type:o})).data.data}catch(w){return console.error("Error calculating price:",w),ie.error(((f=(p=w.response)==null?void 0:p.data)==null?void 0:f.message)||"Failed to calculate price"),null}},getOptimalPricingSuggestions:async(l,s=.3,o=[1,10,25,50])=>{var p,f;try{return r(!0),(await Te.get(`/bracket-pricing/products/${l}/suggestions`,{params:{target_margin:s,quantities:o}})).data.data}catch(w){return console.error("Error fetching pricing suggestions:",w),ie.error(((f=(p=w.response)==null?void 0:p.data)==null?void 0:f.message)||"Failed to fetch pricing suggestions"),null}finally{r(!1)}},cloneBracket:async(l,s={})=>{var o,p;try{r(!0);const f=await Te.post(`/bracket-pricing/brackets/${l}/clone`,s);return ie.success("Bracket cloned successfully"),f.data.data}catch(f){throw console.error("Error cloning bracket:",f),ie.error(((p=(o=f.response)==null?void 0:o.data)==null?void 0:p.message)||"Failed to clone bracket"),f}finally{r(!1)}},importFromCsv:async(l,s)=>{var o,p;try{r(!0);const f=await Te.post(`/bracket-pricing/products/${l}/import-csv`,{csv_data:s});return ie.success("Brackets imported successfully"),await u(l),f.data.data}catch(f){throw console.error("Error importing brackets:",f),ie.error(((p=(o=f.response)==null?void 0:o.data)==null?void 0:p.message)||"Failed to import brackets"),f}finally{r(!1)}}}},eo=({open:e,product:r,bracket:a,onClose:n})=>{const{createBracket:i,updateBracket:c,loading:u}=Kr(),[d,m]=k.useState({is_selected:!1,effective_from:new Date().toISOString().split("T")[0],effective_to:"",bracket_items:[{min_quantity:1,max_quantity:"",price:"",price_type:"regular",is_active:!0}]}),[b,v]=k.useState({});k.useEffect(()=>{var l;m(a?{is_selected:a.is_selected||!1,effective_from:a.effective_from?a.effective_from.split("T")[0]:"",effective_to:a.effective_to?a.effective_to.split("T")[0]:"",bracket_items:((l=a.bracket_items)==null?void 0:l.map(s=>({id:s.id,min_quantity:s.min_quantity,max_quantity:s.max_quantity||"",price:s.price,price_type:s.price_type,is_active:s.is_active})))||[]}:{is_selected:!1,effective_from:new Date().toISOString().split("T")[0],effective_to:"",bracket_items:[{min_quantity:1,max_quantity:"",price:"",price_type:"regular",is_active:!0}]}),v({})},[a,e]);const S=(l,s)=>{m(o=>({...o,[l]:s})),b[l]&&v(o=>({...o,[l]:null}))},j=(l,s,o)=>{const p=[...d.bracket_items];p[l]={...p[l],[s]:o},m(w=>({...w,bracket_items:p}));const f=`bracket_items.${l}.${s}`;b[f]&&v(w=>({...w,[f]:null}))},h=()=>{const l=d.bracket_items[d.bracket_items.length-1],s=l.max_quantity?parseInt(l.max_quantity)+1:l.min_quantity+10;m(o=>({...o,bracket_items:[...o.bracket_items,{min_quantity:s,max_quantity:"",price:"",price_type:"regular",is_active:!0}]}))},x=l=>{d.bracket_items.length>1&&m(s=>({...s,bracket_items:s.bracket_items.filter((o,p)=>p!==l)}))},y=l=>{const s=d.bracket_items[l];m(o=>({...o,bracket_items:[...o.bracket_items.slice(0,l+1),{...s,id:void 0,min_quantity:s.max_quantity?parseInt(s.max_quantity)+1:s.min_quantity+10},...o.bracket_items.slice(l+1)]}))},B=()=>{const l={};return d.effective_from||(l.effective_from="Effective from date is required"),d.effective_to&&d.effective_to<=d.effective_from&&(l.effective_to="Effective to date must be after effective from date"),d.bracket_items.length===0&&(l.bracket_items="At least one bracket item is required"),d.bracket_items.forEach((s,o)=>{(!s.min_quantity||s.min_quantity<1)&&(l[`bracket_items.${o}.min_quantity`]="Minimum quantity must be at least 1"),s.max_quantity&&parseInt(s.max_quantity)<=parseInt(s.min_quantity)&&(l[`bracket_items.${o}.max_quantity`]="Maximum quantity must be greater than minimum quantity"),(!s.price||parseFloat(s.price)<0)&&(l[`bracket_items.${o}.price`]="Price must be a positive number");const p=d.bracket_items.filter((f,w)=>w!==o&&f.price_type===s.price_type);for(const f of p){const w=parseInt(s.min_quantity),U=s.max_quantity?parseInt(s.max_quantity):1/0,X=parseInt(f.min_quantity),G=f.max_quantity?parseInt(f.max_quantity):1/0;if(w>=X&&w<=G||U>=X&&U<=G||w<=X&&U>=G){l[`bracket_items.${o}.min_quantity`]="Quantity ranges cannot overlap for the same price type";break}}}),v(l),Object.keys(l).length===0},I=async()=>{if(B())try{a?await c(a.id,d):await i(r.id,d),n(!0)}catch(l){console.error("Error saving bracket:",l)}},T=[{value:"regular",label:"Regular"},{value:"wholesale",label:"Wholesale"},{value:"walk_in",label:"Walk-in"}];return t.jsxs(ot,{open:e,onClose:()=>n(!1),maxWidth:"lg",fullWidth:!0,children:[t.jsx(gt,{children:a?"Edit Bracket":"Create New Bracket"}),t.jsx(xt,{children:t.jsxs(ke,{container:!0,spacing:3,children:[t.jsx(ke,{item:!0,xs:12,children:t.jsx(z,{variant:"h6",gutterBottom:!0,children:"Basic Information"})}),t.jsx(ke,{item:!0,xs:12,md:6,children:t.jsx(se,{fullWidth:!0,label:"Effective From",type:"date",value:d.effective_from,onChange:l=>S("effective_from",l.target.value),error:!!b.effective_from,helperText:b.effective_from,InputLabelProps:{shrink:!0}})}),t.jsx(ke,{item:!0,xs:12,md:6,children:t.jsx(se,{fullWidth:!0,label:"Effective To (Optional)",type:"date",value:d.effective_to,onChange:l=>S("effective_to",l.target.value),error:!!b.effective_to,helperText:b.effective_to,InputLabelProps:{shrink:!0}})}),t.jsx(ke,{item:!0,xs:12,children:t.jsx(En,{control:t.jsx(ea,{checked:d.is_selected,onChange:l=>S("is_selected",l.target.checked)}),label:"Activate this bracket immediately"})}),t.jsxs(ke,{item:!0,xs:12,children:[t.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t.jsx(z,{variant:"h6",children:"Price Tiers"}),t.jsx(ue,{variant:"outlined",startIcon:t.jsx(Ma,{}),onClick:h,children:"Add Tier"})]}),b.bracket_items&&t.jsx(Vr,{severity:"error",sx:{mb:2},children:b.bracket_items}),t.jsx(rr,{component:Ge,variant:"outlined",children:t.jsxs(ar,{children:[t.jsx(nr,{children:t.jsxs(Oe,{children:[t.jsx($,{children:"Min Qty"}),t.jsx($,{children:"Max Qty"}),t.jsx($,{children:"Price"}),t.jsx($,{children:"Price Type"}),t.jsx($,{children:"Active"}),t.jsx($,{align:"right",children:"Actions"})]})}),t.jsx(ir,{children:d.bracket_items.map((l,s)=>t.jsxs(Oe,{children:[t.jsx($,{children:t.jsx(se,{size:"small",type:"number",value:l.min_quantity,onChange:o=>j(s,"min_quantity",parseInt(o.target.value)||""),error:!!b[`bracket_items.${s}.min_quantity`],helperText:b[`bracket_items.${s}.min_quantity`],sx:{width:100}})}),t.jsx($,{children:t.jsx(se,{size:"small",type:"number",value:l.max_quantity,onChange:o=>j(s,"max_quantity",o.target.value?parseInt(o.target.value):""),error:!!b[`bracket_items.${s}.max_quantity`],helperText:b[`bracket_items.${s}.max_quantity`],placeholder:"∞",sx:{width:100}})}),t.jsx($,{children:t.jsx(se,{size:"small",type:"number",step:"0.01",value:l.price,onChange:o=>j(s,"price",parseFloat(o.target.value)||""),error:!!b[`bracket_items.${s}.price`],helperText:b[`bracket_items.${s}.price`],sx:{width:120}})}),t.jsx($,{children:t.jsx(Ba,{size:"small",sx:{width:100},children:t.jsx(za,{value:l.price_type,onChange:o=>j(s,"price_type",o.target.value),children:T.map(o=>t.jsx(Ae,{value:o.value,children:o.label},o.value))})})}),t.jsx($,{children:t.jsx(ea,{checked:l.is_active,onChange:o=>j(s,"is_active",o.target.checked),size:"small"})}),t.jsxs($,{align:"right",children:[t.jsx(Ie,{size:"small",onClick:()=>y(s),title:"Duplicate",children:t.jsx(Qr,{})}),t.jsx(Ie,{size:"small",onClick:()=>x(s),disabled:d.bracket_items.length<=1,title:"Remove",color:"error",children:t.jsx(Da,{})})]})]},s))})]})})]})]})}),t.jsxs(bt,{children:[t.jsx(ue,{onClick:()=>n(!1),children:"Cancel"}),t.jsx(ue,{onClick:I,variant:"contained",disabled:u,children:u?"Saving...":a?"Update":"Create"})]})]})},to=({productId:e})=>{var l;const{getOptimalPricingSuggestions:r,loading:a}=Kr(),[n,i]=k.useState(30),[c,u]=k.useState("1,10,25,50"),[d,m]=k.useState(null),[b,v]=k.useState(null);k.useEffect(()=>{e&&S()},[e]);const S=async()=>{if(e)try{const s=j(c),o=n/100,p=await r(e,o,s);m(p)}catch(s){console.error("Error loading suggestions:",s)}},j=s=>{try{return s.split(",").map(o=>parseInt(o.trim())).filter(o=>!isNaN(o)&&o>0).sort((o,p)=>o-p)}catch{return[1,10,25,50]}},h=(s,o)=>{i(o)},x=s=>{u(s)},y=()=>{S()},B=(s,o)=>{const p={min_quantity:s.min_quantity,max_quantity:s.max_quantity,price:s.suggested_price,price_type:"regular",is_active:!0};navigator.clipboard.writeText(JSON.stringify(p,null,2)),v(o),setTimeout(()=>v(null),2e3)},I=()=>d!=null&&d.suggestions?d.suggestions.reduce((s,o)=>{const p=o.min_quantity+10;return s+o.profit_per_unit*p},0):0,T=s=>s>=25?"success":s>=15?"warning":"error";return t.jsxs(q,{children:[t.jsxs(ke,{container:!0,spacing:3,sx:{mb:3},children:[t.jsx(ke,{item:!0,xs:12,md:4,children:t.jsx(et,{children:t.jsxs(tt,{children:[t.jsx(z,{variant:"h6",gutterBottom:!0,children:"Target Margin"}),t.jsx(q,{sx:{px:2},children:t.jsx(fi,{value:n,onChange:h,"aria-labelledby":"target-margin-slider",valueLabelDisplay:"auto",valueLabelFormat:s=>`${s}%`,step:1,marks:[{value:10,label:"10%"},{value:20,label:"20%"},{value:30,label:"30%"},{value:40,label:"40%"},{value:50,label:"50%"}],min:5,max:60})}),t.jsxs(z,{variant:"body2",color:"text.secondary",align:"center",children:["Current: ",n,"%"]})]})})}),t.jsx(ke,{item:!0,xs:12,md:5,children:t.jsx(et,{children:t.jsxs(tt,{children:[t.jsx(z,{variant:"h6",gutterBottom:!0,children:"Quantity Tiers"}),t.jsx(se,{fullWidth:!0,label:"Quantities (comma-separated)",value:c,onChange:s=>x(s.target.value),placeholder:"1,10,25,50",helperText:"Define quantity breakpoints for pricing tiers"})]})})}),t.jsx(ke,{item:!0,xs:12,md:3,children:t.jsx(et,{children:t.jsxs(tt,{children:[t.jsx(z,{variant:"h6",gutterBottom:!0,children:"Actions"}),t.jsx(ue,{fullWidth:!0,variant:"contained",onClick:y,disabled:a,startIcon:a?t.jsx(Pr,{size:20}):t.jsx(Ys,{}),children:a?"Calculating...":"Get Suggestions"})]})})})]}),d&&t.jsx(Vr,{severity:"info",sx:{mb:3},children:t.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Qs,{}),t.jsxs(z,{variant:"body2",children:[t.jsx("strong",{children:"Current Cost Price:"})," ",Je(d.cost_price),t.jsx("br",{}),t.jsx("strong",{children:"Target Margin:"})," ",n,"%",t.jsx("strong",{style:{marginLeft:16},children:"Base Price:"})," ",Je(d.cost_price/(1-n/100))]})]})}),t.jsxs(ke,{container:!0,spacing:3,children:[t.jsx(ke,{item:!0,xs:12,md:8,children:t.jsx(Ge,{children:t.jsxs(q,{sx:{p:2},children:[t.jsx(z,{variant:"h6",gutterBottom:!0,children:"Optimal Pricing Suggestions"}),a?t.jsx(q,{sx:{display:"flex",justifyContent:"center",p:4},children:t.jsx(Pr,{})}):d!=null&&d.suggestions?t.jsx(rr,{children:t.jsxs(ar,{children:[t.jsx(nr,{children:t.jsxs(Oe,{children:[t.jsx($,{children:"Quantity Range"}),t.jsx($,{align:"right",children:"Suggested Price"}),t.jsx($,{align:"right",children:"Margin %"}),t.jsx($,{align:"right",children:"Profit per Unit"}),t.jsx($,{align:"center",children:"Actions"})]})}),t.jsx(ir,{children:d.suggestions.map((s,o)=>t.jsxs(Oe,{children:[t.jsx($,{children:t.jsxs(z,{variant:"body2",fontWeight:"medium",children:[s.min_quantity,s.max_quantity?` - ${s.max_quantity}`:"+"]})}),t.jsx($,{align:"right",children:t.jsx(z,{variant:"body2",fontWeight:"medium",children:Je(s.suggested_price)})}),t.jsx($,{align:"right",children:t.jsx(Ht,{label:`${s.margin_percentage}%`,color:T(s.margin_percentage),size:"small"})}),t.jsx($,{align:"right",children:t.jsx(z,{variant:"body2",color:"success.main",children:Je(s.profit_per_unit)})}),t.jsx($,{align:"center",children:t.jsx(Ut,{title:b===o?"Copied!":"Copy to clipboard",children:t.jsx(Ie,{size:"small",onClick:()=>B(s,o),color:b===o?"success":"default",children:t.jsx(Qr,{})})})})]},o))})]})}):t.jsx(z,{variant:"body2",color:"text.secondary",align:"center",sx:{py:4},children:'No suggestions available. Click "Get Suggestions" to generate optimal pricing recommendations.'})]})})}),t.jsxs(ke,{item:!0,xs:12,md:4,children:[d&&t.jsx(et,{children:t.jsxs(tt,{children:[t.jsxs(z,{variant:"h6",gutterBottom:!0,children:[t.jsx(Js,{sx:{mr:1,verticalAlign:"middle"}}),"Profit Projection"]}),t.jsxs(q,{sx:{mt:2},children:[t.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[t.jsx(z,{variant:"body2",color:"text.secondary",children:"Cost Price:"}),t.jsx(z,{variant:"body2",children:Je(d.cost_price)})]}),t.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[t.jsx(z,{variant:"body2",color:"text.secondary",children:"Target Margin:"}),t.jsxs(z,{variant:"body2",children:[n,"%"]})]}),t.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[t.jsx(z,{variant:"body2",color:"text.secondary",children:"Price Tiers:"}),t.jsx(z,{variant:"body2",children:((l=d.suggestions)==null?void 0:l.length)||0})]}),t.jsx(Nr,{sx:{my:2}}),t.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(z,{variant:"body2",color:"text.secondary",children:"Estimated Total Profit:"}),t.jsx(z,{variant:"body2",color:"success.main",fontWeight:"medium",children:Je(I())})]})]})]})}),t.jsx(et,{sx:{mt:2},children:t.jsxs(tt,{children:[t.jsx(z,{variant:"h6",gutterBottom:!0,children:"Pricing Tips"}),t.jsxs(q,{sx:{mt:2},children:[t.jsx(z,{variant:"body2",color:"text.secondary",paragraph:!0,children:"• Higher quantities should have lower unit prices to encourage bulk purchases"}),t.jsx(z,{variant:"body2",color:"text.secondary",paragraph:!0,children:"• Maintain at least 10-15% margin for sustainable business"}),t.jsx(z,{variant:"body2",color:"text.secondary",paragraph:!0,children:"• Consider market competition when setting final prices"}),t.jsx(z,{variant:"body2",color:"text.secondary",paragraph:!0,children:"• Review and adjust pricing regularly based on cost changes"})]})]})})]})]})]})},ro=({product:e,onClose:r})=>{var ee;const{loading:a,brackets:n,activeBracket:i,getProductBrackets:c,getActiveBracket:u,deleteBracket:d,activateBracket:m,deactivateBracketPricing:b,cloneBracket:v}=Kr(),[S,j]=k.useState(0),[h,x]=k.useState(!1),[y,B]=k.useState(null),[I,T]=k.useState(!1),[l,s]=k.useState(null);k.useEffect(()=>{e!=null&&e.id&&o()},[e==null?void 0:e.id]);const o=async()=>{e!=null&&e.id&&(await c(e.id),await u(e.id))},p=()=>{B(null),x(!0)},f=A=>{B(A),x(!0)},w=A=>{s(A),T(!0)},U=async()=>{l&&await d(l.id)&&await o(),T(!1),s(null)},X=async A=>{try{await m(A.id),await o()}catch(Y){console.error("Error activating bracket:",Y)}},G=async()=>{await b(e.id)&&await o()},oe=async A=>{try{await v(A.id,{is_selected:!1,effective_from:new Date().toISOString().split("T")[0]}),await o()}catch(Y){console.error("Error cloning bracket:",Y)}},L=async(A=!1)=>{x(!1),B(null),A&&await o()},E=A=>A.is_selected?t.jsx(Ht,{label:"Active",color:"success",size:"small"}):t.jsx(Ht,{label:"Inactive",color:"default",size:"small"}),W=({children:A,value:Y,index:D,...O})=>t.jsx("div",{role:"tabpanel",hidden:Y!==D,id:`bracket-tabpanel-${D}`,"aria-labelledby":`bracket-tab-${D}`,...O,children:Y===D&&t.jsx(q,{sx:{p:3},children:A})});return t.jsxs(Ge,{sx:{width:"100%",height:"80vh",display:"flex",flexDirection:"column"},children:[t.jsxs(q,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[t.jsx(z,{variant:"h6",gutterBottom:!0,children:"Bracket Pricing Management"}),t.jsxs(z,{variant:"body2",color:"text.secondary",children:["Product: ",e==null?void 0:e.product_name," (",e==null?void 0:e.product_code,")"]})]}),t.jsxs(q,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[t.jsx(q,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsxs(zn,{value:S,onChange:(A,Y)=>j(Y),children:[t.jsx(ta,{label:"Brackets"}),t.jsx(ta,{label:"Suggestions"})]})}),t.jsxs(q,{sx:{flex:1,overflow:"auto"},children:[t.jsxs(W,{value:S,index:0,children:[t.jsxs(q,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx(z,{variant:"h6",children:"Price Brackets"}),t.jsx(q,{children:t.jsx(ue,{variant:"contained",startIcon:t.jsx(Ma,{}),onClick:p,children:"Create Bracket"})})]}),i&&t.jsxs(Vr,{severity:"info",sx:{mb:2},children:[t.jsxs(z,{variant:"body2",children:[t.jsx("strong",{children:"Active Bracket:"})," Created on ",new Date(i.created_at).toLocaleDateString()," ","(",((ee=i.bracket_items)==null?void 0:ee.length)||0," price tiers)"]}),t.jsx(ue,{size:"small",color:"error",onClick:G,sx:{mt:1},children:"Deactivate Bracket Pricing"})]}),a?t.jsx(q,{sx:{display:"flex",justifyContent:"center",p:4},children:t.jsx(Pr,{})}):t.jsx(rr,{children:t.jsxs(ar,{children:[t.jsx(nr,{children:t.jsxs(Oe,{children:[t.jsx($,{children:"Status"}),t.jsx($,{children:"Effective From"}),t.jsx($,{children:"Effective To"}),t.jsx($,{children:"Price Tiers"}),t.jsx($,{children:"Created"}),t.jsx($,{align:"right",children:"Actions"})]})}),t.jsx(ir,{children:n.length===0?t.jsx(Oe,{children:t.jsx($,{colSpan:6,align:"center",children:t.jsx(z,{variant:"body2",color:"text.secondary",children:"No brackets found. Create your first bracket to get started."})})}):n.map(A=>{var Y,D;return t.jsxs(Oe,{children:[t.jsx($,{children:E(A)}),t.jsx($,{children:new Date(A.effective_from).toLocaleDateString()}),t.jsx($,{children:A.effective_to?new Date(A.effective_to).toLocaleDateString():"Indefinite"}),t.jsxs($,{children:[t.jsxs(z,{variant:"body2",children:[((Y=A.bracket_items)==null?void 0:Y.length)||0," tiers"]}),(D=A.bracket_items)==null?void 0:D.slice(0,2).map((O,P)=>t.jsxs(z,{variant:"caption",display:"block",children:[O.min_quantity,O.max_quantity?`-${O.max_quantity}`:"+",": ",Je(O.price)]},P))]}),t.jsx($,{children:t.jsx(z,{variant:"caption",children:new Date(A.created_at).toLocaleDateString()})}),t.jsxs($,{align:"right",children:[t.jsx(Ie,{size:"small",onClick:()=>f(A),title:"Edit",children:t.jsx(Mn,{})}),t.jsx(Ie,{size:"small",onClick:()=>oe(A),title:"Clone",children:t.jsx(Qr,{})}),A.is_selected?t.jsx(Ie,{size:"small",onClick:G,title:"Deactivate",color:"warning",children:t.jsx(Ks,{})}):t.jsx(Ie,{size:"small",onClick:()=>X(A),title:"Activate",color:"success",children:t.jsx(Xs,{})}),t.jsx(Ie,{size:"small",onClick:()=>w(A),title:"Delete",color:"error",children:t.jsx(Da,{})})]})]},A.id)})})]})})]}),t.jsx(W,{value:S,index:1,children:t.jsx(to,{productId:e==null?void 0:e.id})})]})]}),t.jsx(q,{sx:{p:2,borderTop:1,borderColor:"divider",display:"flex",justifyContent:"flex-end"},children:t.jsx(ue,{onClick:r,children:"Close"})}),h&&t.jsx(eo,{open:h,product:e,bracket:y,onClose:L}),t.jsxs(ot,{open:I,onClose:()=>T(!1),children:[t.jsx(gt,{children:"Confirm Delete"}),t.jsx(xt,{children:t.jsx(z,{children:"Are you sure you want to delete this bracket? This action cannot be undone."})}),t.jsxs(bt,{children:[t.jsx(ue,{onClick:()=>T(!1),children:"Cancel"}),t.jsx(ue,{onClick:U,color:"error",variant:"contained",children:"Delete"})]})]})]})},ao=({product:e,variant:r="outlined",size:a="small",showStatus:n=!0,fullWidth:i=!1})=>{const[c,u]=k.useState(!1),d=An(In),m=(d==null?void 0:d.role)==="admin"||(d==null?void 0:d.role)==="cashier",b=()=>{u(!0)},v=()=>{u(!1)},j=e!=null&&e.use_bracket_pricing?{active:!0,label:"Bracket Pricing"}:{active:!1,label:"Traditional Pricing"};return t.jsxs(t.Fragment,{children:[t.jsx(q,{sx:{},children:t.jsx(Ut,{title:"Manage bracket pricing for this product",children:t.jsx(ue,{variant:r,size:a,disabled:!m,fullWidth:i,onClick:b,startIcon:t.jsx(Zs,{}),sx:{borderColor:j.active?"success.main":void 0,backgroundColor:j.active?"success.main":void 0},children:"Bracket Pricing"})})}),t.jsx(ot,{open:c,onClose:v,maxWidth:"xl",fullWidth:!0,PaperProps:{sx:{height:"90vh",maxHeight:"90vh"}},children:t.jsx(ro,{product:e,onClose:v})})]})},Lo=()=>{const[e,r]=k.useState(0),[a,n]=k.useState(10),[i,c]=k.useState(""),[u,d]=k.useState("table"),[m,b]=k.useState(!1),[v,S]=k.useState(!1),[j,h]=k.useState(!1),[x,y]=k.useState(!1),[B,I]=k.useState(null),[T,l]=k.useState("all"),[s,o]=k.useState({field:"product_name",direction:"asc"}),p=C=>{I(C),y(!0)},f=()=>{I(null),y(!1)},{data:w,isLoading:U,refetch:X}=Fr(),{data:G,isLoading:oe}=Bn(),L=Rn(),E=(w==null?void 0:w.filter(C=>{var ce,le,re,pe,de,te;const F=((ce=C.product_code)==null?void 0:ce.toLowerCase().includes(i.toLowerCase()))||((le=C.product_name)==null?void 0:le.toLowerCase().includes(i.toLowerCase()))||((pe=(re=C.category)==null?void 0:re.name)==null?void 0:pe.toLowerCase().includes(i.toLowerCase()))||((de=C.attributes)==null?void 0:de.some(J=>{var Se,V,Ee;return((Se=J.attribute_name)==null?void 0:Se.toLowerCase().includes(i.toLowerCase()))||((Ee=(V=J.pivot)==null?void 0:V.value)==null?void 0:Ee.toLowerCase().includes(i.toLowerCase()))})),fe=T==="all"||((te=C.category)==null?void 0:te.id)===T;return F&&fe}))||[],W=C=>{o({field:C,direction:s.field===C&&s.direction==="asc"?"desc":"asc"})},ee=[...E].sort((C,F)=>{var le,re,pe,de,te,J;if(s.field==="attributes"){const Se=((pe=(re=(le=C.attributes)==null?void 0:le[0])==null?void 0:re.pivot)==null?void 0:pe.value)||"",V=((J=(te=(de=F.attributes)==null?void 0:de[0])==null?void 0:te.pivot)==null?void 0:J.value)||"";return s.direction==="asc"?Se>V?1:-1:Se<V?1:-1}const fe=C[s.field],ce=F[s.field];return s.direction==="asc"?fe>ce?1:-1:fe<ce?1:-1}),A=C=>!C||C.length===0?"No attributes":C.map(F=>`${F.attribute_name}: ${F.pivot.value}${F.unit_of_measurement}`).join(", "),Y=(C,F)=>{F!==null&&d(F)},D=async C=>{var F,fe;try{(await jr.fire({title:"Are you sure?",text:"You will not be able to recover this product!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it",confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d"})).isConfirmed&&(await L.mutateAsync(C),await jr.fire({title:"Deleted!",text:"Product has been deleted successfully.",icon:"success",timer:1500,showConfirmButton:!1}),X())}catch(ce){await jr.fire({title:"Error!",text:((fe=(F=ce.response)==null?void 0:F.data)==null?void 0:fe.message)||"Failed to delete product.",icon:"error"}),console.error("Failed to delete product:",ce)}},O=(C,F)=>{r(F)},P=C=>{n(parseInt(C.target.value,10)),r(0)},Q=()=>t.jsx(rr,{component:Ge,children:t.jsxs(ar,{children:[t.jsx(nr,{children:t.jsxs(Oe,{children:[t.jsx($,{children:"Image"}),t.jsx($,{children:t.jsx(Bt,{active:s.field==="product_code",direction:s.field==="product_code"?s.direction:"asc",onClick:()=>W("product_code"),children:"Code"})}),t.jsx($,{children:t.jsx(Bt,{active:s.field==="product_name",direction:s.field==="product_name"?s.direction:"asc",onClick:()=>W("product_name"),children:"Name"})}),t.jsx($,{children:"Category"}),t.jsx($,{align:"right",children:t.jsx(Bt,{active:s.field==="quantity",direction:s.field==="quantity"?s.direction:"asc",onClick:()=>W("quantity"),children:"Quantity"})}),t.jsx($,{align:"right",children:t.jsx(Bt,{active:s.field==="reorder_level",direction:s.field==="reorder_level"?s.direction:"asc",onClick:()=>W("reorder_level"),children:"Reorder Level"})}),t.jsx($,{align:"right",children:"Pricing"}),t.jsx($,{align:"right",children:"Actions"})]})}),t.jsx(ir,{children:U?Array(a).fill(0).map((C,F)=>t.jsx(Gs,{},F)):ee.slice(e*a,e*a+a).map(C=>t.jsxs(Oe,{children:[t.jsx($,{children:C.product_image?t.jsx("img",{src:Tr(C.product_image),alt:C.product_name,style:{width:50,height:50,objectFit:"cover",borderRadius:"4px"}}):t.jsx(Ge,{sx:{width:50,height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:t.jsx(oa,{color:"disabled"})})}),t.jsx($,{children:C.product_code}),t.jsx($,{children:C.product_name}),t.jsx($,{children:t.jsx(Us,{category:C.category})}),t.jsx($,{align:"right",children:Number(C.quantity)}),t.jsx($,{align:"right",children:C.reorder_level}),t.jsx($,{align:"right",children:t.jsx(ao,{product:C,variant:"contained",showStatus:!0})}),t.jsxs($,{align:"right",children:[t.jsx(Ie,{onClick:()=>p(C),children:t.jsx(qn,{style:{fontSize:20}})}),t.jsx(Ie,{onClick:()=>D(C.id),children:t.jsx(qr,{style:{fontSize:20}})})]})]},C.id))})]})}),Z=()=>t.jsx(ke,{container:!0,spacing:2,children:U?Array(a).fill(0).map((C,F)=>t.jsx(Ws,{},F)):ee.slice(e*a,e*a+a).map(C=>{var F;return t.jsx(ke,{item:!0,xs:12,sm:6,md:4,lg:3,children:t.jsxs(et,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[C.product_image?t.jsx(Vn,{component:"img",height:"200",image:Tr(C.product_image),alt:C.product_name,sx:{objectFit:"cover"}}):t.jsx(q,{sx:{height:200,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:t.jsx(oa,{sx:{fontSize:60,color:"text.disabled"}})}),t.jsxs(tt,{children:[t.jsx(z,{variant:"h6",noWrap:!0,children:C.product_name}),t.jsxs(z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Code: ",C.product_code]}),t.jsxs(z,{variant:"body2",color:"text.secondary",children:["Category: ",(F=C.category)==null?void 0:F.name]}),t.jsxs(z,{variant:"body2",color:"text.secondary",children:["Reorder Level: ",C.reorder_level]}),t.jsxs(z,{variant:"body2",color:"text.secondary",children:["Attributes: ",A(C.attributes)]})]})]})},C.id)})});return t.jsxs(Dn,{maxWidth:"xxl",sx:{mt:0,p:"0!important"},children:[t.jsxs(q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t.jsxs(q,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(se,{placeholder:"Search products...",variant:"outlined",size:"small",value:i,onChange:C=>c(C.target.value),InputProps:{startAdornment:t.jsx(Ln,{position:"start",children:t.jsx(On,{})})}}),t.jsxs(Ba,{size:"small",sx:{minWidth:120},children:[t.jsx(Fn,{children:"Category"}),t.jsxs(za,{value:T,onChange:C=>l(C.target.value),label:"Category",children:[t.jsx(Ae,{value:"all",children:"All Categories"}),G==null?void 0:G.map(C=>t.jsx(Ae,{value:C.id,children:C.name},C.id))]})]}),t.jsxs(ji,{value:u,exclusive:!0,onChange:Y,size:"small",children:[t.jsx(sa,{value:"table",children:t.jsx(Ut,{title:"Table View",children:t.jsx(ki,{})})}),t.jsx(sa,{value:"card",children:t.jsx(Ut,{title:"Card View",children:t.jsx(Ci,{})})})]})]}),t.jsxs(q,{children:[t.jsx(ue,{variant:"contained",onClick:()=>S(!0),startIcon:t.jsx(Ct,{}),color:"error",children:"Add Product"}),t.jsx(ue,{variant:"contained",onClick:()=>b(!0),startIcon:t.jsx(Ct,{}),sx:{ml:1},color:"info",children:"Add Category"}),t.jsx(ue,{variant:"contained",onClick:()=>h(!0),startIcon:t.jsx(Ct,{}),sx:{ml:1},color:"success",children:"Add Attribute"})]})]}),u==="table"?t.jsx(Q,{}):t.jsx(Z,{}),t.jsx(Nn,{rowsPerPageOptions:[5,10,25],component:"div",count:ee.length,rowsPerPage:a,page:e,onPageChange:O,onRowsPerPageChange:P}),t.jsx(wi,{open:m,handleClose:()=>b(!1)}),t.jsx(Ds,{open:v,handleClose:()=>S(!1),categories:G||[]}),t.jsx(Fs,{open:j,handleClose:()=>h(!1)}),t.jsx(Vs,{open:x,handleClose:()=>f(),categories:G||[],product:B})]})};export{Lo as default};
