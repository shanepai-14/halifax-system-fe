import{r as w,c as dt,j as n,g as Wt,a as Vt,s as ut,B as _r,m as pt,b as Te,u as qt,d as nt,e as Gt,f as ln,h as _e,i as dn,k as un,R as Ge,l as pn,n as Sr,o as $r,p as Ht,t as at,q as Q,P as Be,T as je,D as Pr,I as ot,v as fn,w as hn,G as It,C as Rr,x as Ar,y as gn,z as mn,A as xn,E as bn,F as vn,H as er}from"./index-DNRk7xG9.js";import{c as Ee,a as ve,F as ft,b as ht,d as Y,e as Ce,f as Tr,g as kr,h as Ir}from"./index.esm-CvRQJxDG.js";import{D as gt}from"./Dialog-CJApJnGB.js";import{D as mt,a as xt}from"./DialogTitle-C9DPg3BV.js";import{T as V,a as Bt,b as O,S as yn,c as jn,d as Cn,e as wn,f as _n}from"./TextField-qX0ABBN6.js";import{D as bt}from"./DialogActions-Dd2WAsJc.js";import{B as le,I as Sn}from"./InputLabel-DVcin1Fw.js";import{M as de}from"./MenuItem-B1LMWmDD.js";import{R as Ut}from"./DeleteOutlined-CmJcso-p.js";import{R as Ve}from"./PlusOutlined-DR0_8EL0.js";import{g as Et}from"./fileHelper-DtQg9PBz.js";import{S as re}from"./Skeleton-DAk-Yb6A.js";import{S as St}from"./sweetalert2.esm.all-D3pEHXw3.js";import{C as $n}from"./Container-zwVJ-3zC.js";import{R as Pn}from"./SearchOutlined-D082z98Y.js";import{T as Rn}from"./TablePagination-DjQt2_7v.js";import{R as An}from"./EditOutlined-BFL8rLYK.js";import{C as Tn}from"./CardMedia-B14CYE8C.js";function kn(e){return w.Children.toArray(e).filter(t=>w.isValidElement(t))}const In=dt(n.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");function Bn(e){return Vt("MuiTableSortLabel",e)}const $t=Wt("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]),En=e=>{const{classes:t,direction:r,active:a}=e,o={root:["root",a&&"active",`direction${Te(r)}`],icon:["icon",`iconDirection${Te(r)}`]};return Gt(o,Bn,t)},zn=ut(_r,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.active&&t.active]}})(pt(({theme:e})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(e.vars||e).palette.text.secondary},"&:hover":{color:(e.vars||e).palette.text.secondary,[`& .${$t.icon}`]:{opacity:.5}},[`&.${$t.active}`]:{color:(e.vars||e).palette.text.primary,[`& .${$t.icon}`]:{opacity:1,color:(e.vars||e).palette.text.secondary}}}))),Ln=ut("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,t[`iconDirection${Te(r.direction)}`]]}})(pt(({theme:e})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),Fe=w.forwardRef(function(t,r){const a=qt({props:t,name:"MuiTableSortLabel"}),{active:o=!1,children:i,className:s,direction:p="asc",hideSortIcon:f=!1,IconComponent:v=In,...x}=a,b={...a,active:o,direction:p,hideSortIcon:f,IconComponent:v},m=En(b);return n.jsxs(zn,{className:nt(m.root,s),component:"span",disableRipple:!0,ownerState:b,ref:r,...x,children:[i,f&&!o?null:n.jsx(Ln,{as:v,className:nt(m.icon),ownerState:b})]})});function On(e){return Vt("MuiToggleButton",e)}const Se=Wt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Br=w.createContext({}),Er=w.createContext(void 0);function Dn(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.includes(e):e===t}const Mn=e=>{const{classes:t,fullWidth:r,selected:a,disabled:o,size:i,color:s}=e,p={root:["root",a&&"selected",o&&"disabled",r&&"fullWidth",`size${Te(i)}`,s]};return Gt(p,On,t)},Nn=ut(_r,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`size${Te(r.size)}`]]}})(pt(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${Se.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:_e(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Se.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:_e(e.palette.text.primary,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:_e(e.palette.text.primary,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:_e(e.palette.text.primary,e.palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(dn()).map(([t])=>({props:{color:t},style:{[`&.${Se.selected}`]:{color:(e.vars||e).palette[t].main,backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:_e(e.palette[t].main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:_e(e.palette[t].main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:_e(e.palette[t].main,e.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),tr=w.forwardRef(function(t,r){const{value:a,...o}=w.useContext(Br),i=w.useContext(Er),s=ln({...o,selected:Dn(t.value,a)},t),p=qt({props:s,name:"MuiToggleButton"}),{children:f,className:v,color:x="standard",disabled:b=!1,disableFocusRipple:m=!1,fullWidth:c=!1,onChange:l,onClick:h,selected:A,size:j="medium",value:y,...R}=p,d={...p,color:x,disabled:b,disableFocusRipple:m,fullWidth:c,size:j},C=Mn(d),_=S=>{h&&(h(S,y),S.defaultPrevented)||l&&l(S,y)},g=i||"";return n.jsx(Nn,{className:nt(o.className,C.root,v,g),disabled:b,focusRipple:!m,ref:r,onClick:_,onChange:l,value:y,ownerState:d,"aria-pressed":A,...R,children:f})});function Fn(e){return Vt("MuiToggleButtonGroup",e)}const E=Wt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Wn=e=>{const{classes:t,orientation:r,fullWidth:a,disabled:o}=e,i={root:["root",r,a&&"fullWidth"],grouped:["grouped",`grouped${Te(r)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Gt(i,Fn,t)},Vn=ut("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${E.grouped}`]:t.grouped},{[`& .${E.grouped}`]:t[`grouped${Te(r.orientation)}`]},{[`& .${E.firstButton}`]:t.firstButton},{[`& .${E.lastButton}`]:t.lastButton},{[`& .${E.middleButton}`]:t.middleButton},t.root,r.orientation==="vertical"&&t.vertical,r.fullWidth&&t.fullWidth]}})(pt(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${E.grouped}`]:{[`&.${E.selected} + .${E.grouped}.${E.selected}`]:{borderTop:0,marginTop:0}},[`& .${E.firstButton},& .${E.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${E.lastButton},& .${E.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${E.lastButton}.${Se.disabled},& .${E.middleButton}.${Se.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${E.grouped}`]:{[`&.${E.selected} + .${E.grouped}.${E.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${E.firstButton},& .${E.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${E.lastButton},& .${E.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${E.lastButton}.${Se.disabled},& .${E.middleButton}.${Se.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),qn=w.forwardRef(function(t,r){const a=qt({props:t,name:"MuiToggleButtonGroup"}),{children:o,className:i,color:s="standard",disabled:p=!1,exclusive:f=!1,fullWidth:v=!1,onChange:x,orientation:b="horizontal",size:m="medium",value:c,...l}=a,h={...a,disabled:p,fullWidth:v,orientation:b,size:m},A=Wn(h),j=w.useCallback((g,S)=>{if(!x)return;const D=c&&c.indexOf(S);let Z;c&&D>=0?(Z=c.slice(),Z.splice(D,1)):Z=c?c.concat(S):[S],x(g,Z)},[x,c]),y=w.useCallback((g,S)=>{x&&x(g,c===S?null:S)},[x,c]),R=w.useMemo(()=>({className:A.grouped,onChange:f?y:j,value:c,size:m,fullWidth:v,color:s,disabled:p}),[A.grouped,f,y,j,c,m,v,s,p]),d=kn(o),C=d.length,_=g=>{const S=g===0,D=g===C-1;return S&&D?"":S?A.firstButton:D?A.lastButton:A.middleButton};return n.jsx(Vn,{role:"group",className:nt(A.root,i),ref:r,ownerState:h,...l,children:n.jsx(Br.Provider,{value:R,children:d.map((g,S)=>n.jsx(Er.Provider,{value:_(S),children:g},S))})})}),Gn=dt(n.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList"),Hn=dt(n.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule"),rr=dt(n.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),Un=Ee().shape({name:ve().min(2,"Too Short!").max(100,"Too Long!").required("Required"),prefix:ve().matches(/^[A-Za-z0-9]{3}$/,"Must be exactly 3 alphanumeric characters").required("Required"),description:ve().nullable()}),Yn=({open:e,handleClose:t})=>{const r=un();return n.jsxs(gt,{open:e,onClose:t,children:[n.jsx(mt,{children:"Add New Category"}),n.jsx(ft,{initialValues:{name:"",prefix:"",description:""},validationSchema:Un,onSubmit:async(a,{setSubmitting:o,resetForm:i})=>{try{await r.mutateAsync(a),i(),t()}catch(s){console.error("Error creating category:",s)}finally{o(!1)}},children:({errors:a,touched:o,isSubmitting:i})=>n.jsxs(ht,{children:[n.jsxs(xt,{children:[n.jsx(Y,{as:V,name:"name",label:"Category Name",fullWidth:!0,margin:"normal",error:o.name&&a.name,helperText:o.name&&a.name}),n.jsx(Y,{as:V,name:"prefix",label:"Category Prefix (3 characters)",fullWidth:!0,margin:"normal",error:o.prefix&&a.prefix,helperText:o.prefix&&a.prefix}),n.jsx(Y,{as:V,name:"description",label:"Description",fullWidth:!0,margin:"normal",multiline:!0,rows:3,error:o.description&&a.description,helperText:o.description&&a.description})]}),n.jsxs(bt,{children:[n.jsx(le,{onClick:t,children:"Cancel"}),n.jsx(le,{type:"submit",disabled:i,variant:"contained",color:"primary",children:i?"Adding...":"Add Category"})]})]})})]})};var ne=function(){return ne=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ne.apply(this,arguments)};function it(e,t,r){if(r||arguments.length===2)for(var a=0,o=t.length,i;a<o;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var z="-ms-",qe="-moz-",I="-webkit-",zr="comm",vt="rule",Yt="decl",Zn="@import",Lr="@keyframes",Jn="@layer",Or=Math.abs,Zt=String.fromCharCode,zt=Object.assign;function Kn(e,t){return W(e,0)^45?(((t<<2^W(e,0))<<2^W(e,1))<<2^W(e,2))<<2^W(e,3):0}function Dr(e){return e.trim()}function be(e,t){return(e=t.exec(e))?e[0]:e}function P(e,t,r){return e.replace(t,r)}function Xe(e,t,r){return e.indexOf(t,r)}function W(e,t){return e.charCodeAt(t)|0}function ze(e,t,r){return e.slice(t,r)}function ge(e){return e.length}function Mr(e){return e.length}function We(e,t){return t.push(e),e}function Xn(e,t){return e.map(t).join("")}function nr(e,t){return e.filter(function(r){return!be(r,t)})}var yt=1,Le=1,Nr=0,ue=0,N=0,Ne="";function jt(e,t,r,a,o,i,s,p){return{value:e,root:t,parent:r,type:a,props:o,children:i,line:yt,column:Le,length:s,return:"",siblings:p}}function ye(e,t){return zt(jt("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function ke(e){for(;e.root;)e=ye(e.root,{children:[e]});We(e,e.siblings)}function Qn(){return N}function ea(){return N=ue>0?W(Ne,--ue):0,Le--,N===10&&(Le=1,yt--),N}function he(){return N=ue<Nr?W(Ne,ue++):0,Le++,N===10&&(Le=1,yt++),N}function Pe(){return W(Ne,ue)}function Qe(){return ue}function Ct(e,t){return ze(Ne,e,t)}function Lt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ta(e){return yt=Le=1,Nr=ge(Ne=e),ue=0,[]}function ra(e){return Ne="",e}function Pt(e){return Dr(Ct(ue-1,Ot(e===91?e+2:e===40?e+1:e)))}function na(e){for(;(N=Pe())&&N<33;)he();return Lt(e)>2||Lt(N)>3?"":" "}function aa(e,t){for(;--t&&he()&&!(N<48||N>102||N>57&&N<65||N>70&&N<97););return Ct(e,Qe()+(t<6&&Pe()==32&&he()==32))}function Ot(e){for(;he();)switch(N){case e:return ue;case 34:case 39:e!==34&&e!==39&&Ot(N);break;case 40:e===41&&Ot(e);break;case 92:he();break}return ue}function oa(e,t){for(;he()&&e+N!==57;)if(e+N===84&&Pe()===47)break;return"/*"+Ct(t,ue-1)+"*"+Zt(e===47?e:he())}function ia(e){for(;!Lt(Pe());)he();return Ct(e,ue)}function sa(e){return ra(et("",null,null,null,[""],e=ta(e),0,[0],e))}function et(e,t,r,a,o,i,s,p,f){for(var v=0,x=0,b=s,m=0,c=0,l=0,h=1,A=1,j=1,y=0,R="",d=o,C=i,_=a,g=R;A;)switch(l=y,y=he()){case 40:if(l!=108&&W(g,b-1)==58){Xe(g+=P(Pt(y),"&","&\f"),"&\f",Or(v?p[v-1]:0))!=-1&&(j=-1);break}case 34:case 39:case 91:g+=Pt(y);break;case 9:case 10:case 13:case 32:g+=na(l);break;case 92:g+=aa(Qe()-1,7);continue;case 47:switch(Pe()){case 42:case 47:We(ca(oa(he(),Qe()),t,r,f),f);break;default:g+="/"}break;case 123*h:p[v++]=ge(g)*j;case 125*h:case 59:case 0:switch(y){case 0:case 125:A=0;case 59+x:j==-1&&(g=P(g,/\f/g,"")),c>0&&ge(g)-b&&We(c>32?or(g+";",a,r,b-1,f):or(P(g," ","")+";",a,r,b-2,f),f);break;case 59:g+=";";default:if(We(_=ar(g,t,r,v,x,o,p,R,d=[],C=[],b,i),i),y===123)if(x===0)et(g,t,_,_,d,i,b,p,C);else switch(m===99&&W(g,3)===110?100:m){case 100:case 108:case 109:case 115:et(e,_,_,a&&We(ar(e,_,_,0,0,o,p,R,o,d=[],b,C),C),o,C,b,p,a?d:C);break;default:et(g,_,_,_,[""],C,0,p,C)}}v=x=c=0,h=j=1,R=g="",b=s;break;case 58:b=1+ge(g),c=l;default:if(h<1){if(y==123)--h;else if(y==125&&h++==0&&ea()==125)continue}switch(g+=Zt(y),y*h){case 38:j=x>0?1:(g+="\f",-1);break;case 44:p[v++]=(ge(g)-1)*j,j=1;break;case 64:Pe()===45&&(g+=Pt(he())),m=Pe(),x=b=ge(R=g+=ia(Qe())),y++;break;case 45:l===45&&ge(g)==2&&(h=0)}}return i}function ar(e,t,r,a,o,i,s,p,f,v,x,b){for(var m=o-1,c=o===0?i:[""],l=Mr(c),h=0,A=0,j=0;h<a;++h)for(var y=0,R=ze(e,m+1,m=Or(A=s[h])),d=e;y<l;++y)(d=Dr(A>0?c[y]+" "+R:P(R,/&\f/g,c[y])))&&(f[j++]=d);return jt(e,t,r,o===0?vt:p,f,v,x,b)}function ca(e,t,r,a){return jt(e,t,r,zr,Zt(Qn()),ze(e,2,-2),0,a)}function or(e,t,r,a,o){return jt(e,t,r,Yt,ze(e,0,a),ze(e,a+1,-1),a,o)}function Fr(e,t,r){switch(Kn(e,t)){case 5103:return I+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return I+e+e;case 4789:return qe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return I+e+qe+e+z+e+e;case 5936:switch(W(e,t+11)){case 114:return I+e+z+P(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return I+e+z+P(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return I+e+z+P(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return I+e+z+e+e;case 6165:return I+e+z+"flex-"+e+e;case 5187:return I+e+P(e,/(\w+).+(:[^]+)/,I+"box-$1$2"+z+"flex-$1$2")+e;case 5443:return I+e+z+"flex-item-"+P(e,/flex-|-self/g,"")+(be(e,/flex-|baseline/)?"":z+"grid-row-"+P(e,/flex-|-self/g,""))+e;case 4675:return I+e+z+"flex-line-pack"+P(e,/align-content|flex-|-self/g,"")+e;case 5548:return I+e+z+P(e,"shrink","negative")+e;case 5292:return I+e+z+P(e,"basis","preferred-size")+e;case 6060:return I+"box-"+P(e,"-grow","")+I+e+z+P(e,"grow","positive")+e;case 4554:return I+P(e,/([^-])(transform)/g,"$1"+I+"$2")+e;case 6187:return P(P(P(e,/(zoom-|grab)/,I+"$1"),/(image-set)/,I+"$1"),e,"")+e;case 5495:case 3959:return P(e,/(image-set\([^]*)/,I+"$1$`$1");case 4968:return P(P(e,/(.+:)(flex-)?(.*)/,I+"box-pack:$3"+z+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+I+e+e;case 4200:if(!be(e,/flex-|baseline/))return z+"grid-column-align"+ze(e,t)+e;break;case 2592:case 3360:return z+P(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(a,o){return t=o,be(a.props,/grid-\w+-end/)})?~Xe(e+(r=r[t].value),"span",0)?e:z+P(e,"-start","")+e+z+"grid-row-span:"+(~Xe(r,"span",0)?be(r,/\d+/):+be(r,/\d+/)-+be(e,/\d+/))+";":z+P(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(a){return be(a.props,/grid-\w+-start/)})?e:z+P(P(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return P(e,/(.+)-inline(.+)/,I+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ge(e)-1-t>6)switch(W(e,t+1)){case 109:if(W(e,t+4)!==45)break;case 102:return P(e,/(.+:)(.+)-([^]+)/,"$1"+I+"$2-$3$1"+qe+(W(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Xe(e,"stretch",0)?Fr(P(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return P(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,o,i,s,p,f,v){return z+o+":"+i+v+(s?z+o+"-span:"+(p?f:+f-+i)+v:"")+e});case 4949:if(W(e,t+6)===121)return P(e,":",":"+I)+e;break;case 6444:switch(W(e,W(e,14)===45?18:11)){case 120:return P(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+I+(W(e,14)===45?"inline-":"")+"box$3$1"+I+"$2$3$1"+z+"$2box$3")+e;case 100:return P(e,":",":"+z)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return P(e,"scroll-","scroll-snap-")+e}return e}function st(e,t){for(var r="",a=0;a<e.length;a++)r+=t(e[a],a,e,t)||"";return r}function la(e,t,r,a){switch(e.type){case Jn:if(e.children.length)break;case Zn:case Yt:return e.return=e.return||e.value;case zr:return"";case Lr:return e.return=e.value+"{"+st(e.children,a)+"}";case vt:if(!ge(e.value=e.props.join(",")))return""}return ge(r=st(e.children,a))?e.return=e.value+"{"+r+"}":""}function da(e){var t=Mr(e);return function(r,a,o,i){for(var s="",p=0;p<t;p++)s+=e[p](r,a,o,i)||"";return s}}function ua(e){return function(t){t.root||(t=t.return)&&e(t)}}function pa(e,t,r,a){if(e.length>-1&&!e.return)switch(e.type){case Yt:e.return=Fr(e.value,e.length,r);return;case Lr:return st([ye(e,{value:P(e.value,"@","@"+I)})],a);case vt:if(e.length)return Xn(r=e.props,function(o){switch(be(o,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ke(ye(e,{props:[P(o,/:(read-\w+)/,":"+qe+"$1")]})),ke(ye(e,{props:[o]})),zt(e,{props:nr(r,a)});break;case"::placeholder":ke(ye(e,{props:[P(o,/:(plac\w+)/,":"+I+"input-$1")]})),ke(ye(e,{props:[P(o,/:(plac\w+)/,":"+qe+"$1")]})),ke(ye(e,{props:[P(o,/:(plac\w+)/,z+"input-$1")]})),ke(ye(e,{props:[o]})),zt(e,{props:nr(r,a)});break}return""})}}var fa={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ce={},Oe=typeof process<"u"&&ce!==void 0&&(ce.REACT_APP_SC_ATTR||ce.SC_ATTR)||"data-styled",Wr="active",Vr="data-styled-version",wt="6.1.13",Jt=`/*!sc*/
`,ct=typeof window<"u"&&"HTMLElement"in window,ha=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ce!==void 0&&ce.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ce.REACT_APP_SC_DISABLE_SPEEDY!==""?ce.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ce.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ce!==void 0&&ce.SC_DISABLE_SPEEDY!==void 0&&ce.SC_DISABLE_SPEEDY!==""&&ce.SC_DISABLE_SPEEDY!=="false"&&ce.SC_DISABLE_SPEEDY),_t=Object.freeze([]),De=Object.freeze({});function ga(e,t,r){return r===void 0&&(r=De),e.theme!==r.theme&&e.theme||t||r.theme}var qr=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ma=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,xa=/(^-|-$)/g;function ir(e){return e.replace(ma,"-").replace(xa,"")}var ba=/(a)(d)/gi,Je=52,sr=function(e){return String.fromCharCode(e+(e>25?39:97))};function Dt(e){var t,r="";for(t=Math.abs(e);t>Je;t=t/Je|0)r=sr(t%Je)+r;return(sr(t%Je)+r).replace(ba,"$1-$2")}var Rt,Gr=5381,Ie=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},Hr=function(e){return Ie(Gr,e)};function va(e){return Dt(Hr(e)>>>0)}function ya(e){return e.displayName||e.name||"Component"}function At(e){return typeof e=="string"&&!0}var Ur=typeof Symbol=="function"&&Symbol.for,Yr=Ur?Symbol.for("react.memo"):60115,ja=Ur?Symbol.for("react.forward_ref"):60112,Ca={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},wa={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Zr={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_a=((Rt={})[ja]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Rt[Yr]=Zr,Rt);function cr(e){return("type"in(t=e)&&t.type.$$typeof)===Yr?Zr:"$$typeof"in e?_a[e.$$typeof]:Ca;var t}var Sa=Object.defineProperty,$a=Object.getOwnPropertyNames,lr=Object.getOwnPropertySymbols,Pa=Object.getOwnPropertyDescriptor,Ra=Object.getPrototypeOf,dr=Object.prototype;function Jr(e,t,r){if(typeof t!="string"){if(dr){var a=Ra(t);a&&a!==dr&&Jr(e,a,r)}var o=$a(t);lr&&(o=o.concat(lr(t)));for(var i=cr(e),s=cr(t),p=0;p<o.length;++p){var f=o[p];if(!(f in wa||r&&r[f]||s&&f in s||i&&f in i)){var v=Pa(t,f);try{Sa(e,f,v)}catch{}}}}return e}function Me(e){return typeof e=="function"}function Kt(e){return typeof e=="object"&&"styledComponentId"in e}function $e(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function ur(e,t){if(e.length===0)return"";for(var r=e[0],a=1;a<e.length;a++)r+=e[a];return r}function He(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Mt(e,t,r){if(r===void 0&&(r=!1),!r&&!He(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var a=0;a<t.length;a++)e[a]=Mt(e[a],t[a]);else if(He(t))for(var a in t)e[a]=Mt(e[a],t[a]);return e}function Xt(e,t){Object.defineProperty(e,"toString",{value:t})}function Ue(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Aa=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var r=0,a=0;a<t;a++)r+=this.groupSizes[a];return r},e.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var a=this.groupSizes,o=a.length,i=o;t>=i;)if((i<<=1)<0)throw Ue(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(a),this.length=i;for(var s=o;s<i;s++)this.groupSizes[s]=0}for(var p=this.indexOfGroup(t+1),f=(s=0,r.length);s<f;s++)this.tag.insertRule(p,r[s])&&(this.groupSizes[t]++,p++)},e.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],a=this.indexOfGroup(t),o=a+r;this.groupSizes[t]=0;for(var i=a;i<o;i++)this.tag.deleteRule(a)}},e.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var a=this.groupSizes[t],o=this.indexOfGroup(t),i=o+a,s=o;s<i;s++)r+="".concat(this.tag.getRule(s)).concat(Jt);return r},e}(),tt=new Map,lt=new Map,rt=1,Ke=function(e){if(tt.has(e))return tt.get(e);for(;lt.has(rt);)rt++;var t=rt++;return tt.set(e,t),lt.set(t,e),t},Ta=function(e,t){rt=t+1,tt.set(e,t),lt.set(t,e)},ka="style[".concat(Oe,"][").concat(Vr,'="').concat(wt,'"]'),Ia=new RegExp("^".concat(Oe,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ba=function(e,t,r){for(var a,o=r.split(","),i=0,s=o.length;i<s;i++)(a=o[i])&&e.registerName(t,a)},Ea=function(e,t){for(var r,a=((r=t.textContent)!==null&&r!==void 0?r:"").split(Jt),o=[],i=0,s=a.length;i<s;i++){var p=a[i].trim();if(p){var f=p.match(Ia);if(f){var v=0|parseInt(f[1],10),x=f[2];v!==0&&(Ta(x,v),Ba(e,x,f[3]),e.getTag().insertRules(v,o)),o.length=0}else o.push(p)}}},pr=function(e){for(var t=document.querySelectorAll(ka),r=0,a=t.length;r<a;r++){var o=t[r];o&&o.getAttribute(Oe)!==Wr&&(Ea(e,o),o.parentNode&&o.parentNode.removeChild(o))}};function za(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Kr=function(e){var t=document.head,r=e||t,a=document.createElement("style"),o=function(p){var f=Array.from(p.querySelectorAll("style[".concat(Oe,"]")));return f[f.length-1]}(r),i=o!==void 0?o.nextSibling:null;a.setAttribute(Oe,Wr),a.setAttribute(Vr,wt);var s=za();return s&&a.setAttribute("nonce",s),r.insertBefore(a,i),a},La=function(){function e(t){this.element=Kr(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var a=document.styleSheets,o=0,i=a.length;o<i;o++){var s=a[o];if(s.ownerNode===r)return s}throw Ue(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},e}(),Oa=function(){function e(t){this.element=Kr(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var a=document.createTextNode(r);return this.element.insertBefore(a,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),Da=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),fr=ct,Ma={isServer:!ct,useCSSOMInjection:!ha},Xr=function(){function e(t,r,a){t===void 0&&(t=De),r===void 0&&(r={});var o=this;this.options=ne(ne({},Ma),t),this.gs=r,this.names=new Map(a),this.server=!!t.isServer,!this.server&&ct&&fr&&(fr=!1,pr(this)),Xt(this,function(){return function(i){for(var s=i.getTag(),p=s.length,f="",v=function(b){var m=function(j){return lt.get(j)}(b);if(m===void 0)return"continue";var c=i.names.get(m),l=s.getGroup(b);if(c===void 0||!c.size||l.length===0)return"continue";var h="".concat(Oe,".g").concat(b,'[id="').concat(m,'"]'),A="";c!==void 0&&c.forEach(function(j){j.length>0&&(A+="".concat(j,","))}),f+="".concat(l).concat(h,'{content:"').concat(A,'"}').concat(Jt)},x=0;x<p;x++)v(x);return f}(o)})}return e.registerId=function(t){return Ke(t)},e.prototype.rehydrate=function(){!this.server&&ct&&pr(this)},e.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new e(ne(ne({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(r){var a=r.useCSSOMInjection,o=r.target;return r.isServer?new Da(o):a?new La(o):new Oa(o)}(this.options),new Aa(t)));var t},e.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.prototype.registerName=function(t,r){if(Ke(t),this.names.has(t))this.names.get(t).add(r);else{var a=new Set;a.add(r),this.names.set(t,a)}},e.prototype.insertRules=function(t,r,a){this.registerName(t,r),this.getTag().insertRules(Ke(t),a)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Ke(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Na=/&/g,Fa=/^\s*\/\/.*$/gm;function Qr(e,t){return e.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(a){return"".concat(t," ").concat(a)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Qr(r.children,t)),r})}function Wa(e){var t,r,a,o=De,i=o.options,s=i===void 0?De:i,p=o.plugins,f=p===void 0?_t:p,v=function(m,c,l){return l.startsWith(r)&&l.endsWith(r)&&l.replaceAll(r,"").length>0?".".concat(t):m},x=f.slice();x.push(function(m){m.type===vt&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(Na,r).replace(a,v))}),s.prefix&&x.push(pa),x.push(la);var b=function(m,c,l,h){c===void 0&&(c=""),l===void 0&&(l=""),h===void 0&&(h="&"),t=h,r=c,a=new RegExp("\\".concat(r,"\\b"),"g");var A=m.replace(Fa,""),j=sa(l||c?"".concat(l," ").concat(c," { ").concat(A," }"):A);s.namespace&&(j=Qr(j,s.namespace));var y=[];return st(j,da(x.concat(ua(function(R){return y.push(R)})))),y};return b.hash=f.length?f.reduce(function(m,c){return c.name||Ue(15),Ie(m,c.name)},Gr).toString():"",b}var Va=new Xr,Nt=Wa(),en=Ge.createContext({shouldForwardProp:void 0,styleSheet:Va,stylis:Nt});en.Consumer;Ge.createContext(void 0);function hr(){return w.useContext(en)}var qa=function(){function e(t,r){var a=this;this.inject=function(o,i){i===void 0&&(i=Nt);var s=a.name+i.hash;o.hasNameForId(a.id,s)||o.insertRules(a.id,s,i(a.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,Xt(this,function(){throw Ue(12,String(a.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Nt),this.name+t.hash},e}(),Ga=function(e){return e>="A"&&e<="Z"};function gr(e){for(var t="",r=0;r<e.length;r++){var a=e[r];if(r===1&&a==="-"&&e[0]==="-")return e;Ga(a)?t+="-"+a.toLowerCase():t+=a}return t.startsWith("ms-")?"-"+t:t}var tn=function(e){return e==null||e===!1||e===""},rn=function(e){var t,r,a=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!tn(i)&&(Array.isArray(i)&&i.isCss||Me(i)?a.push("".concat(gr(o),":"),i,";"):He(i)?a.push.apply(a,it(it(["".concat(o," {")],rn(i),!1),["}"],!1)):a.push("".concat(gr(o),": ").concat((t=o,(r=i)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in fa||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return a};function Re(e,t,r,a){if(tn(e))return[];if(Kt(e))return[".".concat(e.styledComponentId)];if(Me(e)){if(!Me(i=e)||i.prototype&&i.prototype.isReactComponent||!t)return[e];var o=e(t);return Re(o,t,r,a)}var i;return e instanceof qa?r?(e.inject(r,a),[e.getName(a)]):[e]:He(e)?rn(e):Array.isArray(e)?Array.prototype.concat.apply(_t,e.map(function(s){return Re(s,t,r,a)})):[e.toString()]}function Ha(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(Me(r)&&!Kt(r))return!1}return!0}var Ua=Hr(wt),Ya=function(){function e(t,r,a){this.rules=t,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&Ha(t),this.componentId=r,this.baseHash=Ie(Ua,r),this.baseStyle=a,Xr.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,a){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))o=$e(o,this.staticRulesId);else{var i=ur(Re(this.rules,t,r,a)),s=Dt(Ie(this.baseHash,i)>>>0);if(!r.hasNameForId(this.componentId,s)){var p=a(i,".".concat(s),void 0,this.componentId);r.insertRules(this.componentId,s,p)}o=$e(o,s),this.staticRulesId=s}else{for(var f=Ie(this.baseHash,a.hash),v="",x=0;x<this.rules.length;x++){var b=this.rules[x];if(typeof b=="string")v+=b;else if(b){var m=ur(Re(b,t,r,a));f=Ie(f,m+x),v+=m}}if(v){var c=Dt(f>>>0);r.hasNameForId(this.componentId,c)||r.insertRules(this.componentId,c,a(v,".".concat(c),void 0,this.componentId)),o=$e(o,c)}}return o},e}(),nn=Ge.createContext(void 0);nn.Consumer;var Tt={};function Za(e,t,r){var a=Kt(e),o=e,i=!At(e),s=t.attrs,p=s===void 0?_t:s,f=t.componentId,v=f===void 0?function(d,C){var _=typeof d!="string"?"sc":ir(d);Tt[_]=(Tt[_]||0)+1;var g="".concat(_,"-").concat(va(wt+_+Tt[_]));return C?"".concat(C,"-").concat(g):g}(t.displayName,t.parentComponentId):f,x=t.displayName,b=x===void 0?function(d){return At(d)?"styled.".concat(d):"Styled(".concat(ya(d),")")}(e):x,m=t.displayName&&t.componentId?"".concat(ir(t.displayName),"-").concat(t.componentId):t.componentId||v,c=a&&o.attrs?o.attrs.concat(p).filter(Boolean):p,l=t.shouldForwardProp;if(a&&o.shouldForwardProp){var h=o.shouldForwardProp;if(t.shouldForwardProp){var A=t.shouldForwardProp;l=function(d,C){return h(d,C)&&A(d,C)}}else l=h}var j=new Ya(r,m,a?o.componentStyle:void 0);function y(d,C){return function(_,g,S){var D=_.attrs,Z=_.componentStyle,q=_.defaultProps,pe=_.foldedComponentIds,fe=_.styledComponentId,ae=_.target,J=Ge.useContext(nn),ee=hr(),G=_.shouldForwardProp||ee.shouldForwardProp,oe=ga(g,J,q)||De,M=function(T,X,H){for(var ie,U=ne(ne({},X),{className:void 0,theme:H}),se=0;se<T.length;se+=1){var te=Me(ie=T[se])?ie(U):ie;for(var F in te)U[F]=F==="className"?$e(U[F],te[F]):F==="style"?ne(ne({},U[F]),te[F]):te[F]}return X.className&&(U.className=$e(U.className,X.className)),U}(D,g,oe),K=M.as||ae,$={};for(var B in M)M[B]===void 0||B[0]==="$"||B==="as"||B==="theme"&&M.theme===oe||(B==="forwardedAs"?$.as=M.forwardedAs:G&&!G(B,K)||($[B]=M[B]));var L=function(T,X){var H=hr(),ie=T.generateAndInjectStyles(X,H.styleSheet,H.stylis);return ie}(Z,M),u=$e(pe,fe);return L&&(u+=" "+L),M.className&&(u+=" "+M.className),$[At(K)&&!qr.has(K)?"class":"className"]=u,$.ref=S,w.createElement(K,$)}(R,d,C)}y.displayName=b;var R=Ge.forwardRef(y);return R.attrs=c,R.componentStyle=j,R.displayName=b,R.shouldForwardProp=l,R.foldedComponentIds=a?$e(o.foldedComponentIds,o.styledComponentId):"",R.styledComponentId=m,R.target=a?o.target:e,Object.defineProperty(R,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(d){this._foldedDefaultProps=a?function(C){for(var _=[],g=1;g<arguments.length;g++)_[g-1]=arguments[g];for(var S=0,D=_;S<D.length;S++)Mt(C,D[S],!0);return C}({},o.defaultProps,d):d}}),Xt(R,function(){return".".concat(R.styledComponentId)}),i&&Jr(R,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),R}function mr(e,t){for(var r=[e[0]],a=0,o=t.length;a<o;a+=1)r.push(t[a],e[a+1]);return r}var xr=function(e){return Object.assign(e,{isCss:!0})};function an(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Me(e)||He(e))return xr(Re(mr(_t,it([e],t,!0))));var a=e;return t.length===0&&a.length===1&&typeof a[0]=="string"?Re(a):xr(Re(mr(a,t)))}function Ft(e,t,r){if(r===void 0&&(r=De),!t)throw Ue(1,t);var a=function(o){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,r,an.apply(void 0,it([o],i,!1)))};return a.attrs=function(o){return Ft(e,t,ne(ne({},r),{attrs:Array.prototype.concat(r.attrs,o).filter(Boolean)}))},a.withConfig=function(o){return Ft(e,t,ne(ne({},r),o))},a}var on=function(e){return Ft(Za,e)},Ye=on;qr.forEach(function(e){Ye[e]=on(e)});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ae=function(){return Ae=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ae.apply(this,arguments)};function Ze(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var br,vr,yr,jr,Cr,Ja=an(br||(br=Ze([`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`],[`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`])),"#0658c2","#666","#666","#666","#666","#666"),Ka=Ye.label(vr||(vr=Ze([`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`],[`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`])),function(e){return e.overRide?"":Ja}),Xa=Ye.div(yr||(yr=Ze([`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.9;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`],[`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.9;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`])),"#666","#999"),Qa=Ye.div(jr||(jr=Ze([`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`],[`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`])),function(e){return e.error?"red":"#666"}),eo=Ye.span(Cr||(Cr=Ze([`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`],[`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`])),"#666"),wr=function(e){return e/1024/1024},to=function(e){return e===void 0?"":e.map(function(t){return".".concat(t.toLowerCase())}).join(",")};function ro(e){var t=e.types,r=e.minSize,a=e.maxSize;if(t){var o=t.toString(),i="";return a&&(i+="size >= ".concat(a,", ")),r&&(i+="size <= ".concat(r,", ")),n.jsx("span",Ae({title:"".concat(i,"types: ").concat(o),className:"file-types"},{children:o}),void 0)}return null}function no(){return n.jsxs("svg",Ae({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[n.jsx("path",{d:"M5.33317 6.66667H22.6665V16H25.3332V6.66667C25.3332 5.196 24.1372 4 22.6665 4H5.33317C3.8625 4 2.6665 5.196 2.6665 6.66667V22.6667C2.6665 24.1373 3.8625 25.3333 5.33317 25.3333H15.9998V22.6667H5.33317V6.66667Z",fill:"#0658C2"},void 0),n.jsx("path",{d:"M10.6665 14.6667L6.6665 20H21.3332L15.9998 12L11.9998 17.3333L10.6665 14.6667Z",fill:"#0658C2"},void 0),n.jsx("path",{d:"M25.3332 18.6667H22.6665V22.6667H18.6665V25.3333H22.6665V29.3333H25.3332V25.3333H29.3332V22.6667H25.3332V18.6667Z",fill:"#0658C2"},void 0)]}),void 0)}var kt=0,ao=function(e,t,r,a,o,i){return r?n.jsx("span",{children:"File type/size error, Hovered on types!"},void 0):n.jsx(eo,{children:a?n.jsx("span",{children:"Upload disabled"},void 0):n.jsx(n.Fragment,e||t?{children:i?n.jsx(n.Fragment,{children:n.jsx("span",{children:i},void 0)},void 0):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Uploaded Successfully!"},void 0)," Upload another?"]},void 0)}:{children:n.jsxs(n.Fragment,o?{children:[n.jsx("span",{children:o.split(" ")[0]},void 0)," ",o.substr(o.indexOf(" ")+1)]}:{children:[n.jsx("span",{children:"Upload"},void 0)," or drop a file right here"]},void 0)},void 0)},void 0)},sn=function(e){var t=e.name,r=e.hoverTitle,a=e.types,o=e.handleChange,i=e.classes,s=e.children,p=e.maxSize,f=e.minSize,v=e.fileOrFiles,x=e.onSizeError,b=e.onTypeError,m=e.onSelect,c=e.onDrop,l=e.disabled,h=e.label,A=e.uploadedLabel,j=e.multiple,y=e.required,R=e.onDraggingStateChange,d=e.dropMessageStyle,C=e.ariaLabel,_=e.ariaDescribedby,g=w.useRef(null),S=w.useRef(null),D=w.useState(!1),Z=D[0],q=D[1],pe=w.useState(null),fe=pe[0],ae=pe[1],J=w.useState(!1),ee=J[0],G=J[1],oe=function($){return a&&!function(B,L){var u=B.name.split(".").pop();return L.map(function(T){return T.toLowerCase()}).includes(u.toLowerCase())}($,a)?(G(!0),b&&b("File type is not supported"),!1):p&&wr($.size)>p?(G(!0),x&&x("File size is too big"),!1):!(f&&wr($.size)<f)||(G(!0),x&&x("File size is too small"),!1)},M=function($){var B=!1;if($){if($ instanceof File)B=!oe($);else for(var L=0;L<$.length;L++){var u=$[L];B=!oe(u)||B}return!B&&(o&&o($),ae($),q(!0),G(!1),!0)}return!1},K=function($){var B=$.labelRef,L=$.inputRef,u=$.multiple,T=$.handleChanges,X=$.onDrop,H=w.useState(!1),ie=H[0],U=H[1],se=w.useCallback(function(){L.current.click()},[L]),te=w.useCallback(function(k){k.preventDefault(),k.stopPropagation(),kt++,k.dataTransfer.items&&k.dataTransfer.items.length!==0&&U(!0)},[]),F=w.useCallback(function(k){k.preventDefault(),k.stopPropagation(),--kt>0||U(!1)},[]),me=w.useCallback(function(k){k.preventDefault(),k.stopPropagation()},[]),xe=w.useCallback(function(k){k.preventDefault(),k.stopPropagation(),U(!1),kt=0;var we=k.dataTransfer.files;if(we&&we.length>0){var Qt=u?we:we[0],cn=T(Qt);X&&cn&&X(Qt)}},[T]);return w.useEffect(function(){var k=B.current;return k.addEventListener("click",se),k.addEventListener("dragenter",te),k.addEventListener("dragleave",F),k.addEventListener("dragover",me),k.addEventListener("drop",xe),function(){k.removeEventListener("click",se),k.removeEventListener("dragenter",te),k.removeEventListener("dragleave",F),k.removeEventListener("dragover",me),k.removeEventListener("drop",xe)}},[se,te,F,me,xe,B]),ie}({labelRef:g,inputRef:S,multiple:j,handleChanges:M,onDrop:c});return w.useEffect(function(){R==null||R(K)},[K]),w.useEffect(function(){v?(q(!0),ae(v)):(S.current&&(S.current.value=""),q(!1),ae(null))},[v]),n.jsxs(Ka,Ae({overRide:s,className:"".concat(i||""," ").concat(l?"is-disabled":""),ref:g,htmlFor:t,onClick:function($){$.preventDefault(),$.stopPropagation()},"aria-describedby":_,role:"button","aria-label":C},{children:[n.jsx("input",{onClick:function($){$.stopPropagation(),S&&S.current&&(S.current.value="",S.current.click())},onChange:function($){var B=$.target.files,L=j?B:B[0],u=M(L);m&&u&&m(L)},accept:to(a),ref:S,type:"file",id:t,name:t,disabled:l,multiple:j,required:y},void 0),K&&n.jsx(Xa,Ae({style:d},{children:n.jsx("span",{children:r||"Drop Here"},void 0)}),void 0),!s&&n.jsxs(n.Fragment,{children:[n.jsx(no,{},void 0),n.jsxs(Qa,Ae({error:ee},{children:[ao(fe,Z,ee,l,h,A),n.jsx(ro,{types:a,minSize:f,maxSize:p},void 0)]}),void 0)]},void 0),s]}),void 0)};const oo=Ee().shape({product_name:ve().min(2,"Too Short!").max(100,"Too Long!").required("Required"),product_category_id:Ce().required("Required"),reorder_level:Ce().min(0,"Must be 0 or greater").required("Required"),product_type:ve().oneOf(["raw","finished","custom"],"Invalid product type").required("Required"),product_image:Tr().nullable().test("fileSize","File is too large",e=>!e||e.size<=5e6),attributes:kr().of(Ee().shape({attribute_id:Ce().required("Required"),value:Ce().required("Required")}))}),io=["JPG","JPEG","PNG","GIF"],so=({open:e,handleClose:t,categories:r})=>{const a=pn(),o=Sr(),{data:i=[]}=$r(),[s,p]=w.useState(null),{refetch:f}=Ht(),v=(m,c)=>{m&&(c("product_image",m),p(URL.createObjectURL(m)))},x=()=>{t(),p(null)},b=(m,c,l)=>l.some((h,A)=>h.attribute_id===m&&A!==c);return n.jsxs(gt,{open:e,onClose:x,maxWidth:"md",fullWidth:!0,children:[n.jsx(mt,{children:"Add New Product"}),n.jsx(ft,{initialValues:{product_name:"",product_category_id:"",reorder_level:0,product_type:"raw",product_image:null,attributes:[]},validationSchema:oo,onSubmit:async(m,{setSubmitting:c,resetForm:l})=>{try{const h=await a.mutateAsync(m);m.product_image&&await o.mutateAsync({id:h.data.id,image:m.product_image}),f(),p(null),l(),x(),at.success("Successfully Created Product")}catch(h){at.error("Something went wrong please try again"),console.error("Error creating product:",h)}finally{c(!1)}},children:({values:m,errors:c,touched:l,isSubmitting:h,setFieldValue:A})=>n.jsxs(ht,{children:[n.jsxs(xt,{children:[n.jsx(Q,{sx:{maxWidth:500,mx:"auto",mt:2,mb:2},children:n.jsx(Be,{variant:"outlined",sx:{p:3,borderStyle:"dashed",borderColor:"grey.400",backgroundColor:"grey.50","&:hover":{borderColor:"primary.main",cursor:"pointer"}},children:n.jsxs(Q,{sx:{textAlign:"center"},children:[n.jsx(sn,{handleChange:j=>v(j,A),name:"product_image",label:"Upload or drop a Product Image",types:io,multiple:!1}),l.product_image&&c.product_image&&n.jsx(je,{color:"error",variant:"caption",display:"block",sx:{mt:1},children:c.product_image}),s&&n.jsx(Be,{elevation:0,sx:{p:2,mt:2,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"grey.50",borderRadius:1},children:n.jsx(Q,{sx:{width:"100%",height:200,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",borderRadius:1,bgcolor:"white"},children:n.jsx("img",{src:s,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})})]})})}),n.jsx(Y,{as:V,name:"product_name",label:"Product Name",fullWidth:!0,margin:"normal",error:l.product_name&&c.product_name,helperText:l.product_name&&c.product_name}),n.jsx(Y,{as:V,select:!0,name:"product_category_id",label:"Category",fullWidth:!0,margin:"normal",error:l.product_category_id&&c.product_category_id,helperText:l.product_category_id&&c.product_category_id,children:r.map(j=>n.jsx(de,{value:j.id,children:j.name},j.id))}),n.jsx(Y,{as:V,name:"reorder_level",label:"Reorder Level",type:"number",fullWidth:!0,margin:"normal",error:l.reorder_level&&c.reorder_level,helperText:l.reorder_level&&c.reorder_level}),n.jsxs(Y,{as:V,select:!0,name:"product_type",label:"Product Type",fullWidth:!0,margin:"normal",error:l.product_type&&c.product_type,helperText:l.product_type&&c.product_type,children:[n.jsx(de,{value:"raw",children:"Raw Material"}),n.jsx(de,{value:"finished",children:"Finished Product"}),n.jsx(de,{value:"custom",children:"Custom Product"})]}),n.jsx(Pr,{sx:{my:2}}),n.jsx(je,{variant:"subtitle1",gutterBottom:!0,children:"Product Attributes"}),n.jsx(Ir,{name:"attributes",children:({push:j,remove:y})=>n.jsxs(Q,{children:[m.attributes.map((R,d)=>{var C,_,g,S,D,Z,q,pe,fe,ae,J,ee,G,oe,M,K;return n.jsxs(Q,{sx:{display:"flex",gap:2,mb:2},children:[n.jsx(Y,{as:V,select:!0,name:`attributes.${d}.attribute_id`,label:"Attribute",fullWidth:!0,error:((_=(C=l.attributes)==null?void 0:C[d])==null?void 0:_.attribute_id)&&((S=(g=c.attributes)==null?void 0:g[d])==null?void 0:S.attribute_id),helperText:((Z=(D=l.attributes)==null?void 0:D[d])==null?void 0:Z.attribute_id)&&((pe=(q=c.attributes)==null?void 0:q[d])==null?void 0:pe.attribute_id),children:i.map($=>n.jsxs(de,{disabled:b($.id,d,m.attributes),value:$.id,children:[$.attribute_name," (",$.unit_of_measurement,")"]},$.id))}),n.jsx(Y,{as:V,name:`attributes.${d}.value`,label:"Value",type:"number",fullWidth:!0,error:((ae=(fe=l.attributes)==null?void 0:fe[d])==null?void 0:ae.value)&&((ee=(J=c.attributes)==null?void 0:J[d])==null?void 0:ee.value),helperText:((oe=(G=l.attributes)==null?void 0:G[d])==null?void 0:oe.value)&&((K=(M=c.attributes)==null?void 0:M[d])==null?void 0:K.value)}),n.jsx(ot,{onClick:()=>y(d),color:"error",children:n.jsx(Ut,{})})]},d)}),n.jsx(le,{type:"button",onClick:()=>j({attribute_id:"",value:""}),startIcon:n.jsx(Ve,{}),variant:"outlined",fullWidth:!0,children:"Add Attribute"})]})})]}),n.jsxs(bt,{children:[n.jsx(le,{onClick:x,children:"Cancel"}),n.jsx(le,{type:"submit",disabled:h,variant:"contained",color:"primary",children:h?"Adding...":"Add Product"})]})]})})]})},co=Ee().shape({attribute_name:ve().required("Required").min(2,"Too Short!").max(100,"Too Long!"),unit_of_measurement:ve().required("Required").max(50,"Too Long!")}),lo=({open:e,handleClose:t})=>{const r=fn();return n.jsxs(gt,{open:e,onClose:t,children:[n.jsx(mt,{children:"Add New Attribute"}),n.jsx(ft,{initialValues:{attribute_name:"",unit_of_measurement:""},validationSchema:co,onSubmit:async(a,{setSubmitting:o,resetForm:i})=>{try{await r.mutateAsync(a),i(),t()}catch(s){console.error("Error creating attribute:",s)}finally{o(!1)}},children:({errors:a,touched:o,isSubmitting:i})=>n.jsxs(ht,{children:[n.jsxs(xt,{children:[n.jsx(Y,{as:V,name:"attribute_name",label:"Attribute Name",fullWidth:!0,margin:"normal",error:o.attribute_name&&a.attribute_name,helperText:o.attribute_name&&a.attribute_name}),n.jsx(Y,{as:V,name:"unit_of_measurement",label:"Unit of Measurement",fullWidth:!0,margin:"normal",error:o.unit_of_measurement&&a.unit_of_measurement,helperText:o.unit_of_measurement&&a.unit_of_measurement})]}),n.jsxs(bt,{children:[n.jsx(le,{onClick:t,children:"Cancel"}),n.jsx(le,{type:"submit",disabled:i,variant:"contained",color:"primary",children:i?"Adding...":"Add Attribute"})]})]})})]})},uo=Ee().shape({product_name:ve().min(2,"Too Short!").max(100,"Too Long!").required("Required"),product_category_id:Ce().required("Required"),reorder_level:Ce().min(0,"Must be 0 or greater").required("Required"),product_type:ve().oneOf(["raw","finished","custom"],"Invalid product type").required("Required"),product_image:Tr().test("fileSize","File is too large",e=>!e||e.size<=5e6),attributes:kr().of(Ee().shape({attribute_id:Ce().required("Required"),value:Ce().required("Required")}))}),po=["JPG","JPEG","PNG","GIF"],fo=({open:e,handleClose:t,categories:r,product:a})=>{const o=hn(),i=Sr(),{data:s=[]}=$r(),[p,f]=w.useState(null),{refetch:v}=Ht();w.useEffect(()=>{a!=null&&a.product_image&&f(Et(a.product_image))},[a]);const x=(c,l)=>{c&&(l("product_image",c),f(URL.createObjectURL(c)))},b=()=>{t(),f(null)},m=(c,l,h)=>h.some((A,j)=>A.attribute_id===c&&j!==l);return a?n.jsxs(gt,{open:e,onClose:b,maxWidth:"md",fullWidth:!0,children:[n.jsx(mt,{children:"Edit Product"}),n.jsx(ft,{initialValues:{product_name:a.product_name||"",product_category_id:a.product_category_id||"",reorder_level:a.reorder_level||0,product_type:a.product_type||"raw",attributes:a.attributes.map(c=>({attribute_id:c.id,value:parseFloat(c.pivot.value)}))||[]},validationSchema:uo,onSubmit:async(c,{setSubmitting:l})=>{try{await o.mutateAsync({id:a.id,data:c}),c.product_image&&await i.mutateAsync({id:a.id,image:c.product_image}),v(),b(),at.success("Successfully Edited Product")}catch(h){at.error("Something went wrong please try again"),console.error("Error updating product:",h)}finally{l(!1)}},children:({values:c,errors:l,touched:h,isSubmitting:A,setFieldValue:j})=>n.jsxs(ht,{children:[n.jsxs(xt,{children:[n.jsx(Q,{sx:{maxWidth:500,mx:"auto",mt:2,mb:2},children:n.jsx(Be,{variant:"outlined",sx:{p:3,borderStyle:"dashed",borderColor:"grey.400",backgroundColor:"grey.50","&:hover":{borderColor:"primary.main",cursor:"pointer"}},children:n.jsxs(Q,{sx:{textAlign:"center"},children:[n.jsx(sn,{handleChange:y=>x(y,j),name:"product_image",label:"Upload or drop a Product Image",types:po,multiple:!1}),p&&n.jsx(Be,{elevation:0,sx:{p:2,mt:2,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"grey.50",borderRadius:1},children:n.jsx(Q,{sx:{width:"100%",height:200,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",borderRadius:1,bgcolor:"white"},children:n.jsx("img",{src:p,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})})]})})}),n.jsx(Y,{as:V,name:"product_name",label:"Product Name",fullWidth:!0,margin:"normal",error:h.product_name&&l.product_name,helperText:h.product_name&&l.product_name}),n.jsx(Y,{as:V,select:!0,name:"product_category_id",label:"Category",fullWidth:!0,margin:"normal",error:h.product_category_id&&l.product_category_id,helperText:h.product_category_id&&l.product_category_id,children:r.map(y=>n.jsx(de,{value:y.id,children:y.name},y.id))}),n.jsx(Y,{as:V,name:"reorder_level",label:"Reorder Level",type:"number",fullWidth:!0,margin:"normal",error:h.reorder_level&&l.reorder_level,helperText:h.reorder_level&&l.reorder_level}),n.jsxs(Y,{as:V,select:!0,name:"product_type",label:"Product Type",fullWidth:!0,margin:"normal",error:h.product_type&&l.product_type,helperText:h.product_type&&l.product_type,children:[n.jsx(de,{value:"raw",children:"Raw Material"}),n.jsx(de,{value:"finished",children:"Finished Product"}),n.jsx(de,{value:"custom",children:"Custom Product"})]}),n.jsx(Pr,{sx:{my:2}}),n.jsx(je,{variant:"subtitle1",gutterBottom:!0,children:"Product Attributes"}),n.jsx(Ir,{name:"attributes",children:({push:y,remove:R})=>n.jsxs(Q,{children:[c.attributes.map((d,C)=>{var _,g,S,D,Z,q,pe,fe,ae,J,ee,G,oe,M,K,$,B;return n.jsxs(Q,{sx:{display:"flex",gap:2,mb:2},children:[n.jsx(Y,{as:V,select:!0,name:`attributes.${C}.attribute_id`,label:"Attribute",fullWidth:!0,error:((g=(_=h.attributes)==null?void 0:_[C])==null?void 0:g.attribute_id)&&((D=(S=l.attributes)==null?void 0:S[C])==null?void 0:D.attribute_id),helperText:((q=(Z=h.attributes)==null?void 0:Z[C])==null?void 0:q.attribute_id)&&((fe=(pe=l.attributes)==null?void 0:pe[C])==null?void 0:fe.attribute_id),children:s.map(L=>n.jsxs(de,{value:L.id,disabled:m(L.id,C,c.attributes),children:[L.attribute_name," (",L.unit_of_measurement,")"]},L.id))}),n.jsx(Y,{as:V,name:`attributes.${C}.value`,label:`Value ${((ae=s.find(L=>L.id===d.attribute_id))==null?void 0:ae.unit_of_measurement)||""}`,type:"number",fullWidth:!0,error:((ee=(J=h.attributes)==null?void 0:J[C])==null?void 0:ee.value)&&((oe=(G=l.attributes)==null?void 0:G[C])==null?void 0:oe.value),helperText:((K=(M=h.attributes)==null?void 0:M[C])==null?void 0:K.value)&&((B=($=l.attributes)==null?void 0:$[C])==null?void 0:B.value)}),n.jsx(ot,{onClick:()=>R(C),color:"error",children:n.jsx(Ut,{})})]},C)}),n.jsx(le,{type:"button",onClick:()=>y({attribute_id:"",value:""}),startIcon:n.jsx(Ve,{}),variant:"outlined",fullWidth:!0,disabled:c.attributes.length>=s.length,children:"Add Attribute"})]})})]}),n.jsxs(bt,{children:[n.jsx(le,{onClick:b,children:"Cancel"}),n.jsx(le,{type:"submit",disabled:A,variant:"contained",color:"primary",children:A?"Updating...":"Update Product"})]})]})})]}):null},ho=()=>n.jsx(It,{item:!0,xs:12,sm:6,md:4,lg:3,children:n.jsxs(Rr,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[n.jsx(re,{variant:"rectangular",height:200}),n.jsxs(Ar,{children:[n.jsx(re,{variant:"text",sx:{fontSize:"1.25rem",mb:1}}),n.jsx(re,{variant:"text",width:"60%"}),n.jsx(re,{variant:"text",width:"40%"}),n.jsx(re,{variant:"text",width:"70%"}),n.jsx(re,{variant:"text",width:"80%"})]})]})}),go=()=>n.jsxs(Bt,{children:[n.jsx(O,{children:n.jsx(re,{variant:"rectangular",width:50,height:50,sx:{borderRadius:1}})}),n.jsx(O,{children:n.jsx(re,{variant:"text",width:100})}),n.jsx(O,{children:n.jsx(re,{variant:"text",width:150})}),n.jsx(O,{children:n.jsx(re,{variant:"text",width:100})}),n.jsx(O,{children:n.jsx(re,{variant:"text",width:200})}),n.jsx(O,{align:"right",children:n.jsx(re,{variant:"text",width:80})}),n.jsx(O,{align:"right",children:n.jsxs(Q,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[n.jsx(re,{variant:"circular",width:32,height:32}),n.jsx(re,{variant:"circular",width:32,height:32})]})})]}),mo=e=>{if(!e)return"default";switch(e.toLowerCase()){case"aluminum":return"#1976d2";case"breezeway":return"#2e7d32";case"glass":return"#0288d1";case"hardware":return"#d32f2f";case"accessory":return"#f57c00";case"lock":return"#7b1fa2";case"frame":return"#c2185b";case"track":return"#00796b";case"paint":return"#fbc02d";default:return"#9e9e9e"}},xo=({category:e})=>{if(!e||!e.name)return n.jsx(O,{children:"-"});const t=mo(e.name);return n.jsx(gn,{label:e.name,size:"small",sx:{backgroundColor:t,color:t==="#fbc02d"?"rgba(0, 0, 0, 0.87)":"white",fontWeight:500}})},Lo=()=>{const[e,t]=w.useState(0),[r,a]=w.useState(10),[o,i]=w.useState(""),[s,p]=w.useState("table"),[f,v]=w.useState(!1),[x,b]=w.useState(!1),[m,c]=w.useState(!1),[l,h]=w.useState(!1),[A,j]=w.useState(null),[y,R]=w.useState("all"),[d,C]=w.useState({field:"product_name",direction:"asc"}),_=u=>{j(u),h(!0)},g=()=>{j(null),h(!1)},{data:S,isLoading:D,refetch:Z}=Ht(),{data:q,isLoading:pe}=mn(),fe=xn(),ae=(S==null?void 0:S.filter(u=>{var H,ie,U,se,te,F;const T=((H=u.product_code)==null?void 0:H.toLowerCase().includes(o.toLowerCase()))||((ie=u.product_name)==null?void 0:ie.toLowerCase().includes(o.toLowerCase()))||((se=(U=u.category)==null?void 0:U.name)==null?void 0:se.toLowerCase().includes(o.toLowerCase()))||((te=u.attributes)==null?void 0:te.some(me=>{var xe,k,we;return((xe=me.attribute_name)==null?void 0:xe.toLowerCase().includes(o.toLowerCase()))||((we=(k=me.pivot)==null?void 0:k.value)==null?void 0:we.toLowerCase().includes(o.toLowerCase()))})),X=y==="all"||((F=u.category)==null?void 0:F.id)===y;return T&&X}))||[],J=u=>{C({field:u,direction:d.field===u&&d.direction==="asc"?"desc":"asc"})},ee=[...ae].sort((u,T)=>{var ie,U,se,te,F,me;if(d.field==="attributes"){const xe=((se=(U=(ie=u.attributes)==null?void 0:ie[0])==null?void 0:U.pivot)==null?void 0:se.value)||"",k=((me=(F=(te=T.attributes)==null?void 0:te[0])==null?void 0:F.pivot)==null?void 0:me.value)||"";return d.direction==="asc"?xe>k?1:-1:xe<k?1:-1}const X=u[d.field],H=T[d.field];return d.direction==="asc"?X>H?1:-1:X<H?1:-1}),G=u=>!u||u.length===0?"No attributes":u.map(T=>`${T.attribute_name}: ${T.pivot.value}${T.unit_of_measurement}`).join(", "),oe=(u,T)=>{T!==null&&p(T)},M=async u=>{var T,X;try{(await St.fire({title:"Are you sure?",text:"You will not be able to recover this product!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it",confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d"})).isConfirmed&&(await fe.mutateAsync(u),await St.fire({title:"Deleted!",text:"Product has been deleted successfully.",icon:"success",timer:1500,showConfirmButton:!1}),Z())}catch(H){await St.fire({title:"Error!",text:((X=(T=H.response)==null?void 0:T.data)==null?void 0:X.message)||"Failed to delete product.",icon:"error"}),console.error("Failed to delete product:",H)}},K=(u,T)=>{t(T)},$=u=>{a(parseInt(u.target.value,10)),t(0)},B=()=>n.jsx(jn,{component:Be,children:n.jsxs(Cn,{children:[n.jsx(wn,{children:n.jsxs(Bt,{children:[n.jsx(O,{children:"Image"}),n.jsx(O,{children:n.jsx(Fe,{active:d.field==="product_code",direction:d.field==="product_code"?d.direction:"asc",onClick:()=>J("product_code"),children:"Code"})}),n.jsx(O,{children:n.jsx(Fe,{active:d.field==="product_name",direction:d.field==="product_name"?d.direction:"asc",onClick:()=>J("product_name"),children:"Name"})}),n.jsx(O,{children:"Category"}),n.jsx(O,{children:n.jsx(Fe,{active:d.field==="attributes",direction:d.field==="attributes"?d.direction:"asc",onClick:()=>J("attributes"),children:"Attributes"})}),n.jsx(O,{align:"right",children:n.jsx(Fe,{active:d.field==="quantity",direction:d.field==="quantity"?d.direction:"asc",onClick:()=>J("quantity"),children:"Quantity"})}),n.jsx(O,{align:"right",children:n.jsx(Fe,{active:d.field==="reorder_level",direction:d.field==="reorder_level"?d.direction:"asc",onClick:()=>J("reorder_level"),children:"Reorder Level"})}),n.jsx(O,{align:"right",children:"Actions"})]})}),n.jsx(_n,{children:D?Array(r).fill(0).map((u,T)=>n.jsx(go,{},T)):ee.slice(e*r,e*r+r).map(u=>n.jsxs(Bt,{children:[n.jsx(O,{children:u.product_image?n.jsx("img",{src:Et(u.product_image),alt:u.product_name,style:{width:50,height:50,objectFit:"cover",borderRadius:"4px"}}):n.jsx(Be,{sx:{width:50,height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:n.jsx(rr,{color:"disabled"})})}),n.jsx(O,{children:u.product_code}),n.jsx(O,{children:u.product_name}),n.jsx(O,{children:n.jsx(xo,{category:u.category})}),n.jsx(O,{children:G(u.attributes)}),n.jsx(O,{align:"right",children:Number(u.quantity)}),n.jsx(O,{align:"right",children:u.reorder_level}),n.jsxs(O,{align:"right",children:[n.jsx(ot,{onClick:()=>_(u),children:n.jsx(An,{style:{fontSize:20}})}),n.jsx(ot,{onClick:()=>M(u.id),children:n.jsx(Ut,{style:{fontSize:20}})})]})]},u.id))})]})}),L=()=>n.jsx(It,{container:!0,spacing:2,children:D?Array(r).fill(0).map((u,T)=>n.jsx(ho,{},T)):ee.slice(e*r,e*r+r).map(u=>{var T;return n.jsx(It,{item:!0,xs:12,sm:6,md:4,lg:3,children:n.jsxs(Rr,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[u.product_image?n.jsx(Tn,{component:"img",height:"200",image:Et(u.product_image),alt:u.product_name,sx:{objectFit:"cover"}}):n.jsx(Q,{sx:{height:200,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:n.jsx(rr,{sx:{fontSize:60,color:"text.disabled"}})}),n.jsxs(Ar,{children:[n.jsx(je,{variant:"h6",noWrap:!0,children:u.product_name}),n.jsxs(je,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Code: ",u.product_code]}),n.jsxs(je,{variant:"body2",color:"text.secondary",children:["Category: ",(T=u.category)==null?void 0:T.name]}),n.jsxs(je,{variant:"body2",color:"text.secondary",children:["Reorder Level: ",u.reorder_level]}),n.jsxs(je,{variant:"body2",color:"text.secondary",children:["Attributes: ",G(u.attributes)]})]})]})},u.id)})});return n.jsxs($n,{maxWidth:"xxl",sx:{mt:0,p:"0!important"},children:[n.jsxs(Q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[n.jsxs(Q,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.jsx(V,{placeholder:"Search products...",variant:"outlined",size:"small",value:o,onChange:u=>i(u.target.value),InputProps:{startAdornment:n.jsx(bn,{position:"start",children:n.jsx(Pn,{})})}}),n.jsxs(vn,{size:"small",sx:{minWidth:120},children:[n.jsx(Sn,{children:"Category"}),n.jsxs(yn,{value:y,onChange:u=>R(u.target.value),label:"Category",children:[n.jsx(de,{value:"all",children:"All Categories"}),q==null?void 0:q.map(u=>n.jsx(de,{value:u.id,children:u.name},u.id))]})]}),n.jsxs(qn,{value:s,exclusive:!0,onChange:oe,size:"small",children:[n.jsx(tr,{value:"table",children:n.jsx(er,{title:"Table View",children:n.jsx(Gn,{})})}),n.jsx(tr,{value:"card",children:n.jsx(er,{title:"Card View",children:n.jsx(Hn,{})})})]})]}),n.jsxs(Q,{children:[n.jsx(le,{variant:"contained",onClick:()=>b(!0),startIcon:n.jsx(Ve,{}),color:"error",children:"Add Product"}),n.jsx(le,{variant:"contained",onClick:()=>v(!0),startIcon:n.jsx(Ve,{}),sx:{ml:1},color:"info",children:"Add Category"}),n.jsx(le,{variant:"contained",onClick:()=>c(!0),startIcon:n.jsx(Ve,{}),sx:{ml:1},color:"success",children:"Add Attribute"})]})]}),s==="table"?n.jsx(B,{}):n.jsx(L,{}),n.jsx(Rn,{rowsPerPageOptions:[5,10,25],component:"div",count:ee.length,rowsPerPage:r,page:e,onPageChange:K,onRowsPerPageChange:$}),n.jsx(Yn,{open:f,handleClose:()=>v(!1)}),n.jsx(so,{open:x,handleClose:()=>b(!1),categories:q||[]}),n.jsx(lo,{open:m,handleClose:()=>c(!1)}),n.jsx(fo,{open:l,handleClose:()=>g(),categories:q||[],product:A})]})};export{Lo as default};
