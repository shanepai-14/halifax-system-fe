import{am as g,j as e,E as m}from"./index-iwU4FU1d.js";import{c as T,a as n,j as p,F as f,b as y,d as c,i as x}from"./index.esm-GQnMFM9Y.js";import{D as C}from"./Dialog-uw4uRqg7.js";import{D as b,a as D}from"./DialogTitle-igWtyaEh.js";import{T as l}from"./TextField-DS9zh2A1.js";import{S as u}from"./Switch-D6C2Rr9r.js";import{D as A}from"./DialogActions-DaCZbXUr.js";const _=T().shape({name:n().required("Name is required").min(2,"Too Short!").max(100,"Too Long!"),code:n().required("Code is required").max(50,"Too Long!"),description:n().nullable().max(255,"Too Long!"),is_active:p(),is_deduction:p()}),w=({open:h,handleClose:t})=>{const j=g();return e.jsxs(C,{open:h,onClose:t,maxWidth:"sm",fullWidth:!0,children:[e.jsx(b,{children:"Add Cost Type"}),e.jsx(f,{initialValues:{name:"",code:"",description:"",is_active:!0,is_deduction:!1},validationSchema:_,onSubmit:async(i,{setSubmitting:o,resetForm:a})=>{try{await j.mutateAsync(i),a(),t()}catch(r){console.error("Error creating cost type:",r)}finally{o(!1)}},children:({errors:i,touched:o,isSubmitting:a,setFieldValue:r,values:d})=>e.jsxs(y,{children:[e.jsxs(D,{children:[e.jsx(c,{as:l,name:"name",label:"Name",fullWidth:!0,margin:"normal",error:o.name&&i.name,helperText:o.name&&i.name}),e.jsx(c,{as:l,name:"code",label:"Code",fullWidth:!0,margin:"normal",error:o.code&&i.code,helperText:o.code&&i.code}),e.jsx(c,{as:l,name:"description",label:"Description",fullWidth:!0,margin:"normal",multiline:!0,rows:3,error:o.description&&i.description,helperText:o.description&&i.description}),e.jsx(x,{control:e.jsx(u,{checked:d.is_active,onChange:s=>r("is_active",s.target.checked),color:"primary"}),label:"Active",sx:{mt:2}}),e.jsx(x,{control:e.jsx(u,{checked:d.is_deduction,onChange:s=>r("is_deduction",s.target.checked),color:"primary"}),label:"Is Deduction",sx:{mt:1}})]}),e.jsxs(A,{children:[e.jsx(m,{onClick:t,children:"Cancel"}),e.jsx(m,{type:"submit",disabled:a,variant:"contained",color:"primary",children:a?"Adding...":"Add Cost Type"})]})]})})]})};export{w as A};
