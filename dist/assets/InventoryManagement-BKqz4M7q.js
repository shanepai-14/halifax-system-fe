import{r as o,a5 as f,a6 as g,j as e,q as c,G as X,P as L,T as h,y as T,ai as we,D as Z,aj as Ce,H as N,Q as Ie,S as ee,V as _e,ak as Ae,R as te,al as ke,am as z,E as Re,F as ne,I as re,t as se}from"./index-BWPuOdWF.js";import{R as ie,u as Le,a as Te,b as $e,c as Ve,A as Oe,I as ze}from"./useInventory-hVkDEnOG.js";import{C as Pe,T as Me,S as ae,c as P,d as M,e as D,a as u,b as n,f as B}from"./TextField-DxUZOwFL.js";import{R as De,M as S}from"./SearchOutlined-CDIU21ir.js";import{I as oe,B as y}from"./InputLabel-DObZtWWd.js";import{R as Be}from"./ClearOutlined-zprchFxI.js";import{R as He}from"./PlusOutlined-DelUCFE5.js";import{R as Ne}from"./EyeOutlined-Dq-auM9r.js";import{R as qe}from"./EditOutlined-DPR-xECK.js";import{D as Ee,a as Fe,b as We}from"./DialogTitle-CrL8DoYX.js";import{S as p}from"./Skeleton-BfWEzsRW.js";import"./Autocomplete--2rC9is1.js";import"./CloseOutlined-CVZRRWSy.js";var Ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},Ge=function(s,a){return o.createElement(f,g({},s,{ref:a,icon:Ue}))},le=o.forwardRef(Ge),Qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},Je=function(s,a){return o.createElement(f,g({},s,{ref:a,icon:Qe}))},Ye=o.forwardRef(Je),Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M911.5 700.7a8 8 0 00-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 00-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8-.1-4.3-3.7-7.9-8.1-7.9z"}}]},name:"money-collect",theme:"outlined"},Xe=function(s,a){return o.createElement(f,g({},s,{ref:a,icon:Ke}))},Ze=o.forwardRef(Xe),et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},tt=function(s,a){return o.createElement(f,g({},s,{ref:a,icon:et}))},nt=o.forwardRef(tt),rt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M922.9 701.9H327.4l29.9-60.9 496.8-.9c16.8 0 31.2-12 34.2-28.6l68.8-385.1c1.8-10.1-.9-20.5-7.5-28.4a34.99 34.99 0 00-26.6-12.5l-632-2.1-5.4-25.4c-3.4-16.2-18-28-34.6-28H96.5a35.3 35.3 0 100 70.6h125.9L246 312.8l58.1 281.3-74.8 122.1a34.96 34.96 0 00-3 36.8c6 11.9 18.1 19.4 31.5 19.4h62.8a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7h161.1a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7H923c19.4 0 35.3-15.8 35.3-35.3a35.42 35.42 0 00-35.4-35.2zM305.7 253l575.8 1.9-56.4 315.8-452.3.8L305.7 253zm96.9 612.7c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6zm325.1 0c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6z"}}]},name:"shopping-cart",theme:"outlined"},st=function(s,a){return o.createElement(f,g({},s,{ref:a,icon:rt}))},at=o.forwardRef(st),ot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"},lt=function(s,a){return o.createElement(f,g({},s,{ref:a,icon:ot}))},ct=o.forwardRef(lt),it={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},dt=function(s,a){return o.createElement(f,g({},s,{ref:a,icon:it}))},ut=o.forwardRef(dt);const ht=({inventoryData:x=[],stats:s={}})=>{const a={totalItems:s.totalItems||1254,totalValue:s.totalValue||187650.75,lowStockItems:s.lowStockItems||23,topSellingItems:s.topSellingItems||5,reorderNeeded:s.reorderNeeded||18,incomingStock:s.incomingStock||42,inventoryTurnover:s.inventoryTurnover||4.2,stockAccuracy:s.stockAccuracy||98.3},m=[{title:"Total Inventory",value:a.totalItems,icon:e.jsx(at,{style:{fontSize:24}}),color:"#1976d2",secondaryValue:`$${a.totalValue.toLocaleString("en-US",{maximumFractionDigits:2})}`,secondaryLabel:"Total Value"},{title:"Low Stock Items",value:a.lowStockItems,icon:e.jsx(ie,{style:{fontSize:24}}),color:"#f44336",secondaryValue:a.reorderNeeded,secondaryLabel:"Require Immediate Reorder",chip:{label:`${a.lowStockItems} items below threshold`,color:"error"}},{title:"Inventory Performance",value:`${a.stockAccuracy}%`,icon:e.jsx(Ye,{style:{fontSize:24}}),color:"#4caf50",progress:a.stockAccuracy,secondaryValue:a.inventoryTurnover,secondaryLabel:"Turnover Rate"},{title:"Stock Movement",value:a.topSellingItems,icon:e.jsx(Ze,{style:{fontSize:24}}),color:"#ff9800",secondaryValue:a.incomingStock,secondaryLabel:"Incoming Stock",stats:[{label:"Outgoing",value:28,icon:e.jsx(ut,{})},{label:"Incoming",value:42,icon:e.jsx(ct,{})}]}];return e.jsx(c,{sx:{mb:4},children:e.jsx(X,{container:!0,spacing:3,children:m.map((l,w)=>e.jsx(X,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(L,{elevation:1,sx:{p:2,height:"100%",borderTop:`4px solid ${l.color}`,borderRadius:"4px",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-3px)",boxShadow:3}},children:[e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[e.jsx(h,{variant:"subtitle2",color:"text.secondary",children:l.title}),e.jsx(c,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,borderRadius:"50%",backgroundColor:`${l.color}20`},children:e.jsx(c,{sx:{color:l.color},children:l.icon})})]}),e.jsx(h,{variant:"h4",sx:{fontWeight:"bold",color:l.color,mb:1},children:l.value}),l.chip&&e.jsx(T,{label:l.chip.label,color:l.chip.color,size:"small",sx:{my:1}}),l.progress&&e.jsx(c,{sx:{mb:1},children:e.jsx(we,{variant:"determinate",value:l.progress,sx:{height:8,borderRadius:4,backgroundColor:`${l.color}30`,"& .MuiLinearProgress-bar":{backgroundColor:l.color}}})}),l.stats?e.jsxs(c,{sx:{mt:2},children:[e.jsx(Z,{sx:{my:1}}),e.jsx(Ce,{direction:"row",spacing:2,justifyContent:"space-between",children:l.stats.map((b,C)=>e.jsx(N,{title:b.label,children:e.jsxs(c,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(c,{sx:{mr:.5,color:"text.secondary"},children:b.icon}),e.jsx(h,{variant:"body2",children:b.value})]})},C))})]}):e.jsxs(c,{sx:{mt:"auto"},children:[e.jsx(Z,{sx:{my:1}}),e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(h,{variant:"body2",color:"text.secondary",children:l.secondaryLabel}),e.jsx(h,{variant:"body1",fontWeight:"medium",children:l.secondaryValue})]})]})]})},w))})})},ce={low:{color:"error",label:"Low Stock"},normal:{color:"success",label:"Normal"},overstocked:{color:"warning",label:"Overstocked"}},xt=[{value:"addition",label:"Addition"},{value:"reduction",label:"Reduction"},{value:"damage",label:"Damage"},{value:"loss",label:"Loss"},{value:"correction",label:"Correction"}],H=()=>e.jsxs(u,{children:[e.jsx(n,{children:e.jsx(p,{animation:"wave"})}),e.jsx(n,{children:e.jsx(p,{animation:"wave"})}),e.jsx(n,{children:e.jsx(p,{animation:"wave"})}),e.jsx(n,{children:e.jsx(p,{animation:"wave"})}),e.jsx(n,{children:e.jsx(p,{animation:"wave"})}),e.jsx(n,{children:e.jsx(p,{animation:"wave"})}),e.jsx(n,{align:"right",children:e.jsxs(c,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[e.jsx(p,{animation:"wave",variant:"circular",width:32,height:32}),e.jsx(p,{animation:"wave",variant:"circular",width:32,height:32})]})})]}),At=()=>{const x=Ie(),[s,a]=o.useState(0),[m,l]=o.useState(10),[w,b]=o.useState(""),[C,q]=o.useState("All Categories"),[$,E]=o.useState("All Status"),[de,F]=o.useState(!1),[I,V]=o.useState(null),[k,ue]=o.useState(0),_=ee(_e),W=ee(Ae),{data:U=[],isLoading:he,refetch:G}=Le(),{data:Q=[],isLoading:xe}=Te(),{mutateAsync:me}=$e(),{data:J=[],isLoading:je}=Ve(),v=te.useMemo(()=>U.map(t=>{const r=_.find(i=>i.id===t.product_id);return{...t,...r,status:ve(t.quantity,(r==null?void 0:r.reorder_level)||0)}}),[U,_]),pe=te.useMemo(()=>{const t=v.length,r=v.reduce((d,A)=>d+A.quantity*(A.cost_price||0),0),i=v.filter(d=>d.status==="low").length,j=v.filter(d=>d.quantity<=d.reorder_level*.7).length;return{totalItems:t,totalValue:r,lowStockItems:i,reorderNeeded:j,topSellingItems:5,incomingStock:42,inventoryTurnover:4.2,stockAccuracy:98.3}},[v]),R=v.filter(t=>{var d,A,K;const r=((d=t.product_name)==null?void 0:d.toLowerCase().includes(w.toLowerCase()))||((A=t.product_code)==null?void 0:A.toLowerCase().includes(w.toLowerCase())),i=C==="All Categories"||((K=t.product_category_id)==null?void 0:K.toString())===C,j=$==="All Status"||t.status===$.toLowerCase();return r&&i&&j});function ve(t,r){return t<=r?"low":t>r*3?"overstocked":"normal"}const ye=()=>{b(""),q("All Categories"),E("All Status")},Y=t=>{V(t),F(!0)},fe=t=>{V(t)},O=()=>{F(!1),V(null)},ge=async t=>{try{await me({id:t.id,quantity:t.quantity,adjustment_type:t.type,reason:t.reason,notes:t.notes}),se.success("Inventory adjustment recorded successfully"),G(),O()}catch(r){se.error("Error recording adjustment: "+(r.message||"Unknown error"))}},be=(t,r)=>{ue(r)},Se=t=>{x(`/app/inventory/${t}`)};return e.jsxs(Pe,{maxWidth:"xxl",sx:{mt:0,px:"0!important"},children:[e.jsx(ht,{inventoryData:v,stats:pe}),e.jsxs(c,{sx:{mb:4},children:[e.jsxs(ke,{value:k,onChange:be,sx:{mb:3},children:[e.jsx(z,{label:"Current Inventory"}),e.jsx(z,{label:"Adjustments History"}),e.jsx(z,{label:"Inventory Logs"})]}),k===0&&e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,gap:2},children:[e.jsxs(c,{sx:{display:"flex",gap:2,flex:1},children:[e.jsx(Me,{placeholder:"Search product name or code",variant:"outlined",size:"small",value:w,onChange:t=>b(t.target.value),InputProps:{startAdornment:e.jsx(Re,{position:"start",children:e.jsx(De,{})})},sx:{minWidth:250}}),e.jsxs(ne,{size:"small",sx:{minWidth:200},children:[e.jsx(oe,{children:"Category"}),e.jsxs(ae,{value:C,onChange:t=>q(t.target.value),label:"Category",children:[e.jsx(S,{value:"All Categories",children:"All Categories"}),W.map(t=>e.jsx(S,{value:t.id.toString(),children:t.name},t.id))]})]}),e.jsxs(ne,{size:"small",sx:{minWidth:200},children:[e.jsx(oe,{children:"Stock Status"}),e.jsxs(ae,{value:$,onChange:t=>E(t.target.value),label:"Stock Status",children:[e.jsx(S,{value:"All Status",children:"All Status"}),e.jsx(S,{value:"Low",children:"Low Stock"}),e.jsx(S,{value:"Normal",children:"Normal"}),e.jsx(S,{value:"Overstocked",children:"Overstocked"})]})]})]}),e.jsxs(c,{children:[e.jsx(y,{variant:"text",color:"error",sx:{mr:1},onClick:ye,children:e.jsx(Be,{})}),e.jsx(y,{variant:"contained",color:"primary",startIcon:e.jsx(nt,{}),onClick:()=>G(),sx:{mr:1},children:"Refresh"}),e.jsx(y,{variant:"contained",color:"error",startIcon:e.jsx(He,{}),onClick:()=>Y({product_id:null}),children:"New Adjustment"})]})]}),R.some(t=>t.status==="low")&&e.jsx(Oe,{severity:"warning",sx:{mb:2},icon:e.jsx(ie,{}),children:"Some products are below their reorder levels. Please check and restock as needed."}),e.jsx(P,{component:L,children:e.jsxs(M,{children:[e.jsx(D,{children:e.jsxs(u,{children:[e.jsx(n,{children:"Product Code"}),e.jsx(n,{children:"Product Name"}),e.jsx(n,{children:"Category"}),e.jsx(n,{children:"Current Qty"}),e.jsx(n,{children:"Reorder Level"}),e.jsx(n,{children:"Status"}),e.jsx(n,{align:"right",children:"Actions"})]})}),e.jsx(B,{children:he?Array.from(Array(m)).map((t,r)=>e.jsx(H,{},r)):R.length===0?e.jsx(u,{children:e.jsx(n,{colSpan:7,align:"center",sx:{py:3},children:e.jsx(h,{variant:"body1",color:"text.secondary",children:"No inventory items found"})})}):R.slice(s*m,s*m+m).map(t=>{var r,i,j;return e.jsxs(u,{hover:!0,children:[e.jsx(n,{children:t.product_code}),e.jsx(n,{children:e.jsx(c,{sx:{display:"flex",alignItems:"center"},children:t.product_name})}),e.jsx(n,{children:((r=W.find(d=>d.id===t.product_category_id))==null?void 0:r.name)||"-"}),e.jsx(n,{children:t.quantity}),e.jsx(n,{children:t.reorder_level}),e.jsx(n,{children:e.jsx(T,{label:(i=ce[t.status])==null?void 0:i.label,color:(j=ce[t.status])==null?void 0:j.color,size:"small"})}),e.jsxs(n,{align:"right",children:[e.jsx(N,{title:"View Product Details",children:e.jsx(re,{onClick:()=>Se(t.product_id),children:e.jsx(Ne,{})})}),e.jsx(N,{title:"Adjust Inventory",children:e.jsx(re,{onClick:()=>Y(t),children:e.jsx(qe,{})})})]})]},t.product_id)})})]})}),e.jsxs(c,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:[e.jsx(y,{disabled:s===0,onClick:()=>a(s-1),sx:{mr:1},children:"Previous"}),e.jsx(y,{disabled:s>=Math.ceil(R.length/m)-1,onClick:()=>a(s+1),children:"Next"})]})]}),k===1&&e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(h,{variant:"h6",children:"Inventory Adjustments History"}),e.jsx(y,{variant:"outlined",startIcon:e.jsx(le,{}),onClick:()=>console.log("Download adjustments report"),children:"Export Report"})]}),e.jsx(P,{component:L,children:e.jsxs(M,{children:[e.jsx(D,{children:e.jsxs(u,{children:[e.jsx(n,{children:"Date"}),e.jsx(n,{children:"Product"}),e.jsx(n,{children:"Adjustment Type"}),e.jsx(n,{children:"Quantity"}),e.jsx(n,{children:"Reason"}),e.jsx(n,{children:"Performed By"}),e.jsx(n,{children:"Notes"})]})}),e.jsx(B,{children:xe?Array.from(Array(m)).map((t,r)=>e.jsx(H,{},r)):Q.length===0?e.jsx(u,{children:e.jsx(n,{colSpan:7,align:"center",sx:{py:3},children:e.jsx(h,{variant:"body1",color:"text.secondary",children:"No adjustment records found"})})}):Q.map(t=>{var i;const r=_.find(j=>j.id===t.product_id);return e.jsxs(u,{hover:!0,children:[e.jsx(n,{children:new Date(t.created_at).toLocaleString()}),e.jsx(n,{children:(r==null?void 0:r.product_name)||"Unknown Product"}),e.jsx(n,{children:e.jsx(T,{label:t.adjustment_type.charAt(0).toUpperCase()+t.adjustment_type.slice(1),color:t.adjustment_type==="addition"||t.adjustment_type==="return"?"success":t.adjustment_type==="correction"?"info":"error",size:"small"})}),e.jsx(n,{children:t.adjustment_type==="addition"||t.adjustment_type==="return"?`+${t.quantity}`:`-${t.quantity}`}),e.jsx(n,{children:t.reason}),e.jsx(n,{children:((i=t.user)==null?void 0:i.name)||"System"}),e.jsx(n,{children:t.notes||"-"})]},t.id)})})]})})]}),k===2&&e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(h,{variant:"h6",children:"Inventory Transaction History"}),e.jsx(y,{variant:"outlined",startIcon:e.jsx(le,{}),onClick:()=>console.log("Download logs report"),children:"Export Logs"})]}),e.jsx(P,{component:L,children:e.jsxs(M,{children:[e.jsx(D,{children:e.jsxs(u,{children:[e.jsx(n,{children:"Date"}),e.jsx(n,{children:"Product"}),e.jsx(n,{children:"Transaction Type"}),e.jsx(n,{children:"Quantity"}),e.jsx(n,{children:"Reference"}),e.jsx(n,{children:"Before"}),e.jsx(n,{children:"After"})]})}),e.jsx(B,{children:je?Array.from(Array(m)).map((t,r)=>e.jsx(H,{},r)):J.length===0?e.jsx(u,{children:e.jsx(n,{colSpan:7,align:"center",sx:{py:3},children:e.jsx(h,{variant:"body1",color:"text.secondary",children:"No inventory logs found"})})}):J.map(t=>{const r=_.find(i=>i.id===t.product_id);return e.jsxs(u,{hover:!0,children:[e.jsx(n,{children:new Date(t.created_at).toLocaleString()}),e.jsx(n,{children:(r==null?void 0:r.product_name)||"Unknown Product"}),e.jsx(n,{children:e.jsx(T,{label:t.transaction_type.charAt(0).toUpperCase()+t.transaction_type.slice(1),color:t.transaction_type==="purchase"||t.transaction_type==="adjustment_in"?"success":t.transaction_type==="sales"||t.transaction_type==="adjustment_out"?"error":"info",size:"small"})}),e.jsx(n,{children:t.transaction_type==="purchase"||t.transaction_type==="adjustment_in"?`+${t.quantity}`:`-${t.quantity}`}),e.jsx(n,{children:t.reference_type==="purchase_order"?`PO-${t.reference_id}`:t.reference_type==="sales_order"?`SO-${t.reference_id}`:t.reference_type==="adjustment"?`ADJ-${t.reference_id}`:t.reference_id}),e.jsx(n,{children:t.quantity_before}),e.jsx(n,{children:t.quantity_after})]},t.id)})})]})})]})]}),e.jsxs(Ee,{open:de,onClose:O,maxWidth:"md",fullWidth:!0,children:[e.jsx(Fe,{children:I!=null&&I.product_name?`Adjust Inventory: ${I.product_name}`:"New Inventory Adjustment"}),e.jsx(We,{children:e.jsx(ze,{product:I,products:_,adjustmentTypes:xt,onSubmit:ge,onCancel:O,onSelectedProduct:fe})})]})]})};export{At as default};
