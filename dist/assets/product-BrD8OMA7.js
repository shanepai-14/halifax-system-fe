import{r as k,u as ba,c as vt,a as ya,b as va,d as br,o as Mt,e as yr,i as Xr,f as Dt,g as Er,h as Mr,k as Qe,j as r,s as He,l as Ae,m as Ke,n as Xt,p as Zr,q as Jr,t as qe,v as In,w as Dr,x as ja,y as Ue,z as Or,B as ka,A as Ca,C as Ne,D as _a,E as An,F as le,R as Ct,G as wa,H as Bn,I as Nr,J as Fr,K as re,L as V,P as Ge,T as L,N as qr,Q as Sa,S as Pa,U as je,V as Je,W as et,X as Wt,Y as Te,Z as Rn,_ as De,$ as Pr,a0 as Gt,a1 as Ta,a2 as $a,a3 as Ia,a4 as Aa}from"./index-MFznN85Y.js";import{c as Zt,a as We,F as Jt,b as er,d as ke,e as lt,f as Ln,g as Ba}from"./index.esm-DVSvLc0O.js";import{D as st}from"./Dialog-EsyIrAit.js";import{D as mt,a as gt}from"./DialogTitle-DU-OKhNB.js";import{T as ce,a as Oe,b as S,c as tr,d as rr,e as nr,f as ar,S as zn}from"./TextField-DllOVEH5.js";import{D as xt}from"./DialogActions-Cg7Nf5jf.js";import{M as Ie}from"./MenuItem-C7K-2hg_.js";import{g as Tr}from"./fileHelper-DtQg9PBz.js";import{S as _e}from"./Skeleton-BXQeoAq0.js";import{S as en}from"./Switch-CnQRh0Es.js";import{A as En}from"./Add-kteAXJ42.js";import{A as Vr}from"./Alert-DmcZosAT.js";import{D as Mn}from"./Delete-BcFyYb-D.js";import{f as Ze}from"./currencyFormat-th2sljt-.js";import{T as Ra,a as tn}from"./Tabs-CS6H9LaX.js";import{E as La}from"./Edit-acnduTpd.js";import{S as vr}from"./sweetalert2.esm.all-D3pEHXw3.js";import{C as za}from"./Container-BReizEgd.js";import{R as Ea}from"./SearchOutlined-B_yJcWXu.js";import{I as Ma}from"./InputLabel-WGrZKIER.js";import{g as Da,T as It}from"./TableSortLabel-o2Bxoh3x.js";import{R as jr}from"./PlusOutlined-BFHWOpzv.js";import{T as Oa}from"./TablePagination-DkXepxBR.js";import{R as Na}from"./EditOutlined-TnIBObTg.js";import{R as Fa}from"./DeleteOutlined-B6C8z9xI.js";import{C as qa}from"./CardMedia-BGZOQkyn.js";import"./Close-B6M6Y8BO.js";import"./KeyboardArrowRight-DwbWL9aH.js";import"./LastPage-CSktP3Z8.js";const Va={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Wa(e,t,n=(a,i)=>a===i){return e.length===t.length&&e.every((a,i)=>n(a,t[i]))}const Ga=2;function Dn(e,t){return e-t}function rn(e,t){const{index:n}=e.reduce((a,i,o)=>{const u=Math.abs(t-i);return a===null||u<a.distance||u===a.distance?{distance:u,index:o}:a},null)??{};return n}function At(e,t){if(t.current!==void 0&&e.changedTouches){const n=e;for(let a=0;a<n.changedTouches.length;a+=1){const i=n.changedTouches[a];if(i.identifier===t.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Ht(e,t,n){return(e-t)*100/(n-t)}function Ha(e,t,n){return(n-t)*e+t}function Ua(e){if(Math.abs(e)<1){const n=e.toExponential().split("e-"),a=n[0].split(".")[1];return(a?a.length:0)+parseInt(n[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function Ya(e,t,n){const a=Math.round((e-n)/t)*t+n;return Number(a.toFixed(Ua(t)))}function nn({values:e,newValue:t,index:n}){const a=e.slice();return a[n]=t,a.sort(Dn)}function Bt({sliderRef:e,activeIndex:t,setActive:n}){var i,o,u;const a=Mt(e.current);(!((i=e.current)!=null&&i.contains(a.activeElement))||Number((o=a==null?void 0:a.activeElement)==null?void 0:o.getAttribute("data-index"))!==t)&&((u=e.current)==null||u.querySelector(`[type="range"][data-index="${t}"]`).focus()),n&&n(t)}function Rt(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?Wa(e,t):!1}const Qa={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Ka=e=>e;let Lt;function an(){return Lt===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Lt=CSS.supports("touch-action","none"):Lt=!0),Lt}function Xa(e){const{"aria-labelledby":t,defaultValue:n,disabled:a=!1,disableSwap:i=!1,isRtl:o=!1,marks:u=!1,max:l=100,min:h=0,name:b,onChange:y,onChangeCommitted:j,orientation:x="horizontal",rootRef:m,scale:_=Ka,step:P=1,shiftStep:$=10,tabIndex:T,value:B}=e,d=k.useRef(void 0),[s,c]=k.useState(-1),[p,f]=k.useState(-1),[w,Q]=k.useState(!1),ne=k.useRef(0),[Y,be]=ba({controlled:B,default:n??h,name:"Slider"}),z=y&&((g,C,R)=>{const N=g.nativeEvent||g,me=new N.constructor(N.type,N);Object.defineProperty(me,"target",{writable:!0,value:{value:C,name:b}}),y(me,C,R)}),E=Array.isArray(Y);let U=E?Y.slice().sort(Dn):[Y];U=U.map(g=>g==null?h:vt(g,h,l));const de=u===!0&&P!==null?[...Array(Math.floor((l-h)/P)+1)].map((g,C)=>({value:h+P*C})):u||[],I=de.map(g=>g.value),[K,F]=k.useState(-1),W=k.useRef(null),A=ya(m,W),G=g=>C=>{var N;const R=Number(C.currentTarget.getAttribute("data-index"));Xr(C.target)&&F(R),f(R),(N=g==null?void 0:g.onFocus)==null||N.call(g,C)},ue=g=>C=>{var R;Xr(C.target)||F(-1),f(-1),(R=g==null?void 0:g.onBlur)==null||R.call(g,C)},v=(g,C)=>{const R=Number(g.currentTarget.getAttribute("data-index")),N=U[R],me=I.indexOf(N);let D=C;if(de&&P==null){const Ce=I[I.length-1];D>Ce?D=Ce:D<I[0]?D=I[0]:D=D<N?I[me-1]:I[me+1]}if(D=vt(D,h,l),E){i&&(D=vt(D,U[R-1]||-1/0,U[R+1]||1/0));const Ce=D;D=nn({values:U,newValue:D,index:R});let Pe=R;i||(Pe=D.indexOf(Ce)),Bt({sliderRef:W,activeIndex:Pe})}be(D),F(R),z&&!Rt(D,Y)&&z(g,D,R),j&&j(g,D)},q=g=>C=>{var R;if(P!==null){const N=Number(C.currentTarget.getAttribute("data-index")),me=U[N];let D=null;(C.key==="ArrowLeft"||C.key==="ArrowDown")&&C.shiftKey||C.key==="PageDown"?D=Math.max(me-$,h):((C.key==="ArrowRight"||C.key==="ArrowUp")&&C.shiftKey||C.key==="PageUp")&&(D=Math.min(me+$,l)),D!==null&&(v(C,D),C.preventDefault())}(R=g==null?void 0:g.onKeyDown)==null||R.call(g,C)};va(()=>{var g;a&&W.current.contains(document.activeElement)&&((g=document.activeElement)==null||g.blur())},[a]),a&&s!==-1&&c(-1),a&&K!==-1&&F(-1);const pe=g=>C=>{var R;(R=g.onChange)==null||R.call(g,C),v(C,C.target.valueAsNumber)},ae=k.useRef(void 0);let ie=x;o&&x==="horizontal"&&(ie+="-reverse");const J=({finger:g,move:C=!1})=>{const{current:R}=W,{width:N,height:me,bottom:D,left:Ce}=R.getBoundingClientRect();let Pe;ie.startsWith("vertical")?Pe=(D-g.y)/me:Pe=(g.x-Ce)/N,ie.includes("-reverse")&&(Pe=1-Pe);let ye;if(ye=Ha(Pe,h,l),P)ye=Ya(ye,P,h);else{const yt=rn(I,ye);ye=I[yt]}ye=vt(ye,h,l);let Ee=0;if(E){C?Ee=ae.current:Ee=rn(U,ye),i&&(ye=vt(ye,U[Ee-1]||-1/0,U[Ee+1]||1/0));const yt=ye;ye=nn({values:U,newValue:ye,index:Ee}),i&&C||(Ee=ye.indexOf(yt),ae.current=Ee)}return{newValue:ye,activeIndex:Ee}},oe=br(g=>{const C=At(g,d);if(!C)return;if(ne.current+=1,g.type==="mousemove"&&g.buttons===0){se(g);return}const{newValue:R,activeIndex:N}=J({finger:C,move:!0});Bt({sliderRef:W,activeIndex:N,setActive:c}),be(R),!w&&ne.current>Ga&&Q(!0),z&&!Rt(R,Y)&&z(g,R,N)}),se=br(g=>{const C=At(g,d);if(Q(!1),!C)return;const{newValue:R}=J({finger:C,move:!0});c(-1),g.type==="touchend"&&f(-1),j&&j(g,R),d.current=void 0,X()}),Z=br(g=>{if(a)return;an()||g.preventDefault();const C=g.changedTouches[0];C!=null&&(d.current=C.identifier);const R=At(g,d);if(R!==!1){const{newValue:me,activeIndex:D}=J({finger:R});Bt({sliderRef:W,activeIndex:D,setActive:c}),be(me),z&&!Rt(me,Y)&&z(g,me,D)}ne.current=0;const N=Mt(W.current);N.addEventListener("touchmove",oe,{passive:!0}),N.addEventListener("touchend",se,{passive:!0})}),X=k.useCallback(()=>{const g=Mt(W.current);g.removeEventListener("mousemove",oe),g.removeEventListener("mouseup",se),g.removeEventListener("touchmove",oe),g.removeEventListener("touchend",se)},[se,oe]);k.useEffect(()=>{const{current:g}=W;return g.addEventListener("touchstart",Z,{passive:an()}),()=>{g.removeEventListener("touchstart",Z),X()}},[X,Z]),k.useEffect(()=>{a&&X()},[a,X]);const Se=g=>C=>{var me;if((me=g.onMouseDown)==null||me.call(g,C),a||C.defaultPrevented||C.button!==0)return;C.preventDefault();const R=At(C,d);if(R!==!1){const{newValue:D,activeIndex:Ce}=J({finger:R});Bt({sliderRef:W,activeIndex:Ce,setActive:c}),be(D),z&&!Rt(D,Y)&&z(C,D,Ce)}ne.current=0;const N=Mt(W.current);N.addEventListener("mousemove",oe,{passive:!0}),N.addEventListener("mouseup",se)},O=Ht(E?U[0]:h,h,l),Le=Ht(U[U.length-1],h,l)-O,ge=(g={})=>{const C=yr(g),R={onMouseDown:Se(C||{})},N={...C,...R};return{...g,ref:A,...N}},Xe=g=>C=>{var N;(N=g.onMouseOver)==null||N.call(g,C);const R=Number(C.currentTarget.getAttribute("data-index"));f(R)},Tt=g=>C=>{var R;(R=g.onMouseLeave)==null||R.call(g,C),f(-1)};return{active:s,axis:ie,axisProps:Qa,dragging:w,focusedThumbIndex:K,getHiddenInputProps:(g={})=>{const C=yr(g),R={onChange:pe(C||{}),onFocus:G(C||{}),onBlur:ue(C||{}),onKeyDown:q(C||{})},N={...C,...R};return{tabIndex:T,"aria-labelledby":t,"aria-orientation":x,"aria-valuemax":_(l),"aria-valuemin":_(h),name:b,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:a,...g,...N,style:{...Va,direction:o?"rtl":"ltr",width:"100%",height:"100%"}}},getRootProps:ge,getThumbProps:(g={})=>{const C=yr(g),R={onMouseOver:Xe(C||{}),onMouseLeave:Tt(C||{})};return{...g,...C,...R}},marks:de,open:p,range:E,rootRef:A,trackLeap:Le,trackOffset:O,values:U,getThumbStyle:g=>({pointerEvents:s!==-1&&s!==g?"none":void 0})}}const Za=e=>!e||!Dt(e);function Ja(e){return Mr("MuiSlider",e)}const Be=Er("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),ei=e=>{const{open:t}=e;return{offset:Qe(t&&Be.valueLabelOpen),circle:Be.valueLabelCircle,label:Be.valueLabelLabel}};function ti(e){const{children:t,className:n,value:a}=e,i=ei(e);return t?k.cloneElement(t,{className:Qe(t.props.className)},r.jsxs(k.Fragment,{children:[t.props.children,r.jsx("span",{className:Qe(i.offset,n),"aria-hidden":!0,children:r.jsx("span",{className:i.circle,children:r.jsx("span",{className:i.label,children:a})})})]})):null}function sn(e){return e}const ri=He("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Ae(n.color)}`],n.size!=="medium"&&t[`size${Ae(n.size)}`],n.marked&&t.marked,n.orientation==="vertical"&&t.vertical,n.track==="inverted"&&t.trackInverted,n.track===!1&&t.trackFalse]}})(Ke(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Be.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${Be.dragging}`]:{[`& .${Be.thumb}, & .${Be.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(Xt()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),ni=He("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),ai=He("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(Ke(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(Xt()).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:Zr(e.palette[t].main,.62),borderColor:Zr(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:Jr(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:Jr(e.palette[t].main,.5)})}}}))]}))),ii=He("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t[`thumbColor${Ae(n.color)}`],n.size!=="medium"&&t[`thumbSize${Ae(n.size)}`]]}})(Ke(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Be.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(Xt()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${Be.focusVisible}`]:{...e.vars?{boxShadow:`0px 0px 0px 8px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${qe(e.palette[t].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${Be.active}`]:{...e.vars?{boxShadow:`0px 0px 0px 14px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${qe(e.palette[t].main,.16)}`}}}}))]}))),si=He(ti,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(Ke(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Be.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Be.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),oi=He("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>In(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(Ke(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),ci=He("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>In(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(Ke(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),li=e=>{const{disabled:t,dragging:n,marked:a,orientation:i,track:o,classes:u,color:l,size:h}=e,b={root:["root",t&&"disabled",n&&"dragging",a&&"marked",i==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",l&&`color${Ae(l)}`,h&&`size${Ae(h)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",h&&`thumbSize${Ae(h)}`,l&&`thumbColor${Ae(l)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Or(b,Ja,u)},di=({children:e})=>e,ui=k.forwardRef(function(t,n){const a=Dr({props:t,name:"MuiSlider"}),i=ja(),{"aria-label":o,"aria-valuetext":u,"aria-labelledby":l,component:h="span",components:b={},componentsProps:y={},color:j="primary",classes:x,className:m,disableSwap:_=!1,disabled:P=!1,getAriaLabel:$,getAriaValueText:T,marks:B=!1,max:d=100,min:s=0,name:c,onChange:p,onChangeCommitted:f,orientation:w="horizontal",shiftStep:Q=10,size:ne="medium",step:Y=1,scale:be=sn,slotProps:z,slots:E,tabIndex:U,track:de="normal",value:I,valueLabelDisplay:K="off",valueLabelFormat:F=sn,...W}=a,A={...a,isRtl:i,max:d,min:s,classes:x,disabled:P,disableSwap:_,orientation:w,marks:B,color:j,size:ne,step:Y,shiftStep:Q,scale:be,track:de,valueLabelDisplay:K,valueLabelFormat:F},{axisProps:G,getRootProps:ue,getHiddenInputProps:v,getThumbProps:q,open:pe,active:ae,axis:ie,focusedThumbIndex:J,range:oe,dragging:se,marks:Z,values:X,trackOffset:Se,trackLeap:O,getThumbStyle:Le}=Xa({...A,rootRef:n});A.marked=Z.length>0&&Z.some(fe=>fe.label),A.dragging=se,A.focusedThumbIndex=J;const ge=li(A),Xe=(E==null?void 0:E.root)??b.Root??ri,Tt=(E==null?void 0:E.rail)??b.Rail??ni,ur=(E==null?void 0:E.track)??b.Track??ai,pr=(E==null?void 0:E.thumb)??b.Thumb??ii,fr=(E==null?void 0:E.valueLabel)??b.ValueLabel??si,g=(E==null?void 0:E.mark)??b.Mark??oi,C=(E==null?void 0:E.markLabel)??b.MarkLabel??ci,R=(E==null?void 0:E.input)??b.Input??"input",N=(z==null?void 0:z.root)??y.root,me=(z==null?void 0:z.rail)??y.rail,D=(z==null?void 0:z.track)??y.track,Ce=(z==null?void 0:z.thumb)??y.thumb,Pe=(z==null?void 0:z.valueLabel)??y.valueLabel,ye=(z==null?void 0:z.mark)??y.mark,Ee=(z==null?void 0:z.markLabel)??y.markLabel,yt=(z==null?void 0:z.input)??y.input,fa=Ue({elementType:Xe,getSlotProps:ue,externalSlotProps:N,externalForwardedProps:W,additionalProps:{...Za(Xe)&&{as:h}},ownerState:{...A,...N==null?void 0:N.ownerState},className:[ge.root,m]}),ha=Ue({elementType:Tt,externalSlotProps:me,ownerState:A,className:ge.rail}),ma=Ue({elementType:ur,externalSlotProps:D,additionalProps:{style:{...G[ie].offset(Se),...G[ie].leap(O)}},ownerState:{...A,...D==null?void 0:D.ownerState},className:ge.track}),hr=Ue({elementType:pr,getSlotProps:q,externalSlotProps:Ce,ownerState:{...A,...Ce==null?void 0:Ce.ownerState},className:ge.thumb}),ga=Ue({elementType:fr,externalSlotProps:Pe,ownerState:{...A,...Pe==null?void 0:Pe.ownerState},className:ge.valueLabel}),mr=Ue({elementType:g,externalSlotProps:ye,ownerState:A,className:ge.mark}),gr=Ue({elementType:C,externalSlotProps:Ee,ownerState:A,className:ge.markLabel}),xa=Ue({elementType:R,getSlotProps:v,externalSlotProps:yt,ownerState:A});return r.jsxs(Xe,{...fa,children:[r.jsx(Tt,{...ha}),r.jsx(ur,{...ma}),Z.filter(fe=>fe.value>=s&&fe.value<=d).map((fe,ve)=>{const xr=Ht(fe.value,s,d),$t=G[ie].offset(xr);let Fe;return de===!1?Fe=X.includes(fe.value):Fe=de==="normal"&&(oe?fe.value>=X[0]&&fe.value<=X[X.length-1]:fe.value<=X[0])||de==="inverted"&&(oe?fe.value<=X[0]||fe.value>=X[X.length-1]:fe.value>=X[0]),r.jsxs(k.Fragment,{children:[r.jsx(g,{"data-index":ve,...mr,...!Dt(g)&&{markActive:Fe},style:{...$t,...mr.style},className:Qe(mr.className,Fe&&ge.markActive)}),fe.label!=null?r.jsx(C,{"aria-hidden":!0,"data-index":ve,...gr,...!Dt(C)&&{markLabelActive:Fe},style:{...$t,...gr.style},className:Qe(ge.markLabel,gr.className,Fe&&ge.markLabelActive),children:fe.label}):null]},ve)}),X.map((fe,ve)=>{const xr=Ht(fe,s,d),$t=G[ie].offset(xr),Fe=K==="off"?di:fr;return r.jsx(Fe,{...!Dt(Fe)&&{valueLabelFormat:F,valueLabelDisplay:K,value:typeof F=="function"?F(be(fe),ve):F,index:ve,open:pe===ve||ae===ve||K==="on",disabled:P},...ga,children:r.jsx(pr,{"data-index":ve,...hr,className:Qe(ge.thumb,hr.className,ae===ve&&ge.active,J===ve&&ge.focusVisible),style:{...$t,...Le(ve),...hr.style},children:r.jsx(R,{"data-index":ve,"aria-label":$?$(ve):o,"aria-valuenow":be(fe),"aria-labelledby":l,"aria-valuetext":T?T(be(fe),ve):u,value:X[ve],...xa})})},ve)})]})});function pi(e){return Mr("MuiToggleButton",e)}const tt=Er("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),On=k.createContext({}),Nn=k.createContext(void 0);function fi(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.includes(e):e===t}const hi=e=>{const{classes:t,fullWidth:n,selected:a,disabled:i,size:o,color:u}=e,l={root:["root",a&&"selected",i&&"disabled",n&&"fullWidth",`size${Ae(o)}`,u]};return Or(l,pi,t)},mi=He(ka,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${Ae(n.size)}`]]}})(Ke(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${tt.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:qe(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${tt.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:qe(e.palette.text.primary,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:qe(e.palette.text.primary,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:qe(e.palette.text.primary,e.palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(Xt()).map(([t])=>({props:{color:t},style:{[`&.${tt.selected}`]:{color:(e.vars||e).palette[t].main,backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:qe(e.palette[t].main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:qe(e.palette[t].main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:qe(e.palette[t].main,e.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),on=k.forwardRef(function(t,n){const{value:a,...i}=k.useContext(On),o=k.useContext(Nn),u=Ca({...i,selected:fi(t.value,a)},t),l=Dr({props:u,name:"MuiToggleButton"}),{children:h,className:b,color:y="standard",disabled:j=!1,disableFocusRipple:x=!1,fullWidth:m=!1,onChange:_,onClick:P,selected:$,size:T="medium",value:B,...d}=l,s={...l,color:y,disabled:j,disableFocusRipple:x,fullWidth:m,size:T},c=hi(s),p=w=>{P&&(P(w,B),w.defaultPrevented)||_&&_(w,B)},f=o||"";return r.jsx(mi,{className:Qe(i.className,c.root,b,f),disabled:j,focusRipple:!x,ref:n,onClick:p,onChange:_,value:B,ownerState:s,"aria-pressed":$,...d,children:h})});function gi(e){return Mr("MuiToggleButtonGroup",e)}const ee=Er("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),xi=e=>{const{classes:t,orientation:n,fullWidth:a,disabled:i}=e,o={root:["root",n,a&&"fullWidth"],grouped:["grouped",`grouped${Ae(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Or(o,gi,t)},bi=He("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ee.grouped}`]:t.grouped},{[`& .${ee.grouped}`]:t[`grouped${Ae(n.orientation)}`]},{[`& .${ee.firstButton}`]:t.firstButton},{[`& .${ee.lastButton}`]:t.lastButton},{[`& .${ee.middleButton}`]:t.middleButton},t.root,n.orientation==="vertical"&&t.vertical,n.fullWidth&&t.fullWidth]}})(Ke(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${ee.grouped}`]:{[`&.${ee.selected} + .${ee.grouped}.${ee.selected}`]:{borderTop:0,marginTop:0}},[`& .${ee.firstButton},& .${ee.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${ee.lastButton},& .${ee.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${ee.lastButton}.${tt.disabled},& .${ee.middleButton}.${tt.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${ee.grouped}`]:{[`&.${ee.selected} + .${ee.grouped}.${ee.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${ee.firstButton},& .${ee.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${ee.lastButton},& .${ee.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${ee.lastButton}.${tt.disabled},& .${ee.middleButton}.${tt.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),yi=k.forwardRef(function(t,n){const a=Dr({props:t,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:u="standard",disabled:l=!1,exclusive:h=!1,fullWidth:b=!1,onChange:y,orientation:j="horizontal",size:x="medium",value:m,..._}=a,P={...a,disabled:l,fullWidth:b,orientation:j,size:x},$=xi(P),T=k.useCallback((f,w)=>{if(!y)return;const Q=m&&m.indexOf(w);let ne;m&&Q>=0?(ne=m.slice(),ne.splice(Q,1)):ne=m?m.concat(w):[w],y(f,ne)},[y,m]),B=k.useCallback((f,w)=>{y&&y(f,m===w?null:w)},[y,m]),d=k.useMemo(()=>({className:$.grouped,onChange:h?B:T,value:m,size:x,fullWidth:b,color:u,disabled:l}),[$.grouped,h,B,T,m,x,b,u,l]),s=Da(i),c=s.length,p=f=>{const w=f===0,Q=f===c-1;return w&&Q?"":w?$.firstButton:Q?$.lastButton:$.middleButton};return r.jsx(bi,{role:"group",className:Qe($.root,o),ref:n,ownerState:P,..._,children:r.jsx(On.Provider,{value:d,children:s.map((f,w)=>r.jsx(Nn.Provider,{value:p(w),children:f},w))})})}),vi=Ne(r.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList"),ji=Ne(r.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule"),cn=Ne(r.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),ki=Zt().shape({name:We().min(2,"Too Short!").max(100,"Too Long!").required("Required"),prefix:We().matches(/^[A-Za-z0-9]{3}$/,"Must be exactly 3 alphanumeric characters").required("Required"),description:We().nullable()}),Ci=({open:e,handleClose:t})=>{const n=_a(),{refetch:a}=An();return r.jsxs(st,{open:e,onClose:t,children:[r.jsx(mt,{children:"Add New Category"}),r.jsx(Jt,{initialValues:{name:"",prefix:"",description:""},validationSchema:ki,onSubmit:async(i,{setSubmitting:o,resetForm:u})=>{try{await n.mutateAsync(i),a(),u(),t()}catch(l){console.error("Error creating category:",l)}finally{o(!1)}},children:({errors:i,touched:o,isSubmitting:u})=>r.jsxs(er,{children:[r.jsxs(gt,{children:[r.jsx(ke,{as:ce,name:"name",label:"Category Name",fullWidth:!0,margin:"normal",error:o.name&&i.name,helperText:o.name&&i.name}),r.jsx(ke,{as:ce,name:"prefix",label:"Category Prefix (3 characters)",fullWidth:!0,margin:"normal",error:o.prefix&&i.prefix,helperText:o.prefix&&i.prefix}),r.jsx(ke,{as:ce,name:"description",label:"Description",fullWidth:!0,margin:"normal",multiline:!0,rows:3,error:o.description&&i.description,helperText:o.description&&i.description})]}),r.jsxs(xt,{children:[r.jsx(le,{onClick:t,children:"Cancel"}),r.jsx(le,{type:"submit",disabled:u,variant:"contained",color:"primary",children:u?"Adding...":"Add Category"})]})]})})]})};var we=function(){return we=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},we.apply(this,arguments)};function Ut(e,t,n){if(n||arguments.length===2)for(var a=0,i=t.length,o;a<i;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}var te="-ms-",kt="-moz-",H="-webkit-",Fn="comm",ir="rule",Wr="decl",_i="@import",qn="@keyframes",wi="@layer",Vn=Math.abs,Gr=String.fromCharCode,$r=Object.assign;function Si(e,t){return xe(e,0)^45?(((t<<2^xe(e,0))<<2^xe(e,1))<<2^xe(e,2))<<2^xe(e,3):0}function Wn(e){return e.trim()}function Ve(e,t){return(e=t.exec(e))?e[0]:e}function M(e,t,n){return e.replace(t,n)}function Ot(e,t,n){return e.indexOf(t,n)}function xe(e,t){return e.charCodeAt(t)|0}function dt(e,t,n){return e.slice(t,n)}function Me(e){return e.length}function Gn(e){return e.length}function jt(e,t){return t.push(e),e}function Pi(e,t){return e.map(t).join("")}function ln(e,t){return e.filter(function(n){return!Ve(n,t)})}var sr=1,ut=1,Hn=0,Re=0,he=0,bt="";function or(e,t,n,a,i,o,u,l){return{value:e,root:t,parent:n,type:a,props:i,children:o,line:sr,column:ut,length:u,return:"",siblings:l}}function Ye(e,t){return $r(or("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function ot(e){for(;e.root;)e=Ye(e.root,{children:[e]});jt(e,e.siblings)}function Ti(){return he}function $i(){return he=Re>0?xe(bt,--Re):0,ut--,he===10&&(ut=1,sr--),he}function ze(){return he=Re<Hn?xe(bt,Re++):0,ut++,he===10&&(ut=1,sr++),he}function nt(){return xe(bt,Re)}function Nt(){return Re}function cr(e,t){return dt(bt,e,t)}function Ir(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ii(e){return sr=ut=1,Hn=Me(bt=e),Re=0,[]}function Ai(e){return bt="",e}function kr(e){return Wn(cr(Re-1,Ar(e===91?e+2:e===40?e+1:e)))}function Bi(e){for(;(he=nt())&&he<33;)ze();return Ir(e)>2||Ir(he)>3?"":" "}function Ri(e,t){for(;--t&&ze()&&!(he<48||he>102||he>57&&he<65||he>70&&he<97););return cr(e,Nt()+(t<6&&nt()==32&&ze()==32))}function Ar(e){for(;ze();)switch(he){case e:return Re;case 34:case 39:e!==34&&e!==39&&Ar(he);break;case 40:e===41&&Ar(e);break;case 92:ze();break}return Re}function Li(e,t){for(;ze()&&e+he!==57;)if(e+he===84&&nt()===47)break;return"/*"+cr(t,Re-1)+"*"+Gr(e===47?e:ze())}function zi(e){for(;!Ir(nt());)ze();return cr(e,Re)}function Ei(e){return Ai(Ft("",null,null,null,[""],e=Ii(e),0,[0],e))}function Ft(e,t,n,a,i,o,u,l,h){for(var b=0,y=0,j=u,x=0,m=0,_=0,P=1,$=1,T=1,B=0,d="",s=i,c=o,p=a,f=d;$;)switch(_=B,B=ze()){case 40:if(_!=108&&xe(f,j-1)==58){Ot(f+=M(kr(B),"&","&\f"),"&\f",Vn(b?l[b-1]:0))!=-1&&(T=-1);break}case 34:case 39:case 91:f+=kr(B);break;case 9:case 10:case 13:case 32:f+=Bi(_);break;case 92:f+=Ri(Nt()-1,7);continue;case 47:switch(nt()){case 42:case 47:jt(Mi(Li(ze(),Nt()),t,n,h),h);break;default:f+="/"}break;case 123*P:l[b++]=Me(f)*T;case 125*P:case 59:case 0:switch(B){case 0:case 125:$=0;case 59+y:T==-1&&(f=M(f,/\f/g,"")),m>0&&Me(f)-j&&jt(m>32?un(f+";",a,n,j-1,h):un(M(f," ","")+";",a,n,j-2,h),h);break;case 59:f+=";";default:if(jt(p=dn(f,t,n,b,y,i,l,d,s=[],c=[],j,o),o),B===123)if(y===0)Ft(f,t,p,p,s,o,j,l,c);else switch(x===99&&xe(f,3)===110?100:x){case 100:case 108:case 109:case 115:Ft(e,p,p,a&&jt(dn(e,p,p,0,0,i,l,d,i,s=[],j,c),c),i,c,j,l,a?s:c);break;default:Ft(f,p,p,p,[""],c,0,l,c)}}b=y=m=0,P=T=1,d=f="",j=u;break;case 58:j=1+Me(f),m=_;default:if(P<1){if(B==123)--P;else if(B==125&&P++==0&&$i()==125)continue}switch(f+=Gr(B),B*P){case 38:T=y>0?1:(f+="\f",-1);break;case 44:l[b++]=(Me(f)-1)*T,T=1;break;case 64:nt()===45&&(f+=kr(ze())),x=nt(),y=j=Me(d=f+=zi(Nt())),B++;break;case 45:_===45&&Me(f)==2&&(P=0)}}return o}function dn(e,t,n,a,i,o,u,l,h,b,y,j){for(var x=i-1,m=i===0?o:[""],_=Gn(m),P=0,$=0,T=0;P<a;++P)for(var B=0,d=dt(e,x+1,x=Vn($=u[P])),s=e;B<_;++B)(s=Wn($>0?m[B]+" "+d:M(d,/&\f/g,m[B])))&&(h[T++]=s);return or(e,t,n,i===0?ir:l,h,b,y,j)}function Mi(e,t,n,a){return or(e,t,n,Fn,Gr(Ti()),dt(e,2,-2),0,a)}function un(e,t,n,a,i){return or(e,t,n,Wr,dt(e,0,a),dt(e,a+1,-1),a,i)}function Un(e,t,n){switch(Si(e,t)){case 5103:return H+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return H+e+e;case 4789:return kt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return H+e+kt+e+te+e+e;case 5936:switch(xe(e,t+11)){case 114:return H+e+te+M(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return H+e+te+M(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return H+e+te+M(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return H+e+te+e+e;case 6165:return H+e+te+"flex-"+e+e;case 5187:return H+e+M(e,/(\w+).+(:[^]+)/,H+"box-$1$2"+te+"flex-$1$2")+e;case 5443:return H+e+te+"flex-item-"+M(e,/flex-|-self/g,"")+(Ve(e,/flex-|baseline/)?"":te+"grid-row-"+M(e,/flex-|-self/g,""))+e;case 4675:return H+e+te+"flex-line-pack"+M(e,/align-content|flex-|-self/g,"")+e;case 5548:return H+e+te+M(e,"shrink","negative")+e;case 5292:return H+e+te+M(e,"basis","preferred-size")+e;case 6060:return H+"box-"+M(e,"-grow","")+H+e+te+M(e,"grow","positive")+e;case 4554:return H+M(e,/([^-])(transform)/g,"$1"+H+"$2")+e;case 6187:return M(M(M(e,/(zoom-|grab)/,H+"$1"),/(image-set)/,H+"$1"),e,"")+e;case 5495:case 3959:return M(e,/(image-set\([^]*)/,H+"$1$`$1");case 4968:return M(M(e,/(.+:)(flex-)?(.*)/,H+"box-pack:$3"+te+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+H+e+e;case 4200:if(!Ve(e,/flex-|baseline/))return te+"grid-column-align"+dt(e,t)+e;break;case 2592:case 3360:return te+M(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(a,i){return t=i,Ve(a.props,/grid-\w+-end/)})?~Ot(e+(n=n[t].value),"span",0)?e:te+M(e,"-start","")+e+te+"grid-row-span:"+(~Ot(n,"span",0)?Ve(n,/\d+/):+Ve(n,/\d+/)-+Ve(e,/\d+/))+";":te+M(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(a){return Ve(a.props,/grid-\w+-start/)})?e:te+M(M(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return M(e,/(.+)-inline(.+)/,H+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Me(e)-1-t>6)switch(xe(e,t+1)){case 109:if(xe(e,t+4)!==45)break;case 102:return M(e,/(.+:)(.+)-([^]+)/,"$1"+H+"$2-$3$1"+kt+(xe(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Ot(e,"stretch",0)?Un(M(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return M(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,i,o,u,l,h,b){return te+i+":"+o+b+(u?te+i+"-span:"+(l?h:+h-+o)+b:"")+e});case 4949:if(xe(e,t+6)===121)return M(e,":",":"+H)+e;break;case 6444:switch(xe(e,xe(e,14)===45?18:11)){case 120:return M(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+H+(xe(e,14)===45?"inline-":"")+"box$3$1"+H+"$2$3$1"+te+"$2box$3")+e;case 100:return M(e,":",":"+te)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return M(e,"scroll-","scroll-snap-")+e}return e}function Yt(e,t){for(var n="",a=0;a<e.length;a++)n+=t(e[a],a,e,t)||"";return n}function Di(e,t,n,a){switch(e.type){case wi:if(e.children.length)break;case _i:case Wr:return e.return=e.return||e.value;case Fn:return"";case qn:return e.return=e.value+"{"+Yt(e.children,a)+"}";case ir:if(!Me(e.value=e.props.join(",")))return""}return Me(n=Yt(e.children,a))?e.return=e.value+"{"+n+"}":""}function Oi(e){var t=Gn(e);return function(n,a,i,o){for(var u="",l=0;l<t;l++)u+=e[l](n,a,i,o)||"";return u}}function Ni(e){return function(t){t.root||(t=t.return)&&e(t)}}function Fi(e,t,n,a){if(e.length>-1&&!e.return)switch(e.type){case Wr:e.return=Un(e.value,e.length,n);return;case qn:return Yt([Ye(e,{value:M(e.value,"@","@"+H)})],a);case ir:if(e.length)return Pi(n=e.props,function(i){switch(Ve(i,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ot(Ye(e,{props:[M(i,/:(read-\w+)/,":"+kt+"$1")]})),ot(Ye(e,{props:[i]})),$r(e,{props:ln(n,a)});break;case"::placeholder":ot(Ye(e,{props:[M(i,/:(plac\w+)/,":"+H+"input-$1")]})),ot(Ye(e,{props:[M(i,/:(plac\w+)/,":"+kt+"$1")]})),ot(Ye(e,{props:[M(i,/:(plac\w+)/,te+"input-$1")]})),ot(Ye(e,{props:[i]})),$r(e,{props:ln(n,a)});break}return""})}}var qi={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$e={},pt=typeof process<"u"&&$e!==void 0&&($e.REACT_APP_SC_ATTR||$e.SC_ATTR)||"data-styled",Yn="active",Qn="data-styled-version",lr="6.1.13",Hr=`/*!sc*/
`,Qt=typeof window<"u"&&"HTMLElement"in window,Vi=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&$e!==void 0&&$e.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&$e.REACT_APP_SC_DISABLE_SPEEDY!==""?$e.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&$e.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&$e!==void 0&&$e.SC_DISABLE_SPEEDY!==void 0&&$e.SC_DISABLE_SPEEDY!==""&&$e.SC_DISABLE_SPEEDY!=="false"&&$e.SC_DISABLE_SPEEDY),dr=Object.freeze([]),ft=Object.freeze({});function Wi(e,t,n){return n===void 0&&(n=ft),e.theme!==n.theme&&e.theme||t||n.theme}var Kn=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Gi=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Hi=/(^-|-$)/g;function pn(e){return e.replace(Gi,"-").replace(Hi,"")}var Ui=/(a)(d)/gi,zt=52,fn=function(e){return String.fromCharCode(e+(e>25?39:97))};function Br(e){var t,n="";for(t=Math.abs(e);t>zt;t=t/zt|0)n=fn(t%zt)+n;return(fn(t%zt)+n).replace(Ui,"$1-$2")}var Cr,Xn=5381,ct=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Zn=function(e){return ct(Xn,e)};function Yi(e){return Br(Zn(e)>>>0)}function Qi(e){return e.displayName||e.name||"Component"}function _r(e){return typeof e=="string"&&!0}var Jn=typeof Symbol=="function"&&Symbol.for,ea=Jn?Symbol.for("react.memo"):60115,Ki=Jn?Symbol.for("react.forward_ref"):60112,Xi={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Zi={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ta={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ji=((Cr={})[Ki]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Cr[ea]=ta,Cr);function hn(e){return("type"in(t=e)&&t.type.$$typeof)===ea?ta:"$$typeof"in e?Ji[e.$$typeof]:Xi;var t}var es=Object.defineProperty,ts=Object.getOwnPropertyNames,mn=Object.getOwnPropertySymbols,rs=Object.getOwnPropertyDescriptor,ns=Object.getPrototypeOf,gn=Object.prototype;function ra(e,t,n){if(typeof t!="string"){if(gn){var a=ns(t);a&&a!==gn&&ra(e,a,n)}var i=ts(t);mn&&(i=i.concat(mn(t)));for(var o=hn(e),u=hn(t),l=0;l<i.length;++l){var h=i[l];if(!(h in Zi||n&&n[h]||u&&h in u||o&&h in o)){var b=rs(t,h);try{es(e,h,b)}catch{}}}}return e}function ht(e){return typeof e=="function"}function Ur(e){return typeof e=="object"&&"styledComponentId"in e}function rt(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function xn(e,t){if(e.length===0)return"";for(var n=e[0],a=1;a<e.length;a++)n+=e[a];return n}function _t(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Rr(e,t,n){if(n===void 0&&(n=!1),!n&&!_t(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var a=0;a<t.length;a++)e[a]=Rr(e[a],t[a]);else if(_t(t))for(var a in t)e[a]=Rr(e[a],t[a]);return e}function Yr(e,t){Object.defineProperty(e,"toString",{value:t})}function wt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var as=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,a=0;a<t;a++)n+=this.groupSizes[a];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var a=this.groupSizes,i=a.length,o=i;t>=o;)if((o<<=1)<0)throw wt(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(a),this.length=o;for(var u=i;u<o;u++)this.groupSizes[u]=0}for(var l=this.indexOfGroup(t+1),h=(u=0,n.length);u<h;u++)this.tag.insertRule(l,n[u])&&(this.groupSizes[t]++,l++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],a=this.indexOfGroup(t),i=a+n;this.groupSizes[t]=0;for(var o=a;o<i;o++)this.tag.deleteRule(a)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var a=this.groupSizes[t],i=this.indexOfGroup(t),o=i+a,u=i;u<o;u++)n+="".concat(this.tag.getRule(u)).concat(Hr);return n},e}(),qt=new Map,Kt=new Map,Vt=1,Et=function(e){if(qt.has(e))return qt.get(e);for(;Kt.has(Vt);)Vt++;var t=Vt++;return qt.set(e,t),Kt.set(t,e),t},is=function(e,t){Vt=t+1,qt.set(e,t),Kt.set(t,e)},ss="style[".concat(pt,"][").concat(Qn,'="').concat(lr,'"]'),os=new RegExp("^".concat(pt,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),cs=function(e,t,n){for(var a,i=n.split(","),o=0,u=i.length;o<u;o++)(a=i[o])&&e.registerName(t,a)},ls=function(e,t){for(var n,a=((n=t.textContent)!==null&&n!==void 0?n:"").split(Hr),i=[],o=0,u=a.length;o<u;o++){var l=a[o].trim();if(l){var h=l.match(os);if(h){var b=0|parseInt(h[1],10),y=h[2];b!==0&&(is(y,b),cs(e,y,h[3]),e.getTag().insertRules(b,i)),i.length=0}else i.push(l)}}},bn=function(e){for(var t=document.querySelectorAll(ss),n=0,a=t.length;n<a;n++){var i=t[n];i&&i.getAttribute(pt)!==Yn&&(ls(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function ds(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var na=function(e){var t=document.head,n=e||t,a=document.createElement("style"),i=function(l){var h=Array.from(l.querySelectorAll("style[".concat(pt,"]")));return h[h.length-1]}(n),o=i!==void 0?i.nextSibling:null;a.setAttribute(pt,Yn),a.setAttribute(Qn,lr);var u=ds();return u&&a.setAttribute("nonce",u),n.insertBefore(a,o),a},us=function(){function e(t){this.element=na(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var a=document.styleSheets,i=0,o=a.length;i<o;i++){var u=a[i];if(u.ownerNode===n)return u}throw wt(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),ps=function(){function e(t){this.element=na(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var a=document.createTextNode(n);return this.element.insertBefore(a,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),fs=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),yn=Qt,hs={isServer:!Qt,useCSSOMInjection:!Vi},aa=function(){function e(t,n,a){t===void 0&&(t=ft),n===void 0&&(n={});var i=this;this.options=we(we({},hs),t),this.gs=n,this.names=new Map(a),this.server=!!t.isServer,!this.server&&Qt&&yn&&(yn=!1,bn(this)),Yr(this,function(){return function(o){for(var u=o.getTag(),l=u.length,h="",b=function(j){var x=function(T){return Kt.get(T)}(j);if(x===void 0)return"continue";var m=o.names.get(x),_=u.getGroup(j);if(m===void 0||!m.size||_.length===0)return"continue";var P="".concat(pt,".g").concat(j,'[id="').concat(x,'"]'),$="";m!==void 0&&m.forEach(function(T){T.length>0&&($+="".concat(T,","))}),h+="".concat(_).concat(P,'{content:"').concat($,'"}').concat(Hr)},y=0;y<l;y++)b(y);return h}(i)})}return e.registerId=function(t){return Et(t)},e.prototype.rehydrate=function(){!this.server&&Qt&&bn(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(we(we({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var a=n.useCSSOMInjection,i=n.target;return n.isServer?new fs(i):a?new us(i):new ps(i)}(this.options),new as(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Et(t),this.names.has(t))this.names.get(t).add(n);else{var a=new Set;a.add(n),this.names.set(t,a)}},e.prototype.insertRules=function(t,n,a){this.registerName(t,n),this.getTag().insertRules(Et(t),a)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Et(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),ms=/&/g,gs=/^\s*\/\/.*$/gm;function ia(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(a){return"".concat(t," ").concat(a)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=ia(n.children,t)),n})}function xs(e){var t,n,a,i=ft,o=i.options,u=o===void 0?ft:o,l=i.plugins,h=l===void 0?dr:l,b=function(x,m,_){return _.startsWith(n)&&_.endsWith(n)&&_.replaceAll(n,"").length>0?".".concat(t):x},y=h.slice();y.push(function(x){x.type===ir&&x.value.includes("&")&&(x.props[0]=x.props[0].replace(ms,n).replace(a,b))}),u.prefix&&y.push(Fi),y.push(Di);var j=function(x,m,_,P){m===void 0&&(m=""),_===void 0&&(_=""),P===void 0&&(P="&"),t=P,n=m,a=new RegExp("\\".concat(n,"\\b"),"g");var $=x.replace(gs,""),T=Ei(_||m?"".concat(_," ").concat(m," { ").concat($," }"):$);u.namespace&&(T=ia(T,u.namespace));var B=[];return Yt(T,Oi(y.concat(Ni(function(d){return B.push(d)})))),B};return j.hash=h.length?h.reduce(function(x,m){return m.name||wt(15),ct(x,m.name)},Xn).toString():"",j}var bs=new aa,Lr=xs(),sa=Ct.createContext({shouldForwardProp:void 0,styleSheet:bs,stylis:Lr});sa.Consumer;Ct.createContext(void 0);function vn(){return k.useContext(sa)}var ys=function(){function e(t,n){var a=this;this.inject=function(i,o){o===void 0&&(o=Lr);var u=a.name+o.hash;i.hasNameForId(a.id,u)||i.insertRules(a.id,u,o(a.rules,u,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Yr(this,function(){throw wt(12,String(a.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Lr),this.name+t.hash},e}(),vs=function(e){return e>="A"&&e<="Z"};function jn(e){for(var t="",n=0;n<e.length;n++){var a=e[n];if(n===1&&a==="-"&&e[0]==="-")return e;vs(a)?t+="-"+a.toLowerCase():t+=a}return t.startsWith("ms-")?"-"+t:t}var oa=function(e){return e==null||e===!1||e===""},ca=function(e){var t,n,a=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!oa(o)&&(Array.isArray(o)&&o.isCss||ht(o)?a.push("".concat(jn(i),":"),o,";"):_t(o)?a.push.apply(a,Ut(Ut(["".concat(i," {")],ca(o),!1),["}"],!1)):a.push("".concat(jn(i),": ").concat((t=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in qi||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return a};function at(e,t,n,a){if(oa(e))return[];if(Ur(e))return[".".concat(e.styledComponentId)];if(ht(e)){if(!ht(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var i=e(t);return at(i,t,n,a)}var o;return e instanceof ys?n?(e.inject(n,a),[e.getName(a)]):[e]:_t(e)?ca(e):Array.isArray(e)?Array.prototype.concat.apply(dr,e.map(function(u){return at(u,t,n,a)})):[e.toString()]}function js(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ht(n)&&!Ur(n))return!1}return!0}var ks=Zn(lr),Cs=function(){function e(t,n,a){this.rules=t,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&js(t),this.componentId=n,this.baseHash=ct(ks,n),this.baseStyle=a,aa.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,a){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=rt(i,this.staticRulesId);else{var o=xn(at(this.rules,t,n,a)),u=Br(ct(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,u)){var l=a(o,".".concat(u),void 0,this.componentId);n.insertRules(this.componentId,u,l)}i=rt(i,u),this.staticRulesId=u}else{for(var h=ct(this.baseHash,a.hash),b="",y=0;y<this.rules.length;y++){var j=this.rules[y];if(typeof j=="string")b+=j;else if(j){var x=xn(at(j,t,n,a));h=ct(h,x+y),b+=x}}if(b){var m=Br(h>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,a(b,".".concat(m),void 0,this.componentId)),i=rt(i,m)}}return i},e}(),la=Ct.createContext(void 0);la.Consumer;var wr={};function _s(e,t,n){var a=Ur(e),i=e,o=!_r(e),u=t.attrs,l=u===void 0?dr:u,h=t.componentId,b=h===void 0?function(s,c){var p=typeof s!="string"?"sc":pn(s);wr[p]=(wr[p]||0)+1;var f="".concat(p,"-").concat(Yi(lr+p+wr[p]));return c?"".concat(c,"-").concat(f):f}(t.displayName,t.parentComponentId):h,y=t.displayName,j=y===void 0?function(s){return _r(s)?"styled.".concat(s):"Styled(".concat(Qi(s),")")}(e):y,x=t.displayName&&t.componentId?"".concat(pn(t.displayName),"-").concat(t.componentId):t.componentId||b,m=a&&i.attrs?i.attrs.concat(l).filter(Boolean):l,_=t.shouldForwardProp;if(a&&i.shouldForwardProp){var P=i.shouldForwardProp;if(t.shouldForwardProp){var $=t.shouldForwardProp;_=function(s,c){return P(s,c)&&$(s,c)}}else _=P}var T=new Cs(n,x,a?i.componentStyle:void 0);function B(s,c){return function(p,f,w){var Q=p.attrs,ne=p.componentStyle,Y=p.defaultProps,be=p.foldedComponentIds,z=p.styledComponentId,E=p.target,U=Ct.useContext(la),de=vn(),I=p.shouldForwardProp||de.shouldForwardProp,K=Wi(f,U,Y)||ft,F=function(q,pe,ae){for(var ie,J=we(we({},pe),{className:void 0,theme:ae}),oe=0;oe<q.length;oe+=1){var se=ht(ie=q[oe])?ie(J):ie;for(var Z in se)J[Z]=Z==="className"?rt(J[Z],se[Z]):Z==="style"?we(we({},J[Z]),se[Z]):se[Z]}return pe.className&&(J.className=rt(J.className,pe.className)),J}(Q,f,K),W=F.as||E,A={};for(var G in F)F[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&F.theme===K||(G==="forwardedAs"?A.as=F.forwardedAs:I&&!I(G,W)||(A[G]=F[G]));var ue=function(q,pe){var ae=vn(),ie=q.generateAndInjectStyles(pe,ae.styleSheet,ae.stylis);return ie}(ne,F),v=rt(be,z);return ue&&(v+=" "+ue),F.className&&(v+=" "+F.className),A[_r(W)&&!Kn.has(W)?"class":"className"]=v,A.ref=w,k.createElement(W,A)}(d,s,c)}B.displayName=j;var d=Ct.forwardRef(B);return d.attrs=m,d.componentStyle=T,d.displayName=j,d.shouldForwardProp=_,d.foldedComponentIds=a?rt(i.foldedComponentIds,i.styledComponentId):"",d.styledComponentId=x,d.target=a?i.target:e,Object.defineProperty(d,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(s){this._foldedDefaultProps=a?function(c){for(var p=[],f=1;f<arguments.length;f++)p[f-1]=arguments[f];for(var w=0,Q=p;w<Q.length;w++)Rr(c,Q[w],!0);return c}({},i.defaultProps,s):s}}),Yr(d,function(){return".".concat(d.styledComponentId)}),o&&ra(d,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),d}function kn(e,t){for(var n=[e[0]],a=0,i=t.length;a<i;a+=1)n.push(t[a],e[a+1]);return n}var Cn=function(e){return Object.assign(e,{isCss:!0})};function da(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ht(e)||_t(e))return Cn(at(kn(dr,Ut([e],t,!0))));var a=e;return t.length===0&&a.length===1&&typeof a[0]=="string"?at(a):Cn(at(kn(a,t)))}function zr(e,t,n){if(n===void 0&&(n=ft),!t)throw wt(1,t);var a=function(i){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];return e(t,n,da.apply(void 0,Ut([i],o,!1)))};return a.attrs=function(i){return zr(e,t,we(we({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},a.withConfig=function(i){return zr(e,t,we(we({},n),i))},a}var ua=function(e){return zr(_s,e)},St=ua;Kn.forEach(function(e){St[e]=ua(e)});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var it=function(){return it=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},it.apply(this,arguments)};function Pt(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var _n,wn,Sn,Pn,Tn,ws=da(_n||(_n=Pt([`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`],[`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`])),"#0658c2","#666","#666","#666","#666","#666"),Ss=St.label(wn||(wn=Pt([`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`],[`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`])),function(e){return e.overRide?"":ws}),Ps=St.div(Sn||(Sn=Pt([`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.9;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`],[`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.9;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`])),"#666","#999"),Ts=St.div(Pn||(Pn=Pt([`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`],[`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`])),function(e){return e.error?"red":"#666"}),$s=St.span(Tn||(Tn=Pt([`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`],[`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`])),"#666"),$n=function(e){return e/1024/1024},Is=function(e){return e===void 0?"":e.map(function(t){return".".concat(t.toLowerCase())}).join(",")};function As(e){var t=e.types,n=e.minSize,a=e.maxSize;if(t){var i=t.toString(),o="";return a&&(o+="size >= ".concat(a,", ")),n&&(o+="size <= ".concat(n,", ")),r.jsx("span",it({title:"".concat(o,"types: ").concat(i),className:"file-types"},{children:i}),void 0)}return null}function Bs(){return r.jsxs("svg",it({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[r.jsx("path",{d:"M5.33317 6.66667H22.6665V16H25.3332V6.66667C25.3332 5.196 24.1372 4 22.6665 4H5.33317C3.8625 4 2.6665 5.196 2.6665 6.66667V22.6667C2.6665 24.1373 3.8625 25.3333 5.33317 25.3333H15.9998V22.6667H5.33317V6.66667Z",fill:"#0658C2"},void 0),r.jsx("path",{d:"M10.6665 14.6667L6.6665 20H21.3332L15.9998 12L11.9998 17.3333L10.6665 14.6667Z",fill:"#0658C2"},void 0),r.jsx("path",{d:"M25.3332 18.6667H22.6665V22.6667H18.6665V25.3333H22.6665V29.3333H25.3332V25.3333H29.3332V22.6667H25.3332V18.6667Z",fill:"#0658C2"},void 0)]}),void 0)}var Sr=0,Rs=function(e,t,n,a,i,o){return n?r.jsx("span",{children:"File type/size error, Hovered on types!"},void 0):r.jsx($s,{children:a?r.jsx("span",{children:"Upload disabled"},void 0):r.jsx(r.Fragment,e||t?{children:o?r.jsx(r.Fragment,{children:r.jsx("span",{children:o},void 0)},void 0):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Uploaded Successfully!"},void 0)," Upload another?"]},void 0)}:{children:r.jsxs(r.Fragment,i?{children:[r.jsx("span",{children:i.split(" ")[0]},void 0)," ",i.substr(i.indexOf(" ")+1)]}:{children:[r.jsx("span",{children:"Upload"},void 0)," or drop a file right here"]},void 0)},void 0)},void 0)},pa=function(e){var t=e.name,n=e.hoverTitle,a=e.types,i=e.handleChange,o=e.classes,u=e.children,l=e.maxSize,h=e.minSize,b=e.fileOrFiles,y=e.onSizeError,j=e.onTypeError,x=e.onSelect,m=e.onDrop,_=e.disabled,P=e.label,$=e.uploadedLabel,T=e.multiple,B=e.required,d=e.onDraggingStateChange,s=e.dropMessageStyle,c=e.ariaLabel,p=e.ariaDescribedby,f=k.useRef(null),w=k.useRef(null),Q=k.useState(!1),ne=Q[0],Y=Q[1],be=k.useState(null),z=be[0],E=be[1],U=k.useState(!1),de=U[0],I=U[1],K=function(A){return a&&!function(G,ue){var v=G.name.split(".").pop();return ue.map(function(q){return q.toLowerCase()}).includes(v.toLowerCase())}(A,a)?(I(!0),j&&j("File type is not supported"),!1):l&&$n(A.size)>l?(I(!0),y&&y("File size is too big"),!1):!(h&&$n(A.size)<h)||(I(!0),y&&y("File size is too small"),!1)},F=function(A){var G=!1;if(A){if(A instanceof File)G=!K(A);else for(var ue=0;ue<A.length;ue++){var v=A[ue];G=!K(v)||G}return!G&&(i&&i(A),E(A),Y(!0),I(!1),!0)}return!1},W=function(A){var G=A.labelRef,ue=A.inputRef,v=A.multiple,q=A.handleChanges,pe=A.onDrop,ae=k.useState(!1),ie=ae[0],J=ae[1],oe=k.useCallback(function(){ue.current.click()},[ue]),se=k.useCallback(function(O){O.preventDefault(),O.stopPropagation(),Sr++,O.dataTransfer.items&&O.dataTransfer.items.length!==0&&J(!0)},[]),Z=k.useCallback(function(O){O.preventDefault(),O.stopPropagation(),--Sr>0||J(!1)},[]),X=k.useCallback(function(O){O.preventDefault(),O.stopPropagation()},[]),Se=k.useCallback(function(O){O.preventDefault(),O.stopPropagation(),J(!1),Sr=0;var Le=O.dataTransfer.files;if(Le&&Le.length>0){var ge=v?Le:Le[0],Xe=q(ge);pe&&Xe&&pe(ge)}},[q]);return k.useEffect(function(){var O=G.current;return O.addEventListener("click",oe),O.addEventListener("dragenter",se),O.addEventListener("dragleave",Z),O.addEventListener("dragover",X),O.addEventListener("drop",Se),function(){O.removeEventListener("click",oe),O.removeEventListener("dragenter",se),O.removeEventListener("dragleave",Z),O.removeEventListener("dragover",X),O.removeEventListener("drop",Se)}},[oe,se,Z,X,Se,G]),ie}({labelRef:f,inputRef:w,multiple:T,handleChanges:F,onDrop:m});return k.useEffect(function(){d==null||d(W)},[W]),k.useEffect(function(){b?(Y(!0),E(b)):(w.current&&(w.current.value=""),Y(!1),E(null))},[b]),r.jsxs(Ss,it({overRide:u,className:"".concat(o||""," ").concat(_?"is-disabled":""),ref:f,htmlFor:t,onClick:function(A){A.preventDefault(),A.stopPropagation()},"aria-describedby":p,role:"button","aria-label":c},{children:[r.jsx("input",{onClick:function(A){A.stopPropagation(),w&&w.current&&(w.current.value="",w.current.click())},onChange:function(A){var G=A.target.files,ue=T?G:G[0],v=F(ue);x&&v&&x(ue)},accept:Is(a),ref:w,type:"file",id:t,name:t,disabled:_,multiple:T,required:B},void 0),W&&r.jsx(Ps,it({style:s},{children:r.jsx("span",{children:n||"Drop Here"},void 0)}),void 0),!u&&r.jsxs(r.Fragment,{children:[r.jsx(Bs,{},void 0),r.jsxs(Ts,it({error:de},{children:[Rs(z,ne,de,_,P,$),r.jsx(As,{types:a,minSize:h,maxSize:l},void 0)]}),void 0)]},void 0),u]}),void 0)};const Ls=Zt().shape({product_name:We().min(2,"Too Short!").max(100,"Too Long!").required("Required"),product_category_id:lt().required("Required"),reorder_level:lt().min(0,"Must be 0 or greater").required("Required"),product_type:We().oneOf(["raw","finished","custom"],"Invalid product type").required("Required"),product_image:Ln().nullable().test("fileSize","File is too large",e=>!e||e.size<=5e6),attribute_id:lt().required("Attribute is required")}),zs=["JPG","JPEG","PNG","GIF"],Es=({open:e,handleClose:t,categories:n})=>{const a=wa(),i=Bn(),{data:o=[]}=Nr(),[u,l]=k.useState(null),{refetch:h}=Fr(),b=(j,x)=>{j&&(x("product_image",j),l(URL.createObjectURL(j)))},y=()=>{t(),l(null)};return r.jsxs(st,{open:e,onClose:y,maxWidth:"md",fullWidth:!0,children:[r.jsx(mt,{children:"Add New Product"}),r.jsx(Jt,{initialValues:{product_name:"",product_category_id:"",reorder_level:0,product_type:"raw",product_image:null,attribute_id:""},validationSchema:Ls,onSubmit:async(j,{setSubmitting:x,resetForm:m})=>{try{const _=await a.mutateAsync(j);j.product_image&&await i.mutateAsync({id:_.data.id,image:j.product_image}),h(),l(null),m(),y(),re.success("Successfully Created Product")}catch(_){re.error("Something went wrong please try again"),console.error("Error creating product:",_)}finally{x(!1)}},children:({values:j,errors:x,touched:m,isSubmitting:_,setFieldValue:P})=>r.jsxs(er,{children:[r.jsxs(gt,{children:[r.jsx(V,{sx:{maxWidth:500,mx:"auto",mt:2,mb:2},children:r.jsx(Ge,{variant:"outlined",sx:{p:3,borderStyle:"dashed",borderColor:"grey.400",backgroundColor:"grey.50","&:hover":{borderColor:"primary.main",cursor:"pointer"}},children:r.jsxs(V,{sx:{textAlign:"center"},children:[r.jsx(pa,{handleChange:$=>b($,P),name:"product_image",label:"Upload or drop a Product Image",types:zs,multiple:!1}),m.product_image&&x.product_image&&r.jsx(L,{color:"error",variant:"caption",display:"block",sx:{mt:1},children:x.product_image}),u&&r.jsx(Ge,{elevation:0,sx:{p:2,mt:2,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"grey.50",borderRadius:1},children:r.jsx(V,{sx:{width:"100%",height:200,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",borderRadius:1,bgcolor:"white"},children:r.jsx("img",{src:u,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})})]})})}),r.jsx(ke,{as:ce,name:"product_name",label:"Product Name",fullWidth:!0,margin:"normal",error:m.product_name&&x.product_name,helperText:m.product_name&&x.product_name}),r.jsx(ke,{as:ce,select:!0,name:"product_category_id",label:"Category",fullWidth:!0,margin:"normal",error:m.product_category_id&&x.product_category_id,helperText:m.product_category_id&&x.product_category_id,children:n.map($=>r.jsx(Ie,{value:$.id,children:$.name},$.id))}),r.jsx(ke,{as:ce,name:"reorder_level",label:"Reorder Level",type:"number",fullWidth:!0,margin:"normal",error:m.reorder_level&&x.reorder_level,helperText:m.reorder_level&&x.reorder_level}),r.jsxs(ke,{as:ce,select:!0,name:"product_type",label:"Product Type",fullWidth:!0,margin:"normal",error:m.product_type&&x.product_type,helperText:m.product_type&&x.product_type,children:[r.jsx(Ie,{value:"raw",children:"Raw Material"}),r.jsx(Ie,{value:"finished",children:"Finished Product"}),r.jsx(Ie,{value:"custom",children:"Custom Product"})]}),r.jsx(qr,{sx:{my:2}}),r.jsx(L,{variant:"subtitle1",gutterBottom:!0,children:"Product Attribute *"}),r.jsx(ke,{as:ce,select:!0,name:"attribute_id",label:"Attribute *",fullWidth:!0,margin:"normal",error:m.attribute_id&&x.attribute_id,helperText:m.attribute_id&&x.attribute_id,children:o.map($=>r.jsxs(Ie,{value:$.id,children:[$.attribute_name," (",$.unit_of_measurement,")"]},$.id))})]}),r.jsxs(xt,{children:[r.jsx(le,{onClick:y,children:"Cancel"}),r.jsx(le,{type:"submit",disabled:_,variant:"contained",color:"primary",children:_?"Adding...":"Add Product"})]})]})})]})},Ms=Zt().shape({attribute_name:We().required("Required").min(2,"Too Short!").max(100,"Too Long!"),unit_of_measurement:We().required("Required").max(50,"Too Long!")}),Ds=({open:e,handleClose:t})=>{const n=Sa(),{refetch:a}=Nr();return r.jsxs(st,{open:e,onClose:t,children:[r.jsx(mt,{children:"Add New Attribute"}),r.jsx(Jt,{initialValues:{attribute_name:"",unit_of_measurement:""},validationSchema:Ms,onSubmit:async(i,{setSubmitting:o,resetForm:u})=>{try{await n.mutateAsync(i),u(),a(),t()}catch(l){console.error("Error creating attribute:",l)}finally{o(!1)}},children:({errors:i,touched:o,isSubmitting:u})=>r.jsxs(er,{children:[r.jsxs(gt,{children:[r.jsx(ke,{as:ce,name:"attribute_name",label:"Attribute Name",fullWidth:!0,margin:"normal",error:o.attribute_name&&i.attribute_name,helperText:o.attribute_name&&i.attribute_name}),r.jsx(ke,{as:ce,name:"unit_of_measurement",label:"Unit of Measurement",fullWidth:!0,margin:"normal",error:o.unit_of_measurement&&i.unit_of_measurement,helperText:o.unit_of_measurement&&i.unit_of_measurement})]}),r.jsxs(xt,{children:[r.jsx(le,{onClick:t,children:"Cancel"}),r.jsx(le,{type:"submit",disabled:u,variant:"contained",color:"primary",children:u?"Adding...":"Add Attribute"})]})]})})]})},Os=Zt().shape({product_name:We().min(2,"Too Short!").max(100,"Too Long!").required("Required"),product_category_id:lt().required("Required"),reorder_level:lt().min(0,"Must be 0 or greater").required("Required"),product_type:We().oneOf(["raw","finished","custom"],"Invalid product type").required("Required"),product_image:Ln().test("fileSize","File is too large",e=>!e||e.size<=5e6),attribute_id:lt().required("Attribute is required")}),Ns=["JPG","JPEG","PNG","GIF"],Fs=({open:e,handleClose:t,categories:n,product:a})=>{const i=Pa(),o=Bn(),{data:u=[]}=Nr(),[l,h]=k.useState(null),{refetch:b}=Fr();k.useEffect(()=>{a!=null&&a.product_image&&h(Tr(a.product_image))},[a]);const y=(x,m)=>{x&&(m("product_image",x),h(URL.createObjectURL(x)))},j=()=>{t(),h(null)};return a?r.jsxs(st,{open:e,onClose:j,maxWidth:"md",fullWidth:!0,children:[r.jsx(mt,{children:"Edit Product"}),r.jsx(Jt,{initialValues:{product_name:a.product_name||"",product_category_id:a.product_category_id||"",reorder_level:a.reorder_level||0,product_type:a.product_type||"raw",attribute_id:a.attribute_id||""},validationSchema:Os,onSubmit:async(x,{setSubmitting:m})=>{try{await i.mutateAsync({id:a.id,data:x}),x.product_image&&await o.mutateAsync({id:a.id,image:x.product_image}),b(),j(),re.success("Successfully Edited Product")}catch(_){re.error("Something went wrong please try again"),console.error("Error updating product:",_)}finally{m(!1)}},children:({values:x,errors:m,touched:_,isSubmitting:P,setFieldValue:$})=>r.jsxs(er,{children:[r.jsxs(gt,{children:[r.jsx(V,{sx:{maxWidth:500,mx:"auto",mt:2,mb:2},children:r.jsx(Ge,{variant:"outlined",sx:{p:3,borderStyle:"dashed",borderColor:"grey.400",backgroundColor:"grey.50","&:hover":{borderColor:"primary.main",cursor:"pointer"}},children:r.jsxs(V,{sx:{textAlign:"center"},children:[r.jsx(pa,{handleChange:T=>y(T,$),name:"product_image",label:"Upload or drop a Product Image",types:Ns,multiple:!1}),l&&r.jsx(Ge,{elevation:0,sx:{p:2,mt:2,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"grey.50",borderRadius:1},children:r.jsx(V,{sx:{width:"100%",height:200,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",borderRadius:1,bgcolor:"white"},children:r.jsx("img",{src:l,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})})]})})}),r.jsx(ke,{as:ce,name:"product_name",label:"Product Name",fullWidth:!0,margin:"normal",error:_.product_name&&m.product_name,helperText:_.product_name&&m.product_name}),r.jsx(ke,{as:ce,select:!0,name:"product_category_id",label:"Category",fullWidth:!0,margin:"normal",error:_.product_category_id&&m.product_category_id,helperText:_.product_category_id&&m.product_category_id,children:n.map(T=>r.jsx(Ie,{value:T.id,children:T.name},T.id))}),r.jsx(ke,{as:ce,name:"reorder_level",label:"Reorder Level",type:"number",fullWidth:!0,margin:"normal",error:_.reorder_level&&m.reorder_level,helperText:_.reorder_level&&m.reorder_level}),r.jsxs(ke,{as:ce,select:!0,name:"product_type",label:"Product Type",fullWidth:!0,margin:"normal",error:_.product_type&&m.product_type,helperText:_.product_type&&m.product_type,children:[r.jsx(Ie,{value:"raw",children:"Raw Material"}),r.jsx(Ie,{value:"finished",children:"Finished Product"}),r.jsx(Ie,{value:"custom",children:"Custom Product"})]}),r.jsx(qr,{sx:{my:2}}),r.jsx(L,{variant:"subtitle1",gutterBottom:!0,children:"Product Attribute *"}),r.jsx(ke,{as:ce,select:!0,name:"attribute_id",label:"Attribute *",fullWidth:!0,margin:"normal",error:_.attribute_id&&m.attribute_id,helperText:_.attribute_id&&m.attribute_id,children:u.map(T=>r.jsxs(Ie,{value:T.id,children:[T.attribute_name," (",T.unit_of_measurement,")"]},T.id))})]}),r.jsxs(xt,{children:[r.jsx(le,{onClick:j,children:"Cancel"}),r.jsx(le,{type:"submit",disabled:P,variant:"contained",color:"primary",children:P?"Updating...":"Update Product"})]})]})})]}):null},qs=()=>r.jsx(je,{item:!0,xs:12,sm:6,md:4,lg:3,children:r.jsxs(Je,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[r.jsx(_e,{variant:"rectangular",height:200}),r.jsxs(et,{children:[r.jsx(_e,{variant:"text",sx:{fontSize:"1.25rem",mb:1}}),r.jsx(_e,{variant:"text",width:"60%"}),r.jsx(_e,{variant:"text",width:"40%"}),r.jsx(_e,{variant:"text",width:"70%"}),r.jsx(_e,{variant:"text",width:"80%"})]})]})}),Vs=()=>r.jsxs(Oe,{children:[r.jsx(S,{children:r.jsx(_e,{variant:"rectangular",width:50,height:50,sx:{borderRadius:1}})}),r.jsx(S,{children:r.jsx(_e,{variant:"text",width:100})}),r.jsx(S,{children:r.jsx(_e,{variant:"text",width:150})}),r.jsx(S,{children:r.jsx(_e,{variant:"text",width:100})}),r.jsx(S,{children:r.jsx(_e,{variant:"text",width:200})}),r.jsx(S,{align:"right",children:r.jsx(_e,{variant:"text",width:80})}),r.jsx(S,{align:"right",children:r.jsxs(V,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[r.jsx(_e,{variant:"circular",width:32,height:32}),r.jsx(_e,{variant:"circular",width:32,height:32})]})})]}),Ws=e=>{if(!e)return"default";switch(e.toLowerCase()){case"aluminum":return"#1976d2";case"breezeway":return"#2e7d32";case"glass":return"#0288d1";case"hardware":return"#d32f2f";case"accessory":return"#f57c00";case"lock":return"#7b1fa2";case"frame":return"#c2185b";case"track":return"#00796b";case"paint":return"#fbc02d";default:return"#9e9e9e"}},Gs=({category:e})=>{if(!e||!e.name)return r.jsx(S,{children:"-"});const t=Ws(e.name);return r.jsx(Wt,{label:e.name,size:"small",sx:{backgroundColor:t,color:t==="#fbc02d"?"rgba(0, 0, 0, 0.87)":"white",fontWeight:500}})},Hs=Ne(r.jsx("path",{d:"M7.5 5.6 10 7 8.6 4.5 10 2 7.5 3.4 5 2l1.4 2.5L5 7zm12 9.8L17 14l1.4 2.5L17 19l2.5-1.4L22 19l-1.4-2.5L22 14zM22 2l-2.5 1.4L17 2l1.4 2.5L17 7l2.5-1.4L22 7l-1.4-2.5zm-7.63 5.29a.996.996 0 0 0-1.41 0L1.29 18.96c-.39.39-.39 1.02 0 1.41l2.34 2.34c.39.39 1.02.39 1.41 0L16.7 11.05c.39-.39.39-1.02 0-1.41zm-1.03 5.49-2.12-2.12 2.44-2.44 2.12 2.12z"}),"AutoFixHigh"),Qr=Ne(r.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),Us=Ne(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),Ys=Ne(r.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}),"Pause"),Qs=Ne(r.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),Ks=Ne(r.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m-8 6H8v1h3c.55 0 1 .45 1 1v3c0 .55-.45 1-1 1h-1v1H8v-1H6v-2h4v-1H7c-.55 0-1-.45-1-1V9c0-.55.45-1 1-1h1V7h2v1h2zm4 6.25-2-2h4zM14 10l2-2 2 2z"}),"PriceChange"),Xs=Ne(r.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),Kr=()=>{const[e,t]=k.useState(!1),[n,a]=k.useState([]),[i,o]=k.useState(null),u=async d=>{var s,c;try{t(!0);const p=await Te.get(`/bracket-pricing/products/${d}/brackets`);return a(p.data.data),p.data.data}catch(p){return console.error("Error fetching product brackets:",p),re.error(((c=(s=p.response)==null?void 0:s.data)==null?void 0:c.message)||"Failed to fetch brackets"),[]}finally{t(!1)}};return{loading:e,brackets:n,activeBracket:i,setBrackets:a,setActiveBracket:o,getProductBrackets:u,getActiveBracket:async d=>{var s,c;try{t(!0);const p=await Te.get(`/bracket-pricing/products/${d}/active-bracket`);return o(p.data.data),p.data.data}catch(p){return console.error("Error fetching active bracket:",p),re.error(((c=(s=p.response)==null?void 0:s.data)==null?void 0:c.message)||"Failed to fetch active bracket"),null}finally{t(!1)}},createBracket:async(d,s)=>{var c,p;try{t(!0);const f=await Te.post(`/bracket-pricing/products/${d}/brackets`,s);return re.success("Bracket created successfully"),await u(d),f.data.data}catch(f){throw console.error("Error creating bracket:",f),re.error(((p=(c=f.response)==null?void 0:c.data)==null?void 0:p.message)||"Failed to create bracket"),f}finally{t(!1)}},updateBracket:async(d,s)=>{var c,p;try{t(!0);const f=await Te.put(`/bracket-pricing/brackets/${d}`,s);return re.success("Bracket updated successfully"),f.data.data}catch(f){throw console.error("Error updating bracket:",f),re.error(((p=(c=f.response)==null?void 0:c.data)==null?void 0:p.message)||"Failed to update bracket"),f}finally{t(!1)}},deleteBracket:async d=>{var s,c;try{return t(!0),await Te.delete(`/bracket-pricing/brackets/${d}`),re.success("Bracket deleted successfully"),!0}catch(p){return console.error("Error deleting bracket:",p),re.error(((c=(s=p.response)==null?void 0:s.data)==null?void 0:c.message)||"Failed to delete bracket"),!1}finally{t(!1)}},getBracket:async d=>{var s,c;try{return t(!0),(await Te.get(`/bracket-pricing/brackets/${d}`)).data.data}catch(p){return console.error("Error fetching bracket:",p),re.error(((c=(s=p.response)==null?void 0:s.data)==null?void 0:c.message)||"Failed to fetch bracket"),null}finally{t(!1)}},activateBracket:async d=>{var s,c;try{t(!0);const p=await Te.post(`/bracket-pricing/brackets/${d}/activate`);return re.success("Bracket activated successfully"),o(p.data.data),p.data.data}catch(p){throw console.error("Error activating bracket:",p),re.error(((c=(s=p.response)==null?void 0:s.data)==null?void 0:c.message)||"Failed to activate bracket"),p}finally{t(!1)}},deactivateBracketPricing:async d=>{var s,c;try{return t(!0),await Te.delete(`/bracket-pricing/products/${d}/deactivate`),re.success("Bracket pricing deactivated successfully"),o(null),!0}catch(p){return console.error("Error deactivating bracket pricing:",p),re.error(((c=(s=p.response)==null?void 0:s.data)==null?void 0:c.message)||"Failed to deactivate bracket pricing"),!1}finally{t(!1)}},getPricingBreakdown:async(d,s="regular",c=[1,5,10,25,50,100])=>{var p,f;try{return t(!0),(await Te.get(`/bracket-pricing/products/${d}/breakdown`,{params:{price_type:s,quantities:c}})).data.data}catch(w){return console.error("Error fetching pricing breakdown:",w),re.error(((f=(p=w.response)==null?void 0:p.data)==null?void 0:f.message)||"Failed to fetch pricing breakdown"),null}finally{t(!1)}},calculatePrice:async(d,s,c)=>{var p,f;try{return(await Te.post(`/bracket-pricing/products/${d}/calculate-price`,{quantity:s,price_type:c})).data.data}catch(w){return console.error("Error calculating price:",w),re.error(((f=(p=w.response)==null?void 0:p.data)==null?void 0:f.message)||"Failed to calculate price"),null}},getOptimalPricingSuggestions:async(d,s=.3,c=[1,10,25,50])=>{var p,f;try{return t(!0),(await Te.get(`/bracket-pricing/products/${d}/suggestions`,{params:{target_margin:s,quantities:c}})).data.data}catch(w){return console.error("Error fetching pricing suggestions:",w),re.error(((f=(p=w.response)==null?void 0:p.data)==null?void 0:f.message)||"Failed to fetch pricing suggestions"),null}finally{t(!1)}},cloneBracket:async(d,s={})=>{var c,p;try{t(!0);const f=await Te.post(`/bracket-pricing/brackets/${d}/clone`,s);return re.success("Bracket cloned successfully"),f.data.data}catch(f){throw console.error("Error cloning bracket:",f),re.error(((p=(c=f.response)==null?void 0:c.data)==null?void 0:p.message)||"Failed to clone bracket"),f}finally{t(!1)}},importFromCsv:async(d,s)=>{var c,p;try{t(!0);const f=await Te.post(`/bracket-pricing/products/${d}/import-csv`,{csv_data:s});return re.success("Brackets imported successfully"),await u(d),f.data.data}catch(f){throw console.error("Error importing brackets:",f),re.error(((p=(c=f.response)==null?void 0:c.data)==null?void 0:p.message)||"Failed to import brackets"),f}finally{t(!1)}}}},Zs=({open:e,product:t,bracket:n,onClose:a})=>{const{createBracket:i,updateBracket:o,loading:u}=Kr(),[l,h]=k.useState({is_selected:!1,effective_from:new Date().toISOString().split("T")[0],effective_to:"",bracket_items:[{min_quantity:1,max_quantity:"",price:"",price_type:"regular",is_active:!0}]}),[b,y]=k.useState({});k.useEffect(()=>{var d;h(n?{is_selected:n.is_selected||!1,effective_from:n.effective_from?n.effective_from.split("T")[0]:"",effective_to:n.effective_to?n.effective_to.split("T")[0]:"",bracket_items:((d=n.bracket_items)==null?void 0:d.map(s=>({id:s.id,min_quantity:s.min_quantity,max_quantity:s.max_quantity||"",price:s.price,price_type:s.price_type,is_active:s.is_active})))||[]}:{is_selected:!1,effective_from:new Date().toISOString().split("T")[0],effective_to:"",bracket_items:[{min_quantity:1,max_quantity:"",price:"",price_type:"regular",is_active:!0}]}),y({})},[n,e]);const j=(d,s)=>{h(c=>({...c,[d]:s})),b[d]&&y(c=>({...c,[d]:null}))},x=(d,s,c)=>{const p=[...l.bracket_items];p[d]={...p[d],[s]:c},h(w=>({...w,bracket_items:p}));const f=`bracket_items.${d}.${s}`;b[f]&&y(w=>({...w,[f]:null}))},m=()=>{const d=l.bracket_items[l.bracket_items.length-1],s=d.max_quantity?parseInt(d.max_quantity)+1:d.min_quantity+10;h(c=>({...c,bracket_items:[...c.bracket_items,{min_quantity:s,max_quantity:"",price:"",price_type:"regular",is_active:!0}]}))},_=d=>{l.bracket_items.length>1&&h(s=>({...s,bracket_items:s.bracket_items.filter((c,p)=>p!==d)}))},P=d=>{const s=l.bracket_items[d];h(c=>({...c,bracket_items:[...c.bracket_items.slice(0,d+1),{...s,id:void 0,min_quantity:s.max_quantity?parseInt(s.max_quantity)+1:s.min_quantity+10},...c.bracket_items.slice(d+1)]}))},$=()=>{const d={};return l.effective_from||(d.effective_from="Effective from date is required"),l.effective_to&&l.effective_to<=l.effective_from&&(d.effective_to="Effective to date must be after effective from date"),l.bracket_items.length===0&&(d.bracket_items="At least one bracket item is required"),l.bracket_items.forEach((s,c)=>{(!s.min_quantity||s.min_quantity<1)&&(d[`bracket_items.${c}.min_quantity`]="Minimum quantity must be at least 1"),s.max_quantity&&parseInt(s.max_quantity)<=parseInt(s.min_quantity)&&(d[`bracket_items.${c}.max_quantity`]="Maximum quantity must be greater than minimum quantity"),(!s.price||parseFloat(s.price)<0)&&(d[`bracket_items.${c}.price`]="Price must be a positive number");const p=l.bracket_items.filter((f,w)=>w!==c&&f.price_type===s.price_type);for(const f of p){const w=parseInt(s.min_quantity),Q=s.max_quantity?parseInt(s.max_quantity):1/0,ne=parseInt(f.min_quantity),Y=f.max_quantity?parseInt(f.max_quantity):1/0;if(w>=ne&&w<=Y||Q>=ne&&Q<=Y||w<=ne&&Q>=Y){d[`bracket_items.${c}.min_quantity`]="Quantity ranges cannot overlap for the same price type";break}}}),y(d),Object.keys(d).length===0},T=async()=>{if($())try{n?await o(n.id,l):await i(t.id,l),a(!0)}catch(d){console.error("Error saving bracket:",d)}},B=[{value:"regular",label:"Regular"},{value:"wholesale",label:"Wholesale"},{value:"walk_in",label:"Walk-in"}];return r.jsxs(st,{open:e,onClose:()=>a(!1),maxWidth:"lg",fullWidth:!0,children:[r.jsx(mt,{children:n?"Edit Bracket":"Create New Bracket"}),r.jsx(gt,{children:r.jsxs(je,{container:!0,spacing:3,children:[r.jsx(je,{item:!0,xs:12,children:r.jsx(L,{variant:"h6",gutterBottom:!0,children:"Basic Information"})}),r.jsx(je,{item:!0,xs:12,md:6,children:r.jsx(ce,{fullWidth:!0,label:"Effective From",type:"date",value:l.effective_from,onChange:d=>j("effective_from",d.target.value),error:!!b.effective_from,helperText:b.effective_from,InputLabelProps:{shrink:!0}})}),r.jsx(je,{item:!0,xs:12,md:6,children:r.jsx(ce,{fullWidth:!0,label:"Effective To (Optional)",type:"date",value:l.effective_to,onChange:d=>j("effective_to",d.target.value),error:!!b.effective_to,helperText:b.effective_to,InputLabelProps:{shrink:!0}})}),r.jsx(je,{item:!0,xs:12,children:r.jsx(Ba,{control:r.jsx(en,{checked:l.is_selected,onChange:d=>j("is_selected",d.target.checked)}),label:"Activate this bracket immediately"})}),r.jsxs(je,{item:!0,xs:12,children:[r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsx(L,{variant:"h6",children:"Price Tiers"}),r.jsx(le,{variant:"outlined",startIcon:r.jsx(En,{}),onClick:m,children:"Add Tier"})]}),b.bracket_items&&r.jsx(Vr,{severity:"error",sx:{mb:2},children:b.bracket_items}),r.jsx(tr,{component:Ge,variant:"outlined",children:r.jsxs(rr,{children:[r.jsx(nr,{children:r.jsxs(Oe,{children:[r.jsx(S,{children:"Min Qty"}),r.jsx(S,{children:"Max Qty"}),r.jsx(S,{children:"Price"}),r.jsx(S,{children:"Price Type"}),r.jsx(S,{children:"Active"}),r.jsx(S,{align:"right",children:"Actions"})]})}),r.jsx(ar,{children:l.bracket_items.map((d,s)=>r.jsxs(Oe,{children:[r.jsx(S,{children:r.jsx(ce,{size:"small",type:"number",value:d.min_quantity,onChange:c=>x(s,"min_quantity",parseInt(c.target.value)||""),error:!!b[`bracket_items.${s}.min_quantity`],helperText:b[`bracket_items.${s}.min_quantity`],sx:{width:100}})}),r.jsx(S,{children:r.jsx(ce,{size:"small",type:"number",value:d.max_quantity,onChange:c=>x(s,"max_quantity",c.target.value?parseInt(c.target.value):""),error:!!b[`bracket_items.${s}.max_quantity`],helperText:b[`bracket_items.${s}.max_quantity`],placeholder:"∞",sx:{width:100}})}),r.jsx(S,{children:r.jsx(ce,{size:"small",type:"number",step:"0.01",value:d.price,onChange:c=>x(s,"price",parseFloat(c.target.value)||""),error:!!b[`bracket_items.${s}.price`],helperText:b[`bracket_items.${s}.price`],sx:{width:120}})}),r.jsx(S,{children:r.jsx(Rn,{size:"small",sx:{width:100},children:r.jsx(zn,{value:d.price_type,onChange:c=>x(s,"price_type",c.target.value),children:B.map(c=>r.jsx(Ie,{value:c.value,children:c.label},c.value))})})}),r.jsx(S,{children:r.jsx(en,{checked:d.is_active,onChange:c=>x(s,"is_active",c.target.checked),size:"small"})}),r.jsxs(S,{align:"right",children:[r.jsx(De,{size:"small",onClick:()=>P(s),title:"Duplicate",children:r.jsx(Qr,{})}),r.jsx(De,{size:"small",onClick:()=>_(s),disabled:l.bracket_items.length<=1,title:"Remove",color:"error",children:r.jsx(Mn,{})})]})]},s))})]})})]})]})}),r.jsxs(xt,{children:[r.jsx(le,{onClick:()=>a(!1),children:"Cancel"}),r.jsx(le,{onClick:T,variant:"contained",disabled:u,children:u?"Saving...":n?"Update":"Create"})]})]})},Js=({productId:e})=>{var d;const{getOptimalPricingSuggestions:t,loading:n}=Kr(),[a,i]=k.useState(30),[o,u]=k.useState("1,10,25,50"),[l,h]=k.useState(null),[b,y]=k.useState(null);k.useEffect(()=>{e&&j()},[e]);const j=async()=>{if(e)try{const s=x(o),c=a/100,p=await t(e,c,s);h(p)}catch(s){console.error("Error loading suggestions:",s)}},x=s=>{try{return s.split(",").map(c=>parseInt(c.trim())).filter(c=>!isNaN(c)&&c>0).sort((c,p)=>c-p)}catch{return[1,10,25,50]}},m=(s,c)=>{i(c)},_=s=>{u(s)},P=()=>{j()},$=(s,c)=>{const p={min_quantity:s.min_quantity,max_quantity:s.max_quantity,price:s.suggested_price,price_type:"regular",is_active:!0};navigator.clipboard.writeText(JSON.stringify(p,null,2)),y(c),setTimeout(()=>y(null),2e3)},T=()=>l!=null&&l.suggestions?l.suggestions.reduce((s,c)=>{const p=c.min_quantity+10;return s+c.profit_per_unit*p},0):0,B=s=>s>=25?"success":s>=15?"warning":"error";return r.jsxs(V,{children:[r.jsxs(je,{container:!0,spacing:3,sx:{mb:3},children:[r.jsx(je,{item:!0,xs:12,md:4,children:r.jsx(Je,{children:r.jsxs(et,{children:[r.jsx(L,{variant:"h6",gutterBottom:!0,children:"Target Margin"}),r.jsx(V,{sx:{px:2},children:r.jsx(ui,{value:a,onChange:m,"aria-labelledby":"target-margin-slider",valueLabelDisplay:"auto",valueLabelFormat:s=>`${s}%`,step:1,marks:[{value:10,label:"10%"},{value:20,label:"20%"},{value:30,label:"30%"},{value:40,label:"40%"},{value:50,label:"50%"}],min:5,max:60})}),r.jsxs(L,{variant:"body2",color:"text.secondary",align:"center",children:["Current: ",a,"%"]})]})})}),r.jsx(je,{item:!0,xs:12,md:5,children:r.jsx(Je,{children:r.jsxs(et,{children:[r.jsx(L,{variant:"h6",gutterBottom:!0,children:"Quantity Tiers"}),r.jsx(ce,{fullWidth:!0,label:"Quantities (comma-separated)",value:o,onChange:s=>_(s.target.value),placeholder:"1,10,25,50",helperText:"Define quantity breakpoints for pricing tiers"})]})})}),r.jsx(je,{item:!0,xs:12,md:3,children:r.jsx(Je,{children:r.jsxs(et,{children:[r.jsx(L,{variant:"h6",gutterBottom:!0,children:"Actions"}),r.jsx(le,{fullWidth:!0,variant:"contained",onClick:P,disabled:n,startIcon:n?r.jsx(Pr,{size:20}):r.jsx(Hs,{}),children:n?"Calculating...":"Get Suggestions"})]})})})]}),l&&r.jsx(Vr,{severity:"info",sx:{mb:3},children:r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(Us,{}),r.jsxs(L,{variant:"body2",children:[r.jsx("strong",{children:"Current Cost Price:"})," ",Ze(l.cost_price),r.jsx("br",{}),r.jsx("strong",{children:"Target Margin:"})," ",a,"%",r.jsx("strong",{style:{marginLeft:16},children:"Base Price:"})," ",Ze(l.cost_price/(1-a/100))]})]})}),r.jsxs(je,{container:!0,spacing:3,children:[r.jsx(je,{item:!0,xs:12,md:8,children:r.jsx(Ge,{children:r.jsxs(V,{sx:{p:2},children:[r.jsx(L,{variant:"h6",gutterBottom:!0,children:"Optimal Pricing Suggestions"}),n?r.jsx(V,{sx:{display:"flex",justifyContent:"center",p:4},children:r.jsx(Pr,{})}):l!=null&&l.suggestions?r.jsx(tr,{children:r.jsxs(rr,{children:[r.jsx(nr,{children:r.jsxs(Oe,{children:[r.jsx(S,{children:"Quantity Range"}),r.jsx(S,{align:"right",children:"Suggested Price"}),r.jsx(S,{align:"right",children:"Margin %"}),r.jsx(S,{align:"right",children:"Profit per Unit"}),r.jsx(S,{align:"center",children:"Actions"})]})}),r.jsx(ar,{children:l.suggestions.map((s,c)=>r.jsxs(Oe,{children:[r.jsx(S,{children:r.jsxs(L,{variant:"body2",fontWeight:"medium",children:[s.min_quantity,s.max_quantity?` - ${s.max_quantity}`:"+"]})}),r.jsx(S,{align:"right",children:r.jsx(L,{variant:"body2",fontWeight:"medium",children:Ze(s.suggested_price)})}),r.jsx(S,{align:"right",children:r.jsx(Wt,{label:`${s.margin_percentage}%`,color:B(s.margin_percentage),size:"small"})}),r.jsx(S,{align:"right",children:r.jsx(L,{variant:"body2",color:"success.main",children:Ze(s.profit_per_unit)})}),r.jsx(S,{align:"center",children:r.jsx(Gt,{title:b===c?"Copied!":"Copy to clipboard",children:r.jsx(De,{size:"small",onClick:()=>$(s,c),color:b===c?"success":"default",children:r.jsx(Qr,{})})})})]},c))})]})}):r.jsx(L,{variant:"body2",color:"text.secondary",align:"center",sx:{py:4},children:'No suggestions available. Click "Get Suggestions" to generate optimal pricing recommendations.'})]})})}),r.jsxs(je,{item:!0,xs:12,md:4,children:[l&&r.jsx(Je,{children:r.jsxs(et,{children:[r.jsxs(L,{variant:"h6",gutterBottom:!0,children:[r.jsx(Xs,{sx:{mr:1,verticalAlign:"middle"}}),"Profit Projection"]}),r.jsxs(V,{sx:{mt:2},children:[r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[r.jsx(L,{variant:"body2",color:"text.secondary",children:"Cost Price:"}),r.jsx(L,{variant:"body2",children:Ze(l.cost_price)})]}),r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[r.jsx(L,{variant:"body2",color:"text.secondary",children:"Target Margin:"}),r.jsxs(L,{variant:"body2",children:[a,"%"]})]}),r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[r.jsx(L,{variant:"body2",color:"text.secondary",children:"Price Tiers:"}),r.jsx(L,{variant:"body2",children:((d=l.suggestions)==null?void 0:d.length)||0})]}),r.jsx(qr,{sx:{my:2}}),r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[r.jsx(L,{variant:"body2",color:"text.secondary",children:"Estimated Total Profit:"}),r.jsx(L,{variant:"body2",color:"success.main",fontWeight:"medium",children:Ze(T())})]})]})]})}),r.jsx(Je,{sx:{mt:2},children:r.jsxs(et,{children:[r.jsx(L,{variant:"h6",gutterBottom:!0,children:"Pricing Tips"}),r.jsxs(V,{sx:{mt:2},children:[r.jsx(L,{variant:"body2",color:"text.secondary",paragraph:!0,children:"• Higher quantities should have lower unit prices to encourage bulk purchases"}),r.jsx(L,{variant:"body2",color:"text.secondary",paragraph:!0,children:"• Maintain at least 10-15% margin for sustainable business"}),r.jsx(L,{variant:"body2",color:"text.secondary",paragraph:!0,children:"• Consider market competition when setting final prices"}),r.jsx(L,{variant:"body2",color:"text.secondary",paragraph:!0,children:"• Review and adjust pricing regularly based on cost changes"})]})]})})]})]})]})},eo=({product:e,onClose:t})=>{var de;const{loading:n,brackets:a,activeBracket:i,getProductBrackets:o,getActiveBracket:u,deleteBracket:l,activateBracket:h,deactivateBracketPricing:b,cloneBracket:y}=Kr(),[j,x]=k.useState(0),[m,_]=k.useState(!1),[P,$]=k.useState(null),[T,B]=k.useState(!1),[d,s]=k.useState(null);k.useEffect(()=>{e!=null&&e.id&&c()},[e==null?void 0:e.id]);const c=async()=>{e!=null&&e.id&&(await o(e.id),await u(e.id))},p=()=>{$(null),_(!0)},f=I=>{$(I),_(!0)},w=I=>{s(I),B(!0)},Q=async()=>{d&&await l(d.id)&&await c(),B(!1),s(null)},ne=async I=>{try{await h(I.id),await c()}catch(K){console.error("Error activating bracket:",K)}},Y=async()=>{await b(e.id)&&await c()},be=async I=>{try{await y(I.id,{is_selected:!1,effective_from:new Date().toISOString().split("T")[0]}),await c()}catch(K){console.error("Error cloning bracket:",K)}},z=async(I=!1)=>{_(!1),$(null),I&&await c()},E=I=>I.is_selected?r.jsx(Wt,{label:"Active",color:"success",size:"small"}):r.jsx(Wt,{label:"Inactive",color:"default",size:"small"}),U=({children:I,value:K,index:F,...W})=>r.jsx("div",{role:"tabpanel",hidden:K!==F,id:`bracket-tabpanel-${F}`,"aria-labelledby":`bracket-tab-${F}`,...W,children:K===F&&r.jsx(V,{sx:{p:3},children:I})});return r.jsxs(Ge,{sx:{width:"100%",height:"80vh",display:"flex",flexDirection:"column"},children:[r.jsxs(V,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[r.jsx(L,{variant:"h6",gutterBottom:!0,children:"Bracket Pricing Management"}),r.jsxs(L,{variant:"body2",color:"text.secondary",children:["Product: ",e==null?void 0:e.product_name," (",e==null?void 0:e.product_code,")"]})]}),r.jsxs(V,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[r.jsx(V,{sx:{borderBottom:1,borderColor:"divider"},children:r.jsxs(Ra,{value:j,onChange:(I,K)=>x(K),children:[r.jsx(tn,{label:"Brackets"}),r.jsx(tn,{label:"Suggestions"})]})}),r.jsxs(V,{sx:{flex:1,overflow:"auto"},children:[r.jsxs(U,{value:j,index:0,children:[r.jsxs(V,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(L,{variant:"h6",children:"Price Brackets"}),r.jsx(V,{children:r.jsx(le,{variant:"contained",startIcon:r.jsx(En,{}),onClick:p,children:"Create Bracket"})})]}),i&&r.jsxs(Vr,{severity:"info",sx:{mb:2},children:[r.jsxs(L,{variant:"body2",children:[r.jsx("strong",{children:"Active Bracket:"})," Created on ",new Date(i.created_at).toLocaleDateString()," ","(",((de=i.bracket_items)==null?void 0:de.length)||0," price tiers)"]}),r.jsx(le,{size:"small",color:"error",onClick:Y,sx:{mt:1},children:"Deactivate Bracket Pricing"})]}),n?r.jsx(V,{sx:{display:"flex",justifyContent:"center",p:4},children:r.jsx(Pr,{})}):r.jsx(tr,{children:r.jsxs(rr,{children:[r.jsx(nr,{children:r.jsxs(Oe,{children:[r.jsx(S,{children:"Status"}),r.jsx(S,{children:"Effective From"}),r.jsx(S,{children:"Effective To"}),r.jsx(S,{children:"Price Tiers"}),r.jsx(S,{children:"Created"}),r.jsx(S,{align:"right",children:"Actions"})]})}),r.jsx(ar,{children:a.length===0?r.jsx(Oe,{children:r.jsx(S,{colSpan:6,align:"center",children:r.jsx(L,{variant:"body2",color:"text.secondary",children:"No brackets found. Create your first bracket to get started."})})}):a.map(I=>{var K,F;return r.jsxs(Oe,{children:[r.jsx(S,{children:E(I)}),r.jsx(S,{children:new Date(I.effective_from).toLocaleDateString()}),r.jsx(S,{children:I.effective_to?new Date(I.effective_to).toLocaleDateString():"Indefinite"}),r.jsxs(S,{children:[r.jsxs(L,{variant:"body2",children:[((K=I.bracket_items)==null?void 0:K.length)||0," tiers"]}),(F=I.bracket_items)==null?void 0:F.slice(0,2).map((W,A)=>r.jsxs(L,{variant:"caption",display:"block",children:[W.min_quantity,W.max_quantity?`-${W.max_quantity}`:"+",": ",Ze(W.price)]},A))]}),r.jsx(S,{children:r.jsx(L,{variant:"caption",children:new Date(I.created_at).toLocaleDateString()})}),r.jsxs(S,{align:"right",children:[r.jsx(De,{size:"small",onClick:()=>f(I),title:"Edit",children:r.jsx(La,{})}),r.jsx(De,{size:"small",onClick:()=>be(I),title:"Clone",children:r.jsx(Qr,{})}),I.is_selected?r.jsx(De,{size:"small",onClick:Y,title:"Deactivate",color:"warning",children:r.jsx(Ys,{})}):r.jsx(De,{size:"small",onClick:()=>ne(I),title:"Activate",color:"success",children:r.jsx(Qs,{})}),r.jsx(De,{size:"small",onClick:()=>w(I),title:"Delete",color:"error",children:r.jsx(Mn,{})})]})]},I.id)})})]})})]}),r.jsx(U,{value:j,index:1,children:r.jsx(Js,{productId:e==null?void 0:e.id})})]})]}),r.jsx(V,{sx:{p:2,borderTop:1,borderColor:"divider",display:"flex",justifyContent:"flex-end"},children:r.jsx(le,{onClick:t,children:"Close"})}),m&&r.jsx(Zs,{open:m,product:e,bracket:P,onClose:z}),r.jsxs(st,{open:T,onClose:()=>B(!1),children:[r.jsx(mt,{children:"Confirm Delete"}),r.jsx(gt,{children:r.jsx(L,{children:"Are you sure you want to delete this bracket? This action cannot be undone."})}),r.jsxs(xt,{children:[r.jsx(le,{onClick:()=>B(!1),children:"Cancel"}),r.jsx(le,{onClick:Q,color:"error",variant:"contained",children:"Delete"})]})]})]})},to=({product:e,variant:t="outlined",size:n="small",showStatus:a=!0,fullWidth:i=!1})=>{const[o,u]=k.useState(!1),l=Ta($a),h=(l==null?void 0:l.role)==="admin"||(l==null?void 0:l.role)==="cashier",b=()=>{u(!0)},y=()=>{u(!1)},x=e!=null&&e.use_bracket_pricing?{active:!0,label:"Bracket Pricing"}:{active:!1,label:"Traditional Pricing"};return r.jsxs(r.Fragment,{children:[r.jsx(V,{sx:{},children:r.jsx(Gt,{title:"Manage bracket pricing for this product",children:r.jsx(le,{variant:t,size:n,disabled:!h,fullWidth:i,onClick:b,startIcon:r.jsx(Ks,{sx:{fontSize:"1.5rem"}}),sx:{borderColor:x.active?"success.main":void 0,backgroundColor:x.active?"success.main":void 0},children:"Bracket"})})}),r.jsx(st,{open:o,onClose:y,maxWidth:"xl",fullWidth:!0,PaperProps:{sx:{height:"90vh",maxHeight:"90vh"}},children:r.jsx(eo,{product:e,onClose:y})})]})},Bo=()=>{const[e,t]=k.useState(0),[n,a]=k.useState(10),[i,o]=k.useState(""),[u,l]=k.useState("table"),[h,b]=k.useState(!1),[y,j]=k.useState(!1),[x,m]=k.useState(!1),[_,P]=k.useState(!1),[$,T]=k.useState(null),[B,d]=k.useState("all"),[s,c]=k.useState({field:"product_name",direction:"asc"}),p=v=>{T(v),P(!0)},f=()=>{T(null),P(!1)},{data:w,isLoading:Q,refetch:ne}=Fr(),{data:Y,isLoading:be}=An(),z=Ia(),E=(w==null?void 0:w.filter(v=>{var ae,ie,J,oe,se,Z;const q=((ae=v.product_code)==null?void 0:ae.toLowerCase().includes(i.toLowerCase()))||((ie=v.product_name)==null?void 0:ie.toLowerCase().includes(i.toLowerCase()))||((oe=(J=v.category)==null?void 0:J.name)==null?void 0:oe.toLowerCase().includes(i.toLowerCase()))||((se=v.attributes)==null?void 0:se.some(X=>{var Se,O,Le;return((Se=X.attribute_name)==null?void 0:Se.toLowerCase().includes(i.toLowerCase()))||((Le=(O=X.pivot)==null?void 0:O.value)==null?void 0:Le.toLowerCase().includes(i.toLowerCase()))})),pe=B==="all"||((Z=v.category)==null?void 0:Z.id)===B;return q&&pe}))||[],U=v=>{c({field:v,direction:s.field===v&&s.direction==="asc"?"desc":"asc"})},de=[...E].sort((v,q)=>{var ie,J,oe,se,Z,X;if(s.field==="attributes"){const Se=((oe=(J=(ie=v.attributes)==null?void 0:ie[0])==null?void 0:J.pivot)==null?void 0:oe.value)||"",O=((X=(Z=(se=q.attributes)==null?void 0:se[0])==null?void 0:Z.pivot)==null?void 0:X.value)||"";return s.direction==="asc"?Se>O?1:-1:Se<O?1:-1}const pe=v[s.field],ae=q[s.field];return s.direction==="asc"?pe>ae?1:-1:pe<ae?1:-1}),I=v=>v?`${v.attribute_name} (${v.unit_of_measurement})`:"No attribute",K=(v,q)=>{q!==null&&l(q)},F=async v=>{var q,pe;try{(await vr.fire({title:"Are you sure?",text:"You will not be able to recover this product!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it",confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d"})).isConfirmed&&(await z.mutateAsync(v),await vr.fire({title:"Deleted!",text:"Product has been deleted successfully.",icon:"success",timer:1500,showConfirmButton:!1}),ne())}catch(ae){await vr.fire({title:"Error!",text:((pe=(q=ae.response)==null?void 0:q.data)==null?void 0:pe.message)||"Failed to delete product.",icon:"error"}),console.error("Failed to delete product:",ae)}},W=(v,q)=>{t(q)},A=v=>{a(parseInt(v.target.value,10)),t(0)},G=()=>r.jsx(tr,{component:Ge,children:r.jsxs(rr,{children:[r.jsx(nr,{children:r.jsxs(Oe,{children:[r.jsx(S,{children:"Image"}),r.jsx(S,{children:r.jsx(It,{active:s.field==="product_code",direction:s.field==="product_code"?s.direction:"asc",onClick:()=>U("product_code"),children:"Code"})}),r.jsx(S,{children:r.jsx(It,{active:s.field==="product_name",direction:s.field==="product_name"?s.direction:"asc",onClick:()=>U("product_name"),children:"Name"})}),r.jsx(S,{children:"Category"}),r.jsx(S,{children:"Attribute"}),r.jsx(S,{align:"right",children:r.jsx(It,{active:s.field==="quantity",direction:s.field==="quantity"?s.direction:"asc",onClick:()=>U("quantity"),children:"Quantity"})}),r.jsx(S,{align:"right",children:r.jsx(It,{active:s.field==="reorder_level",direction:s.field==="reorder_level"?s.direction:"asc",onClick:()=>U("reorder_level"),children:"Reorder Level"})}),r.jsx(S,{align:"right",children:"Pricing"}),r.jsx(S,{align:"right",children:"Actions"})]})}),r.jsx(ar,{children:Q?Array(n).fill(0).map((v,q)=>r.jsx(Vs,{},q)):de.slice(e*n,e*n+n).map(v=>r.jsxs(Oe,{children:[r.jsx(S,{children:v.product_image?r.jsx("img",{src:Tr(v.product_image),alt:v.product_name,style:{width:50,height:50,objectFit:"cover",borderRadius:"4px"}}):r.jsx(Ge,{sx:{width:50,height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:r.jsx(cn,{color:"disabled"})})}),r.jsx(S,{children:v.product_code}),r.jsx(S,{children:v.product_name}),r.jsx(S,{children:r.jsx(Gs,{category:v.category})}),r.jsx(S,{children:I(v.attribute)}),r.jsx(S,{align:"right",children:Number(v.inventory_quantity)}),r.jsx(S,{align:"right",children:v.reorder_level}),r.jsx(S,{align:"right",children:r.jsx(to,{product:v,variant:"contained",showStatus:!0,size:"meduim"})}),r.jsxs(S,{align:"right",children:[r.jsx(De,{onClick:()=>p(v),children:r.jsx(Na,{style:{fontSize:20}})}),r.jsx(De,{onClick:()=>F(v.id),children:r.jsx(Fa,{style:{fontSize:20}})})]})]},v.id))})]})}),ue=()=>r.jsx(je,{container:!0,spacing:2,children:Q?Array(n).fill(0).map((v,q)=>r.jsx(qs,{},q)):de.slice(e*n,e*n+n).map(v=>{var q;return r.jsx(je,{item:!0,xs:12,sm:6,md:4,lg:3,children:r.jsxs(Je,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[v.product_image?r.jsx(qa,{component:"img",height:"200",image:Tr(v.product_image),alt:v.product_name,sx:{objectFit:"cover"}}):r.jsx(V,{sx:{height:200,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:r.jsx(cn,{sx:{fontSize:60,color:"text.disabled"}})}),r.jsxs(et,{children:[r.jsx(L,{variant:"h6",noWrap:!0,children:v.product_name}),r.jsxs(L,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Code: ",v.product_code]}),r.jsxs(L,{variant:"body2",color:"text.secondary",children:["Category: ",(q=v.category)==null?void 0:q.name]}),r.jsxs(L,{variant:"body2",color:"text.secondary",children:["Reorder Level: ",v.reorder_level]}),r.jsxs(L,{variant:"body2",color:"text.secondary",children:["Attributes: ",I(v.attributes)]})]})]})},v.id)})});return r.jsxs(za,{maxWidth:"xxl",sx:{mt:0,p:"0!important"},children:[r.jsxs(V,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsxs(V,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(ce,{placeholder:"Search products...",variant:"outlined",size:"small",value:i,onChange:v=>o(v.target.value),InputProps:{startAdornment:r.jsx(Aa,{position:"start",children:r.jsx(Ea,{})})}}),r.jsxs(Rn,{size:"small",sx:{minWidth:120},children:[r.jsx(Ma,{children:"Category"}),r.jsxs(zn,{value:B,onChange:v=>d(v.target.value),label:"Category",children:[r.jsx(Ie,{value:"all",children:"All Categories"}),Y==null?void 0:Y.map(v=>r.jsx(Ie,{value:v.id,children:v.name},v.id))]})]}),r.jsxs(yi,{value:u,exclusive:!0,onChange:K,size:"small",children:[r.jsx(on,{value:"table",children:r.jsx(Gt,{title:"Table View",children:r.jsx(vi,{})})}),r.jsx(on,{value:"card",children:r.jsx(Gt,{title:"Card View",children:r.jsx(ji,{})})})]})]}),r.jsxs(V,{children:[r.jsx(le,{variant:"contained",onClick:()=>j(!0),startIcon:r.jsx(jr,{}),color:"error",children:"Add Product"}),r.jsx(le,{variant:"contained",onClick:()=>b(!0),startIcon:r.jsx(jr,{}),sx:{ml:1},color:"info",children:"Add Category"}),r.jsx(le,{variant:"contained",onClick:()=>m(!0),startIcon:r.jsx(jr,{}),sx:{ml:1},color:"success",children:"Add Attribute"})]})]}),u==="table"?r.jsx(G,{}):r.jsx(ue,{}),r.jsx(Oa,{rowsPerPageOptions:[5,10,25],component:"div",count:de.length,rowsPerPage:n,page:e,onPageChange:W,onRowsPerPageChange:A}),r.jsx(Ci,{open:h,handleClose:()=>b(!1)}),r.jsx(Es,{open:y,handleClose:()=>j(!1),categories:Y||[]}),r.jsx(Ds,{open:x,handleClose:()=>m(!1)}),r.jsx(Fs,{open:_,handleClose:()=>f(),categories:Y||[],product:$})]})};export{Bo as default};
