import{r as w,g as ut,a as pt,s as Ue,u as ft,j as n,c as Ge,b as ht,d as gt,B as _r,m as mt,e as Te,f as ln,h as _e,i as dn,k as un,R as qe,l as pn,n as Sr,o as $r,p as Ht,t as ot,q as Q,P as Ee,T as je,D as Rr,I as it,v as fn,w as hn,G as Lt,C as Pr,x as Ar,y as gn,z as mn,A as xn,F as vn,E as er}from"./index-BCpXsV6C.js";import{c as Be,a as be,F as xt,b as vt,d as Y,e as Ce,f as Tr,g as Ir,h as kr}from"./index.esm-2pZQCYfY.js";import{D as bt,a as yt,b as jt,c as Ct}from"./DialogTitle-B4sgs6DV.js";import{T as V,R as We,a as Mt,b as O,C as bn,S as yn,c as jn,d as Cn,e as wn,f as _n}from"./PlusOutlined-BjNBVFEH.js";import{B as le,I as Sn}from"./InputLabel-bc7xF69S.js";import{M as de,R as $n,T as Rn}from"./SearchOutlined-CJM1AXmb.js";import{R as Ut}from"./DeleteOutlined-CLqsTrHe.js";import{g as Ot}from"./fileHelper-DtQg9PBz.js";import{S as re}from"./Skeleton-DKxh-0uw.js";import{S as At}from"./sweetalert2.esm.all-D3pEHXw3.js";import{R as Pn}from"./EditOutlined-DlYFdU0J.js";function An(e){return w.Children.toArray(e).filter(t=>w.isValidElement(t))}function Tn(e){return pt("MuiCardMedia",e)}ut("MuiCardMedia",["root","media","img"]);const In=e=>{const{classes:t,isMediaComponent:r,isImageComponent:a}=e;return ht({root:["root",r&&"media",a&&"img"]},Tn,t)},kn=Ue("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{isMediaComponent:a,isImageComponent:o}=r;return[t.root,a&&t.media,o&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),En=["video","audio","picture","iframe","img"],Bn=["picture","img"],zn=w.forwardRef(function(t,r){const a=ft({props:t,name:"MuiCardMedia"}),{children:o,className:i,component:s="div",image:d,src:f,style:b,...x}=a,v=En.includes(s),h=!v&&d?{backgroundImage:`url("${d}")`,...b}:b,c={...a,component:s,isMediaComponent:v,isImageComponent:Bn.includes(s)},l=In(c);return n.jsx(kn,{className:Ge(l.root,i),as:s,role:!v&&d?"img":void 0,ref:r,style:h,ownerState:c,src:v?d||f:void 0,...x,children:o})}),Ln=gt(n.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");function Mn(e){return pt("MuiTableSortLabel",e)}const Tt=ut("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]),On=e=>{const{classes:t,direction:r,active:a}=e,o={root:["root",a&&"active",`direction${Te(r)}`],icon:["icon",`iconDirection${Te(r)}`]};return ht(o,Mn,t)},Nn=Ue(_r,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.active&&t.active]}})(mt(({theme:e})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(e.vars||e).palette.text.secondary},"&:hover":{color:(e.vars||e).palette.text.secondary,[`& .${Tt.icon}`]:{opacity:.5}},[`&.${Tt.active}`]:{color:(e.vars||e).palette.text.primary,[`& .${Tt.icon}`]:{opacity:1,color:(e.vars||e).palette.text.secondary}}}))),Dn=Ue("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,t[`iconDirection${Te(r.direction)}`]]}})(mt(({theme:e})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),Ke=w.forwardRef(function(t,r){const a=ft({props:t,name:"MuiTableSortLabel"}),{active:o=!1,children:i,className:s,direction:d="asc",hideSortIcon:f=!1,IconComponent:b=Ln,...x}=a,v={...a,active:o,direction:d,hideSortIcon:f,IconComponent:b},h=On(v);return n.jsxs(Nn,{className:Ge(h.root,s),component:"span",disableRipple:!0,ownerState:v,ref:r,...x,children:[i,f&&!o?null:n.jsx(Dn,{as:b,className:Ge(h.icon),ownerState:v})]})});function Fn(e){return pt("MuiToggleButton",e)}const Se=ut("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Er=w.createContext({}),Br=w.createContext(void 0);function Wn(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.includes(e):e===t}const Vn=e=>{const{classes:t,fullWidth:r,selected:a,disabled:o,size:i,color:s}=e,d={root:["root",a&&"selected",o&&"disabled",r&&"fullWidth",`size${Te(i)}`,s]};return ht(d,Fn,t)},Gn=Ue(_r,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`size${Te(r.size)}`]]}})(mt(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${Se.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:_e(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Se.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:_e(e.palette.text.primary,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:_e(e.palette.text.primary,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:_e(e.palette.text.primary,e.palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(dn()).map(([t])=>({props:{color:t},style:{[`&.${Se.selected}`]:{color:(e.vars||e).palette[t].main,backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:_e(e.palette[t].main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:_e(e.palette[t].main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:_e(e.palette[t].main,e.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),tr=w.forwardRef(function(t,r){const{value:a,...o}=w.useContext(Er),i=w.useContext(Br),s=ln({...o,selected:Wn(t.value,a)},t),d=ft({props:s,name:"MuiToggleButton"}),{children:f,className:b,color:x="standard",disabled:v=!1,disableFocusRipple:h=!1,fullWidth:c=!1,onChange:l,onClick:g,selected:T,size:j="medium",value:y,...P}=d,p={...d,color:x,disabled:v,disableFocusRipple:h,fullWidth:c,size:j},C=Vn(p),_=S=>{g&&(g(S,y),S.defaultPrevented)||l&&l(S,y)},m=i||"";return n.jsx(Gn,{className:Ge(o.className,C.root,b,m),disabled:v,focusRipple:!h,ref:r,onClick:_,onChange:l,value:y,ownerState:p,"aria-pressed":T,...P,children:f})});function qn(e){return pt("MuiToggleButtonGroup",e)}const B=ut("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Hn=e=>{const{classes:t,orientation:r,fullWidth:a,disabled:o}=e,i={root:["root",r,a&&"fullWidth"],grouped:["grouped",`grouped${Te(r)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ht(i,qn,t)},Un=Ue("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${B.grouped}`]:t.grouped},{[`& .${B.grouped}`]:t[`grouped${Te(r.orientation)}`]},{[`& .${B.firstButton}`]:t.firstButton},{[`& .${B.lastButton}`]:t.lastButton},{[`& .${B.middleButton}`]:t.middleButton},t.root,r.orientation==="vertical"&&t.vertical,r.fullWidth&&t.fullWidth]}})(mt(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${B.grouped}`]:{[`&.${B.selected} + .${B.grouped}.${B.selected}`]:{borderTop:0,marginTop:0}},[`& .${B.firstButton},& .${B.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${B.lastButton},& .${B.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${B.lastButton}.${Se.disabled},& .${B.middleButton}.${Se.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${B.grouped}`]:{[`&.${B.selected} + .${B.grouped}.${B.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${B.firstButton},& .${B.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${B.lastButton},& .${B.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${B.lastButton}.${Se.disabled},& .${B.middleButton}.${Se.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Yn=w.forwardRef(function(t,r){const a=ft({props:t,name:"MuiToggleButtonGroup"}),{children:o,className:i,color:s="standard",disabled:d=!1,exclusive:f=!1,fullWidth:b=!1,onChange:x,orientation:v="horizontal",size:h="medium",value:c,...l}=a,g={...a,disabled:d,fullWidth:b,orientation:v,size:h},T=Hn(g),j=w.useCallback((m,S)=>{if(!x)return;const M=c&&c.indexOf(S);let Z;c&&M>=0?(Z=c.slice(),Z.splice(M,1)):Z=c?c.concat(S):[S],x(m,Z)},[x,c]),y=w.useCallback((m,S)=>{x&&x(m,c===S?null:S)},[x,c]),P=w.useMemo(()=>({className:T.grouped,onChange:f?y:j,value:c,size:h,fullWidth:b,color:s,disabled:d}),[T.grouped,f,y,j,c,h,b,s,d]),p=An(o),C=p.length,_=m=>{const S=m===0,M=m===C-1;return S&&M?"":S?T.firstButton:M?T.lastButton:T.middleButton};return n.jsx(Un,{role:"group",className:Ge(T.root,i),ref:r,ownerState:g,...l,children:n.jsx(Er.Provider,{value:P,children:p.map((m,S)=>n.jsx(Br.Provider,{value:_(S),children:m},S))})})}),Zn=gt(n.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList"),Jn=gt(n.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule"),rr=gt(n.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),Kn=Be().shape({name:be().min(2,"Too Short!").max(100,"Too Long!").required("Required"),prefix:be().matches(/^[A-Za-z0-9]{3}$/,"Must be exactly 3 alphanumeric characters").required("Required"),description:be().nullable()}),Xn=({open:e,handleClose:t})=>{const r=un();return n.jsxs(bt,{open:e,onClose:t,children:[n.jsx(yt,{children:"Add New Category"}),n.jsx(xt,{initialValues:{name:"",prefix:"",description:""},validationSchema:Kn,onSubmit:async(a,{setSubmitting:o,resetForm:i})=>{try{await r.mutateAsync(a),i(),t()}catch(s){console.error("Error creating category:",s)}finally{o(!1)}},children:({errors:a,touched:o,isSubmitting:i})=>n.jsxs(vt,{children:[n.jsxs(jt,{children:[n.jsx(Y,{as:V,name:"name",label:"Category Name",fullWidth:!0,margin:"normal",error:o.name&&a.name,helperText:o.name&&a.name}),n.jsx(Y,{as:V,name:"prefix",label:"Category Prefix (3 characters)",fullWidth:!0,margin:"normal",error:o.prefix&&a.prefix,helperText:o.prefix&&a.prefix}),n.jsx(Y,{as:V,name:"description",label:"Description",fullWidth:!0,margin:"normal",multiline:!0,rows:3,error:o.description&&a.description,helperText:o.description&&a.description})]}),n.jsxs(Ct,{children:[n.jsx(le,{onClick:t,children:"Cancel"}),n.jsx(le,{type:"submit",disabled:i,variant:"contained",color:"primary",children:i?"Adding...":"Add Category"})]})]})})]})};var ne=function(){return ne=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ne.apply(this,arguments)};function st(e,t,r){if(r||arguments.length===2)for(var a=0,o=t.length,i;a<o;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var z="-ms-",Ve="-moz-",k="-webkit-",zr="comm",wt="rule",Yt="decl",Qn="@import",Lr="@keyframes",ea="@layer",Mr=Math.abs,Zt=String.fromCharCode,Nt=Object.assign;function ta(e,t){return W(e,0)^45?(((t<<2^W(e,0))<<2^W(e,1))<<2^W(e,2))<<2^W(e,3):0}function Or(e){return e.trim()}function ve(e,t){return(e=t.exec(e))?e[0]:e}function R(e,t,r){return e.replace(t,r)}function et(e,t,r){return e.indexOf(t,r)}function W(e,t){return e.charCodeAt(t)|0}function ze(e,t,r){return e.slice(t,r)}function ge(e){return e.length}function Nr(e){return e.length}function Fe(e,t){return t.push(e),e}function ra(e,t){return e.map(t).join("")}function nr(e,t){return e.filter(function(r){return!ve(r,t)})}var _t=1,Le=1,Dr=0,ue=0,D=0,De="";function St(e,t,r,a,o,i,s,d){return{value:e,root:t,parent:r,type:a,props:o,children:i,line:_t,column:Le,length:s,return:"",siblings:d}}function ye(e,t){return Nt(St("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Ie(e){for(;e.root;)e=ye(e.root,{children:[e]});Fe(e,e.siblings)}function na(){return D}function aa(){return D=ue>0?W(De,--ue):0,Le--,D===10&&(Le=1,_t--),D}function he(){return D=ue<Dr?W(De,ue++):0,Le++,D===10&&(Le=1,_t++),D}function Re(){return W(De,ue)}function tt(){return ue}function $t(e,t){return ze(De,e,t)}function Dt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oa(e){return _t=Le=1,Dr=ge(De=e),ue=0,[]}function ia(e){return De="",e}function It(e){return Or($t(ue-1,Ft(e===91?e+2:e===40?e+1:e)))}function sa(e){for(;(D=Re())&&D<33;)he();return Dt(e)>2||Dt(D)>3?"":" "}function ca(e,t){for(;--t&&he()&&!(D<48||D>102||D>57&&D<65||D>70&&D<97););return $t(e,tt()+(t<6&&Re()==32&&he()==32))}function Ft(e){for(;he();)switch(D){case e:return ue;case 34:case 39:e!==34&&e!==39&&Ft(D);break;case 40:e===41&&Ft(e);break;case 92:he();break}return ue}function la(e,t){for(;he()&&e+D!==57;)if(e+D===84&&Re()===47)break;return"/*"+$t(t,ue-1)+"*"+Zt(e===47?e:he())}function da(e){for(;!Dt(Re());)he();return $t(e,ue)}function ua(e){return ia(rt("",null,null,null,[""],e=oa(e),0,[0],e))}function rt(e,t,r,a,o,i,s,d,f){for(var b=0,x=0,v=s,h=0,c=0,l=0,g=1,T=1,j=1,y=0,P="",p=o,C=i,_=a,m=P;T;)switch(l=y,y=he()){case 40:if(l!=108&&W(m,v-1)==58){et(m+=R(It(y),"&","&\f"),"&\f",Mr(b?d[b-1]:0))!=-1&&(j=-1);break}case 34:case 39:case 91:m+=It(y);break;case 9:case 10:case 13:case 32:m+=sa(l);break;case 92:m+=ca(tt()-1,7);continue;case 47:switch(Re()){case 42:case 47:Fe(pa(la(he(),tt()),t,r,f),f);break;default:m+="/"}break;case 123*g:d[b++]=ge(m)*j;case 125*g:case 59:case 0:switch(y){case 0:case 125:T=0;case 59+x:j==-1&&(m=R(m,/\f/g,"")),c>0&&ge(m)-v&&Fe(c>32?or(m+";",a,r,v-1,f):or(R(m," ","")+";",a,r,v-2,f),f);break;case 59:m+=";";default:if(Fe(_=ar(m,t,r,b,x,o,d,P,p=[],C=[],v,i),i),y===123)if(x===0)rt(m,t,_,_,p,i,v,d,C);else switch(h===99&&W(m,3)===110?100:h){case 100:case 108:case 109:case 115:rt(e,_,_,a&&Fe(ar(e,_,_,0,0,o,d,P,o,p=[],v,C),C),o,C,v,d,a?p:C);break;default:rt(m,_,_,_,[""],C,0,d,C)}}b=x=c=0,g=j=1,P=m="",v=s;break;case 58:v=1+ge(m),c=l;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&aa()==125)continue}switch(m+=Zt(y),y*g){case 38:j=x>0?1:(m+="\f",-1);break;case 44:d[b++]=(ge(m)-1)*j,j=1;break;case 64:Re()===45&&(m+=It(he())),h=Re(),x=v=ge(P=m+=da(tt())),y++;break;case 45:l===45&&ge(m)==2&&(g=0)}}return i}function ar(e,t,r,a,o,i,s,d,f,b,x,v){for(var h=o-1,c=o===0?i:[""],l=Nr(c),g=0,T=0,j=0;g<a;++g)for(var y=0,P=ze(e,h+1,h=Mr(T=s[g])),p=e;y<l;++y)(p=Or(T>0?c[y]+" "+P:R(P,/&\f/g,c[y])))&&(f[j++]=p);return St(e,t,r,o===0?wt:d,f,b,x,v)}function pa(e,t,r,a){return St(e,t,r,zr,Zt(na()),ze(e,2,-2),0,a)}function or(e,t,r,a,o){return St(e,t,r,Yt,ze(e,0,a),ze(e,a+1,-1),a,o)}function Fr(e,t,r){switch(ta(e,t)){case 5103:return k+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return k+e+e;case 4789:return Ve+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return k+e+Ve+e+z+e+e;case 5936:switch(W(e,t+11)){case 114:return k+e+z+R(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return k+e+z+R(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return k+e+z+R(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return k+e+z+e+e;case 6165:return k+e+z+"flex-"+e+e;case 5187:return k+e+R(e,/(\w+).+(:[^]+)/,k+"box-$1$2"+z+"flex-$1$2")+e;case 5443:return k+e+z+"flex-item-"+R(e,/flex-|-self/g,"")+(ve(e,/flex-|baseline/)?"":z+"grid-row-"+R(e,/flex-|-self/g,""))+e;case 4675:return k+e+z+"flex-line-pack"+R(e,/align-content|flex-|-self/g,"")+e;case 5548:return k+e+z+R(e,"shrink","negative")+e;case 5292:return k+e+z+R(e,"basis","preferred-size")+e;case 6060:return k+"box-"+R(e,"-grow","")+k+e+z+R(e,"grow","positive")+e;case 4554:return k+R(e,/([^-])(transform)/g,"$1"+k+"$2")+e;case 6187:return R(R(R(e,/(zoom-|grab)/,k+"$1"),/(image-set)/,k+"$1"),e,"")+e;case 5495:case 3959:return R(e,/(image-set\([^]*)/,k+"$1$`$1");case 4968:return R(R(e,/(.+:)(flex-)?(.*)/,k+"box-pack:$3"+z+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+k+e+e;case 4200:if(!ve(e,/flex-|baseline/))return z+"grid-column-align"+ze(e,t)+e;break;case 2592:case 3360:return z+R(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(a,o){return t=o,ve(a.props,/grid-\w+-end/)})?~et(e+(r=r[t].value),"span",0)?e:z+R(e,"-start","")+e+z+"grid-row-span:"+(~et(r,"span",0)?ve(r,/\d+/):+ve(r,/\d+/)-+ve(e,/\d+/))+";":z+R(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(a){return ve(a.props,/grid-\w+-start/)})?e:z+R(R(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return R(e,/(.+)-inline(.+)/,k+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ge(e)-1-t>6)switch(W(e,t+1)){case 109:if(W(e,t+4)!==45)break;case 102:return R(e,/(.+:)(.+)-([^]+)/,"$1"+k+"$2-$3$1"+Ve+(W(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~et(e,"stretch",0)?Fr(R(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return R(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,o,i,s,d,f,b){return z+o+":"+i+b+(s?z+o+"-span:"+(d?f:+f-+i)+b:"")+e});case 4949:if(W(e,t+6)===121)return R(e,":",":"+k)+e;break;case 6444:switch(W(e,W(e,14)===45?18:11)){case 120:return R(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+k+(W(e,14)===45?"inline-":"")+"box$3$1"+k+"$2$3$1"+z+"$2box$3")+e;case 100:return R(e,":",":"+z)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return R(e,"scroll-","scroll-snap-")+e}return e}function ct(e,t){for(var r="",a=0;a<e.length;a++)r+=t(e[a],a,e,t)||"";return r}function fa(e,t,r,a){switch(e.type){case ea:if(e.children.length)break;case Qn:case Yt:return e.return=e.return||e.value;case zr:return"";case Lr:return e.return=e.value+"{"+ct(e.children,a)+"}";case wt:if(!ge(e.value=e.props.join(",")))return""}return ge(r=ct(e.children,a))?e.return=e.value+"{"+r+"}":""}function ha(e){var t=Nr(e);return function(r,a,o,i){for(var s="",d=0;d<t;d++)s+=e[d](r,a,o,i)||"";return s}}function ga(e){return function(t){t.root||(t=t.return)&&e(t)}}function ma(e,t,r,a){if(e.length>-1&&!e.return)switch(e.type){case Yt:e.return=Fr(e.value,e.length,r);return;case Lr:return ct([ye(e,{value:R(e.value,"@","@"+k)})],a);case wt:if(e.length)return ra(r=e.props,function(o){switch(ve(o,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ie(ye(e,{props:[R(o,/:(read-\w+)/,":"+Ve+"$1")]})),Ie(ye(e,{props:[o]})),Nt(e,{props:nr(r,a)});break;case"::placeholder":Ie(ye(e,{props:[R(o,/:(plac\w+)/,":"+k+"input-$1")]})),Ie(ye(e,{props:[R(o,/:(plac\w+)/,":"+Ve+"$1")]})),Ie(ye(e,{props:[R(o,/:(plac\w+)/,z+"input-$1")]})),Ie(ye(e,{props:[o]})),Nt(e,{props:nr(r,a)});break}return""})}}var xa={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ce={},Me=typeof process<"u"&&ce!==void 0&&(ce.REACT_APP_SC_ATTR||ce.SC_ATTR)||"data-styled",Wr="active",Vr="data-styled-version",Rt="6.1.13",Jt=`/*!sc*/
`,lt=typeof window<"u"&&"HTMLElement"in window,va=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ce!==void 0&&ce.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ce.REACT_APP_SC_DISABLE_SPEEDY!==""?ce.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ce.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ce!==void 0&&ce.SC_DISABLE_SPEEDY!==void 0&&ce.SC_DISABLE_SPEEDY!==""&&ce.SC_DISABLE_SPEEDY!=="false"&&ce.SC_DISABLE_SPEEDY),Pt=Object.freeze([]),Oe=Object.freeze({});function ba(e,t,r){return r===void 0&&(r=Oe),e.theme!==r.theme&&e.theme||t||r.theme}var Gr=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ya=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ja=/(^-|-$)/g;function ir(e){return e.replace(ya,"-").replace(ja,"")}var Ca=/(a)(d)/gi,Xe=52,sr=function(e){return String.fromCharCode(e+(e>25?39:97))};function Wt(e){var t,r="";for(t=Math.abs(e);t>Xe;t=t/Xe|0)r=sr(t%Xe)+r;return(sr(t%Xe)+r).replace(Ca,"$1-$2")}var kt,qr=5381,ke=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},Hr=function(e){return ke(qr,e)};function wa(e){return Wt(Hr(e)>>>0)}function _a(e){return e.displayName||e.name||"Component"}function Et(e){return typeof e=="string"&&!0}var Ur=typeof Symbol=="function"&&Symbol.for,Yr=Ur?Symbol.for("react.memo"):60115,Sa=Ur?Symbol.for("react.forward_ref"):60112,$a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ra={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Zr={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Pa=((kt={})[Sa]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kt[Yr]=Zr,kt);function cr(e){return("type"in(t=e)&&t.type.$$typeof)===Yr?Zr:"$$typeof"in e?Pa[e.$$typeof]:$a;var t}var Aa=Object.defineProperty,Ta=Object.getOwnPropertyNames,lr=Object.getOwnPropertySymbols,Ia=Object.getOwnPropertyDescriptor,ka=Object.getPrototypeOf,dr=Object.prototype;function Jr(e,t,r){if(typeof t!="string"){if(dr){var a=ka(t);a&&a!==dr&&Jr(e,a,r)}var o=Ta(t);lr&&(o=o.concat(lr(t)));for(var i=cr(e),s=cr(t),d=0;d<o.length;++d){var f=o[d];if(!(f in Ra||r&&r[f]||s&&f in s||i&&f in i)){var b=Ia(t,f);try{Aa(e,f,b)}catch{}}}}return e}function Ne(e){return typeof e=="function"}function Kt(e){return typeof e=="object"&&"styledComponentId"in e}function $e(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function ur(e,t){if(e.length===0)return"";for(var r=e[0],a=1;a<e.length;a++)r+=e[a];return r}function He(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Vt(e,t,r){if(r===void 0&&(r=!1),!r&&!He(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var a=0;a<t.length;a++)e[a]=Vt(e[a],t[a]);else if(He(t))for(var a in t)e[a]=Vt(e[a],t[a]);return e}function Xt(e,t){Object.defineProperty(e,"toString",{value:t})}function Ye(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Ea=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var r=0,a=0;a<t;a++)r+=this.groupSizes[a];return r},e.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var a=this.groupSizes,o=a.length,i=o;t>=i;)if((i<<=1)<0)throw Ye(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(a),this.length=i;for(var s=o;s<i;s++)this.groupSizes[s]=0}for(var d=this.indexOfGroup(t+1),f=(s=0,r.length);s<f;s++)this.tag.insertRule(d,r[s])&&(this.groupSizes[t]++,d++)},e.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],a=this.indexOfGroup(t),o=a+r;this.groupSizes[t]=0;for(var i=a;i<o;i++)this.tag.deleteRule(a)}},e.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var a=this.groupSizes[t],o=this.indexOfGroup(t),i=o+a,s=o;s<i;s++)r+="".concat(this.tag.getRule(s)).concat(Jt);return r},e}(),nt=new Map,dt=new Map,at=1,Qe=function(e){if(nt.has(e))return nt.get(e);for(;dt.has(at);)at++;var t=at++;return nt.set(e,t),dt.set(t,e),t},Ba=function(e,t){at=t+1,nt.set(e,t),dt.set(t,e)},za="style[".concat(Me,"][").concat(Vr,'="').concat(Rt,'"]'),La=new RegExp("^".concat(Me,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ma=function(e,t,r){for(var a,o=r.split(","),i=0,s=o.length;i<s;i++)(a=o[i])&&e.registerName(t,a)},Oa=function(e,t){for(var r,a=((r=t.textContent)!==null&&r!==void 0?r:"").split(Jt),o=[],i=0,s=a.length;i<s;i++){var d=a[i].trim();if(d){var f=d.match(La);if(f){var b=0|parseInt(f[1],10),x=f[2];b!==0&&(Ba(x,b),Ma(e,x,f[3]),e.getTag().insertRules(b,o)),o.length=0}else o.push(d)}}},pr=function(e){for(var t=document.querySelectorAll(za),r=0,a=t.length;r<a;r++){var o=t[r];o&&o.getAttribute(Me)!==Wr&&(Oa(e,o),o.parentNode&&o.parentNode.removeChild(o))}};function Na(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Kr=function(e){var t=document.head,r=e||t,a=document.createElement("style"),o=function(d){var f=Array.from(d.querySelectorAll("style[".concat(Me,"]")));return f[f.length-1]}(r),i=o!==void 0?o.nextSibling:null;a.setAttribute(Me,Wr),a.setAttribute(Vr,Rt);var s=Na();return s&&a.setAttribute("nonce",s),r.insertBefore(a,i),a},Da=function(){function e(t){this.element=Kr(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var a=document.styleSheets,o=0,i=a.length;o<i;o++){var s=a[o];if(s.ownerNode===r)return s}throw Ye(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},e}(),Fa=function(){function e(t){this.element=Kr(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var a=document.createTextNode(r);return this.element.insertBefore(a,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),Wa=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),fr=lt,Va={isServer:!lt,useCSSOMInjection:!va},Xr=function(){function e(t,r,a){t===void 0&&(t=Oe),r===void 0&&(r={});var o=this;this.options=ne(ne({},Va),t),this.gs=r,this.names=new Map(a),this.server=!!t.isServer,!this.server&&lt&&fr&&(fr=!1,pr(this)),Xt(this,function(){return function(i){for(var s=i.getTag(),d=s.length,f="",b=function(v){var h=function(j){return dt.get(j)}(v);if(h===void 0)return"continue";var c=i.names.get(h),l=s.getGroup(v);if(c===void 0||!c.size||l.length===0)return"continue";var g="".concat(Me,".g").concat(v,'[id="').concat(h,'"]'),T="";c!==void 0&&c.forEach(function(j){j.length>0&&(T+="".concat(j,","))}),f+="".concat(l).concat(g,'{content:"').concat(T,'"}').concat(Jt)},x=0;x<d;x++)b(x);return f}(o)})}return e.registerId=function(t){return Qe(t)},e.prototype.rehydrate=function(){!this.server&&lt&&pr(this)},e.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new e(ne(ne({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(r){var a=r.useCSSOMInjection,o=r.target;return r.isServer?new Wa(o):a?new Da(o):new Fa(o)}(this.options),new Ea(t)));var t},e.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.prototype.registerName=function(t,r){if(Qe(t),this.names.has(t))this.names.get(t).add(r);else{var a=new Set;a.add(r),this.names.set(t,a)}},e.prototype.insertRules=function(t,r,a){this.registerName(t,r),this.getTag().insertRules(Qe(t),a)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Qe(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Ga=/&/g,qa=/^\s*\/\/.*$/gm;function Qr(e,t){return e.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(a){return"".concat(t," ").concat(a)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Qr(r.children,t)),r})}function Ha(e){var t,r,a,o=Oe,i=o.options,s=i===void 0?Oe:i,d=o.plugins,f=d===void 0?Pt:d,b=function(h,c,l){return l.startsWith(r)&&l.endsWith(r)&&l.replaceAll(r,"").length>0?".".concat(t):h},x=f.slice();x.push(function(h){h.type===wt&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(Ga,r).replace(a,b))}),s.prefix&&x.push(ma),x.push(fa);var v=function(h,c,l,g){c===void 0&&(c=""),l===void 0&&(l=""),g===void 0&&(g="&"),t=g,r=c,a=new RegExp("\\".concat(r,"\\b"),"g");var T=h.replace(qa,""),j=ua(l||c?"".concat(l," ").concat(c," { ").concat(T," }"):T);s.namespace&&(j=Qr(j,s.namespace));var y=[];return ct(j,ha(x.concat(ga(function(P){return y.push(P)})))),y};return v.hash=f.length?f.reduce(function(h,c){return c.name||Ye(15),ke(h,c.name)},qr).toString():"",v}var Ua=new Xr,Gt=Ha(),en=qe.createContext({shouldForwardProp:void 0,styleSheet:Ua,stylis:Gt});en.Consumer;qe.createContext(void 0);function hr(){return w.useContext(en)}var Ya=function(){function e(t,r){var a=this;this.inject=function(o,i){i===void 0&&(i=Gt);var s=a.name+i.hash;o.hasNameForId(a.id,s)||o.insertRules(a.id,s,i(a.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,Xt(this,function(){throw Ye(12,String(a.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Gt),this.name+t.hash},e}(),Za=function(e){return e>="A"&&e<="Z"};function gr(e){for(var t="",r=0;r<e.length;r++){var a=e[r];if(r===1&&a==="-"&&e[0]==="-")return e;Za(a)?t+="-"+a.toLowerCase():t+=a}return t.startsWith("ms-")?"-"+t:t}var tn=function(e){return e==null||e===!1||e===""},rn=function(e){var t,r,a=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!tn(i)&&(Array.isArray(i)&&i.isCss||Ne(i)?a.push("".concat(gr(o),":"),i,";"):He(i)?a.push.apply(a,st(st(["".concat(o," {")],rn(i),!1),["}"],!1)):a.push("".concat(gr(o),": ").concat((t=o,(r=i)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in xa||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return a};function Pe(e,t,r,a){if(tn(e))return[];if(Kt(e))return[".".concat(e.styledComponentId)];if(Ne(e)){if(!Ne(i=e)||i.prototype&&i.prototype.isReactComponent||!t)return[e];var o=e(t);return Pe(o,t,r,a)}var i;return e instanceof Ya?r?(e.inject(r,a),[e.getName(a)]):[e]:He(e)?rn(e):Array.isArray(e)?Array.prototype.concat.apply(Pt,e.map(function(s){return Pe(s,t,r,a)})):[e.toString()]}function Ja(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(Ne(r)&&!Kt(r))return!1}return!0}var Ka=Hr(Rt),Xa=function(){function e(t,r,a){this.rules=t,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&Ja(t),this.componentId=r,this.baseHash=ke(Ka,r),this.baseStyle=a,Xr.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,a){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))o=$e(o,this.staticRulesId);else{var i=ur(Pe(this.rules,t,r,a)),s=Wt(ke(this.baseHash,i)>>>0);if(!r.hasNameForId(this.componentId,s)){var d=a(i,".".concat(s),void 0,this.componentId);r.insertRules(this.componentId,s,d)}o=$e(o,s),this.staticRulesId=s}else{for(var f=ke(this.baseHash,a.hash),b="",x=0;x<this.rules.length;x++){var v=this.rules[x];if(typeof v=="string")b+=v;else if(v){var h=ur(Pe(v,t,r,a));f=ke(f,h+x),b+=h}}if(b){var c=Wt(f>>>0);r.hasNameForId(this.componentId,c)||r.insertRules(this.componentId,c,a(b,".".concat(c),void 0,this.componentId)),o=$e(o,c)}}return o},e}(),nn=qe.createContext(void 0);nn.Consumer;var Bt={};function Qa(e,t,r){var a=Kt(e),o=e,i=!Et(e),s=t.attrs,d=s===void 0?Pt:s,f=t.componentId,b=f===void 0?function(p,C){var _=typeof p!="string"?"sc":ir(p);Bt[_]=(Bt[_]||0)+1;var m="".concat(_,"-").concat(wa(Rt+_+Bt[_]));return C?"".concat(C,"-").concat(m):m}(t.displayName,t.parentComponentId):f,x=t.displayName,v=x===void 0?function(p){return Et(p)?"styled.".concat(p):"Styled(".concat(_a(p),")")}(e):x,h=t.displayName&&t.componentId?"".concat(ir(t.displayName),"-").concat(t.componentId):t.componentId||b,c=a&&o.attrs?o.attrs.concat(d).filter(Boolean):d,l=t.shouldForwardProp;if(a&&o.shouldForwardProp){var g=o.shouldForwardProp;if(t.shouldForwardProp){var T=t.shouldForwardProp;l=function(p,C){return g(p,C)&&T(p,C)}}else l=g}var j=new Xa(r,h,a?o.componentStyle:void 0);function y(p,C){return function(_,m,S){var M=_.attrs,Z=_.componentStyle,G=_.defaultProps,pe=_.foldedComponentIds,fe=_.styledComponentId,ae=_.target,X=qe.useContext(nn),ee=hr(),q=_.shouldForwardProp||ee.shouldForwardProp,oe=ba(m,X,G)||Oe,N=function(A,K,H){for(var ie,U=ne(ne({},K),{className:void 0,theme:H}),se=0;se<A.length;se+=1){var te=Ne(ie=A[se])?ie(U):ie;for(var F in te)U[F]=F==="className"?$e(U[F],te[F]):F==="style"?ne(ne({},U[F]),te[F]):te[F]}return K.className&&(U.className=$e(U.className,K.className)),U}(M,m,oe),J=N.as||ae,$={};for(var E in N)N[E]===void 0||E[0]==="$"||E==="as"||E==="theme"&&N.theme===oe||(E==="forwardedAs"?$.as=N.forwardedAs:q&&!q(E,J)||($[E]=N[E]));var L=function(A,K){var H=hr(),ie=A.generateAndInjectStyles(K,H.styleSheet,H.stylis);return ie}(Z,N),u=$e(pe,fe);return L&&(u+=" "+L),N.className&&(u+=" "+N.className),$[Et(J)&&!Gr.has(J)?"class":"className"]=u,$.ref=S,w.createElement(J,$)}(P,p,C)}y.displayName=v;var P=qe.forwardRef(y);return P.attrs=c,P.componentStyle=j,P.displayName=v,P.shouldForwardProp=l,P.foldedComponentIds=a?$e(o.foldedComponentIds,o.styledComponentId):"",P.styledComponentId=h,P.target=a?o.target:e,Object.defineProperty(P,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(p){this._foldedDefaultProps=a?function(C){for(var _=[],m=1;m<arguments.length;m++)_[m-1]=arguments[m];for(var S=0,M=_;S<M.length;S++)Vt(C,M[S],!0);return C}({},o.defaultProps,p):p}}),Xt(P,function(){return".".concat(P.styledComponentId)}),i&&Jr(P,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),P}function mr(e,t){for(var r=[e[0]],a=0,o=t.length;a<o;a+=1)r.push(t[a],e[a+1]);return r}var xr=function(e){return Object.assign(e,{isCss:!0})};function an(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Ne(e)||He(e))return xr(Pe(mr(Pt,st([e],t,!0))));var a=e;return t.length===0&&a.length===1&&typeof a[0]=="string"?Pe(a):xr(Pe(mr(a,t)))}function qt(e,t,r){if(r===void 0&&(r=Oe),!t)throw Ye(1,t);var a=function(o){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,r,an.apply(void 0,st([o],i,!1)))};return a.attrs=function(o){return qt(e,t,ne(ne({},r),{attrs:Array.prototype.concat(r.attrs,o).filter(Boolean)}))},a.withConfig=function(o){return qt(e,t,ne(ne({},r),o))},a}var on=function(e){return qt(Qa,e)},Ze=on;Gr.forEach(function(e){Ze[e]=on(e)});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ae=function(){return Ae=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ae.apply(this,arguments)};function Je(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var vr,br,yr,jr,Cr,eo=an(vr||(vr=Je([`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`],[`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`])),"#0658c2","#666","#666","#666","#666","#666"),to=Ze.label(br||(br=Je([`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`],[`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`])),function(e){return e.overRide?"":eo}),ro=Ze.div(yr||(yr=Je([`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.9;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`],[`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.9;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`])),"#666","#999"),no=Ze.div(jr||(jr=Je([`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`],[`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`])),function(e){return e.error?"red":"#666"}),ao=Ze.span(Cr||(Cr=Je([`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`],[`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`])),"#666"),wr=function(e){return e/1024/1024},oo=function(e){return e===void 0?"":e.map(function(t){return".".concat(t.toLowerCase())}).join(",")};function io(e){var t=e.types,r=e.minSize,a=e.maxSize;if(t){var o=t.toString(),i="";return a&&(i+="size >= ".concat(a,", ")),r&&(i+="size <= ".concat(r,", ")),n.jsx("span",Ae({title:"".concat(i,"types: ").concat(o),className:"file-types"},{children:o}),void 0)}return null}function so(){return n.jsxs("svg",Ae({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[n.jsx("path",{d:"M5.33317 6.66667H22.6665V16H25.3332V6.66667C25.3332 5.196 24.1372 4 22.6665 4H5.33317C3.8625 4 2.6665 5.196 2.6665 6.66667V22.6667C2.6665 24.1373 3.8625 25.3333 5.33317 25.3333H15.9998V22.6667H5.33317V6.66667Z",fill:"#0658C2"},void 0),n.jsx("path",{d:"M10.6665 14.6667L6.6665 20H21.3332L15.9998 12L11.9998 17.3333L10.6665 14.6667Z",fill:"#0658C2"},void 0),n.jsx("path",{d:"M25.3332 18.6667H22.6665V22.6667H18.6665V25.3333H22.6665V29.3333H25.3332V25.3333H29.3332V22.6667H25.3332V18.6667Z",fill:"#0658C2"},void 0)]}),void 0)}var zt=0,co=function(e,t,r,a,o,i){return r?n.jsx("span",{children:"File type/size error, Hovered on types!"},void 0):n.jsx(ao,{children:a?n.jsx("span",{children:"Upload disabled"},void 0):n.jsx(n.Fragment,e||t?{children:i?n.jsx(n.Fragment,{children:n.jsx("span",{children:i},void 0)},void 0):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Uploaded Successfully!"},void 0)," Upload another?"]},void 0)}:{children:n.jsxs(n.Fragment,o?{children:[n.jsx("span",{children:o.split(" ")[0]},void 0)," ",o.substr(o.indexOf(" ")+1)]}:{children:[n.jsx("span",{children:"Upload"},void 0)," or drop a file right here"]},void 0)},void 0)},void 0)},sn=function(e){var t=e.name,r=e.hoverTitle,a=e.types,o=e.handleChange,i=e.classes,s=e.children,d=e.maxSize,f=e.minSize,b=e.fileOrFiles,x=e.onSizeError,v=e.onTypeError,h=e.onSelect,c=e.onDrop,l=e.disabled,g=e.label,T=e.uploadedLabel,j=e.multiple,y=e.required,P=e.onDraggingStateChange,p=e.dropMessageStyle,C=e.ariaLabel,_=e.ariaDescribedby,m=w.useRef(null),S=w.useRef(null),M=w.useState(!1),Z=M[0],G=M[1],pe=w.useState(null),fe=pe[0],ae=pe[1],X=w.useState(!1),ee=X[0],q=X[1],oe=function($){return a&&!function(E,L){var u=E.name.split(".").pop();return L.map(function(A){return A.toLowerCase()}).includes(u.toLowerCase())}($,a)?(q(!0),v&&v("File type is not supported"),!1):d&&wr($.size)>d?(q(!0),x&&x("File size is too big"),!1):!(f&&wr($.size)<f)||(q(!0),x&&x("File size is too small"),!1)},N=function($){var E=!1;if($){if($ instanceof File)E=!oe($);else for(var L=0;L<$.length;L++){var u=$[L];E=!oe(u)||E}return!E&&(o&&o($),ae($),G(!0),q(!1),!0)}return!1},J=function($){var E=$.labelRef,L=$.inputRef,u=$.multiple,A=$.handleChanges,K=$.onDrop,H=w.useState(!1),ie=H[0],U=H[1],se=w.useCallback(function(){L.current.click()},[L]),te=w.useCallback(function(I){I.preventDefault(),I.stopPropagation(),zt++,I.dataTransfer.items&&I.dataTransfer.items.length!==0&&U(!0)},[]),F=w.useCallback(function(I){I.preventDefault(),I.stopPropagation(),--zt>0||U(!1)},[]),me=w.useCallback(function(I){I.preventDefault(),I.stopPropagation()},[]),xe=w.useCallback(function(I){I.preventDefault(),I.stopPropagation(),U(!1),zt=0;var we=I.dataTransfer.files;if(we&&we.length>0){var Qt=u?we:we[0],cn=A(Qt);K&&cn&&K(Qt)}},[A]);return w.useEffect(function(){var I=E.current;return I.addEventListener("click",se),I.addEventListener("dragenter",te),I.addEventListener("dragleave",F),I.addEventListener("dragover",me),I.addEventListener("drop",xe),function(){I.removeEventListener("click",se),I.removeEventListener("dragenter",te),I.removeEventListener("dragleave",F),I.removeEventListener("dragover",me),I.removeEventListener("drop",xe)}},[se,te,F,me,xe,E]),ie}({labelRef:m,inputRef:S,multiple:j,handleChanges:N,onDrop:c});return w.useEffect(function(){P==null||P(J)},[J]),w.useEffect(function(){b?(G(!0),ae(b)):(S.current&&(S.current.value=""),G(!1),ae(null))},[b]),n.jsxs(to,Ae({overRide:s,className:"".concat(i||""," ").concat(l?"is-disabled":""),ref:m,htmlFor:t,onClick:function($){$.preventDefault(),$.stopPropagation()},"aria-describedby":_,role:"button","aria-label":C},{children:[n.jsx("input",{onClick:function($){$.stopPropagation(),S&&S.current&&(S.current.value="",S.current.click())},onChange:function($){var E=$.target.files,L=j?E:E[0],u=N(L);h&&u&&h(L)},accept:oo(a),ref:S,type:"file",id:t,name:t,disabled:l,multiple:j,required:y},void 0),J&&n.jsx(ro,Ae({style:p},{children:n.jsx("span",{children:r||"Drop Here"},void 0)}),void 0),!s&&n.jsxs(n.Fragment,{children:[n.jsx(so,{},void 0),n.jsxs(no,Ae({error:ee},{children:[co(fe,Z,ee,l,g,T),n.jsx(io,{types:a,minSize:f,maxSize:d},void 0)]}),void 0)]},void 0),s]}),void 0)};const lo=Be().shape({product_name:be().min(2,"Too Short!").max(100,"Too Long!").required("Required"),product_category_id:Ce().required("Required"),reorder_level:Ce().min(0,"Must be 0 or greater").required("Required"),product_type:be().oneOf(["raw","finished","custom"],"Invalid product type").required("Required"),product_image:Tr().test("fileSize","File is too large",e=>!e||e.size<=5e6),attributes:Ir().of(Be().shape({attribute_id:Ce().required("Required"),value:Ce().required("Required")}))}),uo=["JPG","JPEG","PNG","GIF"],po=({open:e,handleClose:t,categories:r})=>{const a=pn(),o=Sr(),{data:i=[]}=$r(),[s,d]=w.useState(null),{refetch:f}=Ht(),b=(h,c)=>{h&&(c("product_image",h),d(URL.createObjectURL(h)))},x=()=>{t(),d(null)},v=(h,c,l)=>l.some((g,T)=>g.attribute_id===h&&T!==c);return n.jsxs(bt,{open:e,onClose:x,maxWidth:"md",fullWidth:!0,children:[n.jsx(yt,{children:"Add New Product"}),n.jsx(xt,{initialValues:{product_name:"",product_category_id:"",reorder_level:0,product_type:"raw",product_image:null,attributes:[]},validationSchema:lo,onSubmit:async(h,{setSubmitting:c,resetForm:l})=>{try{const g=await a.mutateAsync(h);h.product_image&&await o.mutateAsync({id:g.data.id,image:h.product_image}),f(),d(null),l(),x(),ot.success("Successfully Created Product")}catch(g){ot.error("Something went wrong please try again"),console.error("Error creating product:",g)}finally{c(!1)}},children:({values:h,errors:c,touched:l,isSubmitting:g,setFieldValue:T})=>n.jsxs(vt,{children:[n.jsxs(jt,{children:[n.jsx(Q,{sx:{maxWidth:500,mx:"auto",mt:2,mb:2},children:n.jsx(Ee,{variant:"outlined",sx:{p:3,borderStyle:"dashed",borderColor:"grey.400",backgroundColor:"grey.50","&:hover":{borderColor:"primary.main",cursor:"pointer"}},children:n.jsxs(Q,{sx:{textAlign:"center"},children:[n.jsx(sn,{handleChange:j=>b(j,T),name:"product_image",label:"Upload or drop a Product Image",types:uo,multiple:!1,required:!0}),l.product_image&&c.product_image&&n.jsx(je,{color:"error",variant:"caption",display:"block",sx:{mt:1},children:c.product_image}),s&&n.jsx(Ee,{elevation:0,sx:{p:2,mt:2,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"grey.50",borderRadius:1},children:n.jsx(Q,{sx:{width:"100%",height:200,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",borderRadius:1,bgcolor:"white"},children:n.jsx("img",{src:s,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})})]})})}),n.jsx(Y,{as:V,name:"product_name",label:"Product Name",fullWidth:!0,margin:"normal",error:l.product_name&&c.product_name,helperText:l.product_name&&c.product_name}),n.jsx(Y,{as:V,select:!0,name:"product_category_id",label:"Category",fullWidth:!0,margin:"normal",error:l.product_category_id&&c.product_category_id,helperText:l.product_category_id&&c.product_category_id,children:r.map(j=>n.jsx(de,{value:j.id,children:j.name},j.id))}),n.jsx(Y,{as:V,name:"reorder_level",label:"Reorder Level",type:"number",fullWidth:!0,margin:"normal",error:l.reorder_level&&c.reorder_level,helperText:l.reorder_level&&c.reorder_level}),n.jsxs(Y,{as:V,select:!0,name:"product_type",label:"Product Type",fullWidth:!0,margin:"normal",error:l.product_type&&c.product_type,helperText:l.product_type&&c.product_type,children:[n.jsx(de,{value:"raw",children:"Raw Material"}),n.jsx(de,{value:"finished",children:"Finished Product"}),n.jsx(de,{value:"custom",children:"Custom Product"})]}),n.jsx(Rr,{sx:{my:2}}),n.jsx(je,{variant:"subtitle1",gutterBottom:!0,children:"Product Attributes"}),n.jsx(kr,{name:"attributes",children:({push:j,remove:y})=>n.jsxs(Q,{children:[h.attributes.map((P,p)=>{var C,_,m,S,M,Z,G,pe,fe,ae,X,ee,q,oe,N,J;return n.jsxs(Q,{sx:{display:"flex",gap:2,mb:2},children:[n.jsx(Y,{as:V,select:!0,name:`attributes.${p}.attribute_id`,label:"Attribute",fullWidth:!0,error:((_=(C=l.attributes)==null?void 0:C[p])==null?void 0:_.attribute_id)&&((S=(m=c.attributes)==null?void 0:m[p])==null?void 0:S.attribute_id),helperText:((Z=(M=l.attributes)==null?void 0:M[p])==null?void 0:Z.attribute_id)&&((pe=(G=c.attributes)==null?void 0:G[p])==null?void 0:pe.attribute_id),children:i.map($=>n.jsxs(de,{disabled:v($.id,p,h.attributes),value:$.id,children:[$.attribute_name," (",$.unit_of_measurement,")"]},$.id))}),n.jsx(Y,{as:V,name:`attributes.${p}.value`,label:"Value",type:"number",fullWidth:!0,error:((ae=(fe=l.attributes)==null?void 0:fe[p])==null?void 0:ae.value)&&((ee=(X=c.attributes)==null?void 0:X[p])==null?void 0:ee.value),helperText:((oe=(q=l.attributes)==null?void 0:q[p])==null?void 0:oe.value)&&((J=(N=c.attributes)==null?void 0:N[p])==null?void 0:J.value)}),n.jsx(it,{onClick:()=>y(p),color:"error",children:n.jsx(Ut,{})})]},p)}),n.jsx(le,{type:"button",onClick:()=>j({attribute_id:"",value:""}),startIcon:n.jsx(We,{}),variant:"outlined",fullWidth:!0,children:"Add Attribute"})]})})]}),n.jsxs(Ct,{children:[n.jsx(le,{onClick:x,children:"Cancel"}),n.jsx(le,{type:"submit",disabled:g,variant:"contained",color:"primary",children:g?"Adding...":"Add Product"})]})]})})]})},fo=Be().shape({attribute_name:be().required("Required").min(2,"Too Short!").max(100,"Too Long!"),unit_of_measurement:be().required("Required").max(50,"Too Long!")}),ho=({open:e,handleClose:t})=>{const r=fn();return n.jsxs(bt,{open:e,onClose:t,children:[n.jsx(yt,{children:"Add New Attribute"}),n.jsx(xt,{initialValues:{attribute_name:"",unit_of_measurement:""},validationSchema:fo,onSubmit:async(a,{setSubmitting:o,resetForm:i})=>{try{await r.mutateAsync(a),i(),t()}catch(s){console.error("Error creating attribute:",s)}finally{o(!1)}},children:({errors:a,touched:o,isSubmitting:i})=>n.jsxs(vt,{children:[n.jsxs(jt,{children:[n.jsx(Y,{as:V,name:"attribute_name",label:"Attribute Name",fullWidth:!0,margin:"normal",error:o.attribute_name&&a.attribute_name,helperText:o.attribute_name&&a.attribute_name}),n.jsx(Y,{as:V,name:"unit_of_measurement",label:"Unit of Measurement",fullWidth:!0,margin:"normal",error:o.unit_of_measurement&&a.unit_of_measurement,helperText:o.unit_of_measurement&&a.unit_of_measurement})]}),n.jsxs(Ct,{children:[n.jsx(le,{onClick:t,children:"Cancel"}),n.jsx(le,{type:"submit",disabled:i,variant:"contained",color:"primary",children:i?"Adding...":"Add Attribute"})]})]})})]})},go=Be().shape({product_name:be().min(2,"Too Short!").max(100,"Too Long!").required("Required"),product_category_id:Ce().required("Required"),reorder_level:Ce().min(0,"Must be 0 or greater").required("Required"),product_type:be().oneOf(["raw","finished","custom"],"Invalid product type").required("Required"),product_image:Tr().test("fileSize","File is too large",e=>!e||e.size<=5e6),attributes:Ir().of(Be().shape({attribute_id:Ce().required("Required"),value:Ce().required("Required")}))}),mo=["JPG","JPEG","PNG","GIF"],xo=({open:e,handleClose:t,categories:r,product:a})=>{const o=hn(),i=Sr(),{data:s=[]}=$r(),[d,f]=w.useState(null),{refetch:b}=Ht();w.useEffect(()=>{a!=null&&a.product_image&&f(Ot(a.product_image))},[a]);const x=(c,l)=>{c&&(l("product_image",c),f(URL.createObjectURL(c)))},v=()=>{t(),f(null)},h=(c,l,g)=>g.some((T,j)=>T.attribute_id===c&&j!==l);return a?n.jsxs(bt,{open:e,onClose:v,maxWidth:"md",fullWidth:!0,children:[n.jsx(yt,{children:"Edit Product"}),n.jsx(xt,{initialValues:{product_name:a.product_name||"",product_category_id:a.product_category_id||"",reorder_level:a.reorder_level||0,product_type:a.product_type||"raw",attributes:a.attributes.map(c=>({attribute_id:c.id,value:parseFloat(c.pivot.value)}))||[]},validationSchema:go,onSubmit:async(c,{setSubmitting:l})=>{try{await o.mutateAsync({id:a.id,data:c}),c.product_image&&await i.mutateAsync({id:a.id,image:c.product_image}),b(),v(),ot.success("Successfully Edited Product")}catch(g){ot.error("Something went wrong please try again"),console.error("Error updating product:",g)}finally{l(!1)}},children:({values:c,errors:l,touched:g,isSubmitting:T,setFieldValue:j})=>n.jsxs(vt,{children:[n.jsxs(jt,{children:[n.jsx(Q,{sx:{maxWidth:500,mx:"auto",mt:2,mb:2},children:n.jsx(Ee,{variant:"outlined",sx:{p:3,borderStyle:"dashed",borderColor:"grey.400",backgroundColor:"grey.50","&:hover":{borderColor:"primary.main",cursor:"pointer"}},children:n.jsxs(Q,{sx:{textAlign:"center"},children:[n.jsx(sn,{handleChange:y=>x(y,j),name:"product_image",label:"Upload or drop a Product Image",types:mo,multiple:!1}),d&&n.jsx(Ee,{elevation:0,sx:{p:2,mt:2,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"grey.50",borderRadius:1},children:n.jsx(Q,{sx:{width:"100%",height:200,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",borderRadius:1,bgcolor:"white"},children:n.jsx("img",{src:d,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})})]})})}),n.jsx(Y,{as:V,name:"product_name",label:"Product Name",fullWidth:!0,margin:"normal",error:g.product_name&&l.product_name,helperText:g.product_name&&l.product_name}),n.jsx(Y,{as:V,select:!0,name:"product_category_id",label:"Category",fullWidth:!0,margin:"normal",error:g.product_category_id&&l.product_category_id,helperText:g.product_category_id&&l.product_category_id,children:r.map(y=>n.jsx(de,{value:y.id,children:y.name},y.id))}),n.jsx(Y,{as:V,name:"reorder_level",label:"Reorder Level",type:"number",fullWidth:!0,margin:"normal",error:g.reorder_level&&l.reorder_level,helperText:g.reorder_level&&l.reorder_level}),n.jsxs(Y,{as:V,select:!0,name:"product_type",label:"Product Type",fullWidth:!0,margin:"normal",error:g.product_type&&l.product_type,helperText:g.product_type&&l.product_type,children:[n.jsx(de,{value:"raw",children:"Raw Material"}),n.jsx(de,{value:"finished",children:"Finished Product"}),n.jsx(de,{value:"custom",children:"Custom Product"})]}),n.jsx(Rr,{sx:{my:2}}),n.jsx(je,{variant:"subtitle1",gutterBottom:!0,children:"Product Attributes"}),n.jsx(kr,{name:"attributes",children:({push:y,remove:P})=>n.jsxs(Q,{children:[c.attributes.map((p,C)=>{var _,m,S,M,Z,G,pe,fe,ae,X,ee,q,oe,N,J,$,E;return n.jsxs(Q,{sx:{display:"flex",gap:2,mb:2},children:[n.jsx(Y,{as:V,select:!0,name:`attributes.${C}.attribute_id`,label:"Attribute",fullWidth:!0,error:((m=(_=g.attributes)==null?void 0:_[C])==null?void 0:m.attribute_id)&&((M=(S=l.attributes)==null?void 0:S[C])==null?void 0:M.attribute_id),helperText:((G=(Z=g.attributes)==null?void 0:Z[C])==null?void 0:G.attribute_id)&&((fe=(pe=l.attributes)==null?void 0:pe[C])==null?void 0:fe.attribute_id),children:s.map(L=>n.jsxs(de,{value:L.id,disabled:h(L.id,C,c.attributes),children:[L.attribute_name," (",L.unit_of_measurement,")"]},L.id))}),n.jsx(Y,{as:V,name:`attributes.${C}.value`,label:`Value ${((ae=s.find(L=>L.id===p.attribute_id))==null?void 0:ae.unit_of_measurement)||""}`,type:"number",fullWidth:!0,error:((ee=(X=g.attributes)==null?void 0:X[C])==null?void 0:ee.value)&&((oe=(q=l.attributes)==null?void 0:q[C])==null?void 0:oe.value),helperText:((J=(N=g.attributes)==null?void 0:N[C])==null?void 0:J.value)&&((E=($=l.attributes)==null?void 0:$[C])==null?void 0:E.value)}),n.jsx(it,{onClick:()=>P(C),color:"error",children:n.jsx(Ut,{})})]},C)}),n.jsx(le,{type:"button",onClick:()=>y({attribute_id:"",value:""}),startIcon:n.jsx(We,{}),variant:"outlined",fullWidth:!0,disabled:c.attributes.length>=s.length,children:"Add Attribute"})]})})]}),n.jsxs(Ct,{children:[n.jsx(le,{onClick:v,children:"Cancel"}),n.jsx(le,{type:"submit",disabled:T,variant:"contained",color:"primary",children:T?"Updating...":"Update Product"})]})]})})]}):null},vo=()=>n.jsx(Lt,{item:!0,xs:12,sm:6,md:4,lg:3,children:n.jsxs(Pr,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[n.jsx(re,{variant:"rectangular",height:200}),n.jsxs(Ar,{children:[n.jsx(re,{variant:"text",sx:{fontSize:"1.25rem",mb:1}}),n.jsx(re,{variant:"text",width:"60%"}),n.jsx(re,{variant:"text",width:"40%"}),n.jsx(re,{variant:"text",width:"70%"}),n.jsx(re,{variant:"text",width:"80%"})]})]})}),bo=()=>n.jsxs(Mt,{children:[n.jsx(O,{children:n.jsx(re,{variant:"rectangular",width:50,height:50,sx:{borderRadius:1}})}),n.jsx(O,{children:n.jsx(re,{variant:"text",width:100})}),n.jsx(O,{children:n.jsx(re,{variant:"text",width:150})}),n.jsx(O,{children:n.jsx(re,{variant:"text",width:100})}),n.jsx(O,{children:n.jsx(re,{variant:"text",width:200})}),n.jsx(O,{align:"right",children:n.jsx(re,{variant:"text",width:80})}),n.jsx(O,{align:"right",children:n.jsxs(Q,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[n.jsx(re,{variant:"circular",width:32,height:32}),n.jsx(re,{variant:"circular",width:32,height:32})]})})]}),Io=()=>{const[e,t]=w.useState(0),[r,a]=w.useState(10),[o,i]=w.useState(""),[s,d]=w.useState("table"),[f,b]=w.useState(!1),[x,v]=w.useState(!1),[h,c]=w.useState(!1),[l,g]=w.useState(!1),[T,j]=w.useState(null),[y,P]=w.useState("all"),[p,C]=w.useState({field:"product_name",direction:"asc"}),_=u=>{j(u),g(!0)},m=()=>{j(null),g(!1)},{data:S,isLoading:M,refetch:Z}=Ht(),{data:G,isLoading:pe}=gn(),fe=mn(),ae=(S==null?void 0:S.filter(u=>{var H,ie,U,se,te,F;const A=((H=u.product_code)==null?void 0:H.toLowerCase().includes(o.toLowerCase()))||((ie=u.product_name)==null?void 0:ie.toLowerCase().includes(o.toLowerCase()))||((se=(U=u.category)==null?void 0:U.name)==null?void 0:se.toLowerCase().includes(o.toLowerCase()))||((te=u.attributes)==null?void 0:te.some(me=>{var xe,I,we;return((xe=me.attribute_name)==null?void 0:xe.toLowerCase().includes(o.toLowerCase()))||((we=(I=me.pivot)==null?void 0:I.value)==null?void 0:we.toLowerCase().includes(o.toLowerCase()))})),K=y==="all"||((F=u.category)==null?void 0:F.id)===y;return A&&K}))||[],X=u=>{C({field:u,direction:p.field===u&&p.direction==="asc"?"desc":"asc"})},ee=[...ae].sort((u,A)=>{var ie,U,se,te,F,me;if(p.field==="attributes"){const xe=((se=(U=(ie=u.attributes)==null?void 0:ie[0])==null?void 0:U.pivot)==null?void 0:se.value)||"",I=((me=(F=(te=A.attributes)==null?void 0:te[0])==null?void 0:F.pivot)==null?void 0:me.value)||"";return p.direction==="asc"?xe>I?1:-1:xe<I?1:-1}const K=u[p.field],H=A[p.field];return p.direction==="asc"?K>H?1:-1:K<H?1:-1}),q=u=>!u||u.length===0?"No attributes":u.map(A=>`${A.attribute_name}: ${A.pivot.value}${A.unit_of_measurement}`).join(", "),oe=(u,A)=>{A!==null&&d(A)},N=async u=>{var A,K;try{(await At.fire({title:"Are you sure?",text:"You will not be able to recover this product!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it",confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d"})).isConfirmed&&(await fe.mutateAsync(u),await At.fire({title:"Deleted!",text:"Product has been deleted successfully.",icon:"success",timer:1500,showConfirmButton:!1}),Z())}catch(H){await At.fire({title:"Error!",text:((K=(A=H.response)==null?void 0:A.data)==null?void 0:K.message)||"Failed to delete product.",icon:"error"}),console.error("Failed to delete product:",H)}},J=(u,A)=>{t(A)},$=u=>{a(parseInt(u.target.value,10)),t(0)},E=()=>n.jsx(jn,{component:Ee,children:n.jsxs(Cn,{children:[n.jsx(wn,{children:n.jsxs(Mt,{children:[n.jsx(O,{children:"Image"}),n.jsx(O,{children:n.jsx(Ke,{active:p.field==="product_code",direction:p.field==="product_code"?p.direction:"asc",onClick:()=>X("product_code"),children:"Code"})}),n.jsx(O,{children:n.jsx(Ke,{active:p.field==="product_name",direction:p.field==="product_name"?p.direction:"asc",onClick:()=>X("product_name"),children:"Name"})}),n.jsx(O,{children:"Category"}),n.jsx(O,{children:n.jsx(Ke,{active:p.field==="attributes",direction:p.field==="attributes"?p.direction:"asc",onClick:()=>X("attributes"),children:"Attributes"})}),n.jsx(O,{align:"right",children:n.jsx(Ke,{active:p.field==="reorder_level",direction:p.field==="reorder_level"?p.direction:"asc",onClick:()=>X("reorder_level"),children:"Reorder Level"})}),n.jsx(O,{align:"right",children:"Actions"})]})}),n.jsx(_n,{children:M?Array(r).fill(0).map((u,A)=>n.jsx(bo,{},A)):ee.slice(e*r,e*r+r).map(u=>{var A;return n.jsxs(Mt,{children:[n.jsx(O,{children:u.product_image?n.jsx("img",{src:Ot(u.product_image),alt:u.product_name,style:{width:50,height:50,objectFit:"cover",borderRadius:"4px"}}):n.jsx(Ee,{sx:{width:50,height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:n.jsx(rr,{color:"disabled"})})}),n.jsx(O,{children:u.product_code}),n.jsx(O,{children:u.product_name}),n.jsx(O,{children:(A=u.category)==null?void 0:A.name}),n.jsx(O,{children:q(u.attributes)}),n.jsx(O,{align:"right",children:u.reorder_level}),n.jsxs(O,{align:"right",children:[n.jsx(it,{onClick:()=>_(u),children:n.jsx(Pn,{style:{fontSize:20}})}),n.jsx(it,{onClick:()=>N(u.id),children:n.jsx(Ut,{style:{fontSize:20}})})]})]},u.id)})})]})}),L=()=>n.jsx(Lt,{container:!0,spacing:2,children:M?Array(r).fill(0).map((u,A)=>n.jsx(vo,{},A)):ee.slice(e*r,e*r+r).map(u=>{var A;return n.jsx(Lt,{item:!0,xs:12,sm:6,md:4,lg:3,children:n.jsxs(Pr,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[u.product_image?n.jsx(zn,{component:"img",height:"200",image:Ot(u.product_image),alt:u.product_name,sx:{objectFit:"cover"}}):n.jsx(Q,{sx:{height:200,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:n.jsx(rr,{sx:{fontSize:60,color:"text.disabled"}})}),n.jsxs(Ar,{children:[n.jsx(je,{variant:"h6",noWrap:!0,children:u.product_name}),n.jsxs(je,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Code: ",u.product_code]}),n.jsxs(je,{variant:"body2",color:"text.secondary",children:["Category: ",(A=u.category)==null?void 0:A.name]}),n.jsxs(je,{variant:"body2",color:"text.secondary",children:["Reorder Level: ",u.reorder_level]}),n.jsxs(je,{variant:"body2",color:"text.secondary",children:["Attributes: ",q(u.attributes)]})]})]})},u.id)})});return n.jsxs(bn,{maxWidth:"xxl",sx:{mt:0,p:"0!important"},children:[n.jsxs(Q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[n.jsxs(Q,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.jsx(V,{placeholder:"Search products...",variant:"outlined",size:"small",value:o,onChange:u=>i(u.target.value),InputProps:{startAdornment:n.jsx(xn,{position:"start",children:n.jsx($n,{})})}}),n.jsxs(vn,{size:"small",sx:{minWidth:120},children:[n.jsx(Sn,{children:"Category"}),n.jsxs(yn,{value:y,onChange:u=>P(u.target.value),label:"Category",children:[n.jsx(de,{value:"all",children:"All Categories"}),G==null?void 0:G.map(u=>n.jsx(de,{value:u.id,children:u.name},u.id))]})]}),n.jsxs(Yn,{value:s,exclusive:!0,onChange:oe,size:"small",children:[n.jsx(tr,{value:"table",children:n.jsx(er,{title:"Table View",children:n.jsx(Zn,{})})}),n.jsx(tr,{value:"card",children:n.jsx(er,{title:"Card View",children:n.jsx(Jn,{})})})]})]}),n.jsxs(Q,{children:[n.jsx(le,{variant:"contained",onClick:()=>v(!0),startIcon:n.jsx(We,{}),color:"error",children:"Add Product"}),n.jsx(le,{variant:"contained",onClick:()=>b(!0),startIcon:n.jsx(We,{}),sx:{ml:1},color:"info",children:"Add Category"}),n.jsx(le,{variant:"contained",onClick:()=>c(!0),startIcon:n.jsx(We,{}),sx:{ml:1},color:"success",children:"Add Attribute"})]})]}),s==="table"?n.jsx(E,{}):n.jsx(L,{}),n.jsx(Rn,{rowsPerPageOptions:[5,10,25],component:"div",count:ee.length,rowsPerPage:r,page:e,onPageChange:J,onRowsPerPageChange:$}),n.jsx(Xn,{open:f,handleClose:()=>b(!1)}),n.jsx(po,{open:x,handleClose:()=>v(!1),categories:G||[]}),n.jsx(ho,{open:h,handleClose:()=>c(!1)}),n.jsx(xo,{open:l,handleClose:()=>m(),categories:G||[],product:T})]})};export{Io as default};
