import{r as P,g as mr,a as xr,s as br,B as sn,c as ct,m as yr,b as cn,u as vr,j as n,d as jr,e as Cr,f as _e,h as ln,i as Ot,k as dn,l as le,R as Ve,n as un,o as wr,p as _r,q as Nt,t as rt,v as Q,P as Ie,T as je,D as Sr,I as nt,w as pn,x as fn,G as $t,C as Pr,y as $r,z as hn,A as gn,E as mn,F as xn,H as bn,J as Ht}from"./index-DeRU5HNF.js";import{c as Ee,a as ye,F as lt,b as dt,d as Y,e as Ce,f as Rr,g as Ar,h as Tr}from"./index.esm-C946xSBX.js";import{D as ut}from"./Dialog-DkV_bdO1.js";import{D as pt,a as ft}from"./DialogTitle-DTBS49Ni.js";import{T as q,a as Rt,b as O,S as yn,c as vn,d as jn,e as Cn,f as wn}from"./TextField-BYf4anuv.js";import{D as ht}from"./DialogActions-BOjRob4-.js";import{M as de}from"./MenuItem-mddbYh_n.js";import{R as Mt}from"./DeleteOutlined-CfpvUKgT.js";import{R as We}from"./PlusOutlined-CoNjxewK.js";import{g as At}from"./fileHelper-DtQg9PBz.js";import{S as re}from"./Skeleton-X6_iUxF1.js";import{S as jt}from"./sweetalert2.esm.all-D3pEHXw3.js";import{C as _n}from"./Container-B5lCJo7U.js";import{R as Sn}from"./SearchOutlined-BPbN8RAA.js";import{I as Pn}from"./InputLabel-p4Y1ucBq.js";import{T as $n}from"./TablePagination-DvqYT6Am.js";import{T as De}from"./TableSortLabel-Cg3DhABx.js";import{R as Rn}from"./EditOutlined-Dzgp4dkg.js";import{C as An}from"./CardMedia-BXWG60pS.js";import"./KeyboardArrowRight-DrhUjlpq.js";import"./LastPage-BIj3RMN-.js";function Tn(e){return P.Children.toArray(e).filter(t=>P.isValidElement(t))}function kn(e){return mr("MuiToggleButton",e)}const Se=xr("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),kr=P.createContext({}),Ir=P.createContext(void 0);function In(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.includes(e):e===t}const En=e=>{const{classes:t,fullWidth:r,selected:a,disabled:i,size:o,color:s}=e,p={root:["root",a&&"selected",i&&"disabled",r&&"fullWidth",`size${ct(o)}`,s]};return Cr(p,kn,t)},Bn=br(sn,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`size${ct(r.size)}`]]}})(yr(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${Se.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:_e(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Se.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:_e(e.palette.text.primary,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:_e(e.palette.text.primary,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:_e(e.palette.text.primary,e.palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(ln()).map(([t])=>({props:{color:t},style:{[`&.${Se.selected}`]:{color:(e.vars||e).palette[t].main,backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:_e(e.palette[t].main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:_e(e.palette[t].main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:_e(e.palette[t].main,e.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),Ut=P.forwardRef(function(t,r){const{value:a,...i}=P.useContext(kr),o=P.useContext(Ir),s=cn({...i,selected:In(t.value,a)},t),p=vr({props:s,name:"MuiToggleButton"}),{children:f,className:b,color:x="standard",disabled:y=!1,disableFocusRipple:m=!1,fullWidth:c=!1,onChange:l,onClick:h,selected:A,size:j="medium",value:v,...R}=p,d={...p,color:x,disabled:y,disableFocusRipple:m,fullWidth:c,size:j},C=En(d),w=_=>{h&&(h(_,v),_.defaultPrevented)||l&&l(_,v)},g=o||"";return n.jsx(Bn,{className:jr(i.className,C.root,b,g),disabled:y,focusRipple:!m,ref:r,onClick:w,onChange:l,value:v,ownerState:d,"aria-pressed":A,...R,children:f})});function zn(e){return mr("MuiToggleButtonGroup",e)}const B=xr("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Ln=e=>{const{classes:t,orientation:r,fullWidth:a,disabled:i}=e,o={root:["root",r,a&&"fullWidth"],grouped:["grouped",`grouped${ct(r)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Cr(o,zn,t)},On=br("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${B.grouped}`]:t.grouped},{[`& .${B.grouped}`]:t[`grouped${ct(r.orientation)}`]},{[`& .${B.firstButton}`]:t.firstButton},{[`& .${B.lastButton}`]:t.lastButton},{[`& .${B.middleButton}`]:t.middleButton},t.root,r.orientation==="vertical"&&t.vertical,r.fullWidth&&t.fullWidth]}})(yr(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${B.grouped}`]:{[`&.${B.selected} + .${B.grouped}.${B.selected}`]:{borderTop:0,marginTop:0}},[`& .${B.firstButton},& .${B.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${B.lastButton},& .${B.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${B.lastButton}.${Se.disabled},& .${B.middleButton}.${Se.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${B.grouped}`]:{[`&.${B.selected} + .${B.grouped}.${B.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${B.firstButton},& .${B.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${B.lastButton},& .${B.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${B.lastButton}.${Se.disabled},& .${B.middleButton}.${Se.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Nn=P.forwardRef(function(t,r){const a=vr({props:t,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:s="standard",disabled:p=!1,exclusive:f=!1,fullWidth:b=!1,onChange:x,orientation:y="horizontal",size:m="medium",value:c,...l}=a,h={...a,disabled:p,fullWidth:b,orientation:y,size:m},A=Ln(h),j=P.useCallback((g,_)=>{if(!x)return;const N=c&&c.indexOf(_);let Z;c&&N>=0?(Z=c.slice(),Z.splice(N,1)):Z=c?c.concat(_):[_],x(g,Z)},[x,c]),v=P.useCallback((g,_)=>{x&&x(g,c===_?null:_)},[x,c]),R=P.useMemo(()=>({className:A.grouped,onChange:f?v:j,value:c,size:m,fullWidth:b,color:s,disabled:p}),[A.grouped,f,v,j,c,m,b,s,p]),d=Tn(i),C=d.length,w=g=>{const _=g===0,N=g===C-1;return _&&N?"":_?A.firstButton:N?A.lastButton:A.middleButton};return n.jsx(On,{role:"group",className:jr(A.root,o),ref:r,ownerState:h,...l,children:n.jsx(kr.Provider,{value:R,children:d.map((g,_)=>n.jsx(Ir.Provider,{value:w(_),children:g},_))})})}),Mn=Ot(n.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList"),Dn=Ot(n.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule"),Yt=Ot(n.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),Fn=Ee().shape({name:ye().min(2,"Too Short!").max(100,"Too Long!").required("Required"),prefix:ye().matches(/^[A-Za-z0-9]{3}$/,"Must be exactly 3 alphanumeric characters").required("Required"),description:ye().nullable()}),Wn=({open:e,handleClose:t})=>{const r=dn();return n.jsxs(ut,{open:e,onClose:t,children:[n.jsx(pt,{children:"Add New Category"}),n.jsx(lt,{initialValues:{name:"",prefix:"",description:""},validationSchema:Fn,onSubmit:async(a,{setSubmitting:i,resetForm:o})=>{try{await r.mutateAsync(a),o(),t()}catch(s){console.error("Error creating category:",s)}finally{i(!1)}},children:({errors:a,touched:i,isSubmitting:o})=>n.jsxs(dt,{children:[n.jsxs(ft,{children:[n.jsx(Y,{as:q,name:"name",label:"Category Name",fullWidth:!0,margin:"normal",error:i.name&&a.name,helperText:i.name&&a.name}),n.jsx(Y,{as:q,name:"prefix",label:"Category Prefix (3 characters)",fullWidth:!0,margin:"normal",error:i.prefix&&a.prefix,helperText:i.prefix&&a.prefix}),n.jsx(Y,{as:q,name:"description",label:"Description",fullWidth:!0,margin:"normal",multiline:!0,rows:3,error:i.description&&a.description,helperText:i.description&&a.description})]}),n.jsxs(ht,{children:[n.jsx(le,{onClick:t,children:"Cancel"}),n.jsx(le,{type:"submit",disabled:o,variant:"contained",color:"primary",children:o?"Adding...":"Add Category"})]})]})})]})};var ne=function(){return ne=Object.assign||function(t){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ne.apply(this,arguments)};function at(e,t,r){if(r||arguments.length===2)for(var a=0,i=t.length,o;a<i;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}var z="-ms-",qe="-moz-",I="-webkit-",Er="comm",gt="rule",Dt="decl",qn="@import",Br="@keyframes",Vn="@layer",zr=Math.abs,Ft=String.fromCharCode,Tt=Object.assign;function Gn(e,t){return W(e,0)^45?(((t<<2^W(e,0))<<2^W(e,1))<<2^W(e,2))<<2^W(e,3):0}function Lr(e){return e.trim()}function be(e,t){return(e=t.exec(e))?e[0]:e}function $(e,t,r){return e.replace(t,r)}function Ke(e,t,r){return e.indexOf(t,r)}function W(e,t){return e.charCodeAt(t)|0}function Be(e,t,r){return e.slice(t,r)}function ge(e){return e.length}function Or(e){return e.length}function Fe(e,t){return t.push(e),e}function Hn(e,t){return e.map(t).join("")}function Zt(e,t){return e.filter(function(r){return!be(r,t)})}var mt=1,ze=1,Nr=0,ue=0,D=0,Me="";function xt(e,t,r,a,i,o,s,p){return{value:e,root:t,parent:r,type:a,props:i,children:o,line:mt,column:ze,length:s,return:"",siblings:p}}function ve(e,t){return Tt(xt("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Te(e){for(;e.root;)e=ve(e.root,{children:[e]});Fe(e,e.siblings)}function Un(){return D}function Yn(){return D=ue>0?W(Me,--ue):0,ze--,D===10&&(ze=1,mt--),D}function he(){return D=ue<Nr?W(Me,ue++):0,ze++,D===10&&(ze=1,mt++),D}function $e(){return W(Me,ue)}function Xe(){return ue}function bt(e,t){return Be(Me,e,t)}function kt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Zn(e){return mt=ze=1,Nr=ge(Me=e),ue=0,[]}function Jn(e){return Me="",e}function Ct(e){return Lr(bt(ue-1,It(e===91?e+2:e===40?e+1:e)))}function Kn(e){for(;(D=$e())&&D<33;)he();return kt(e)>2||kt(D)>3?"":" "}function Xn(e,t){for(;--t&&he()&&!(D<48||D>102||D>57&&D<65||D>70&&D<97););return bt(e,Xe()+(t<6&&$e()==32&&he()==32))}function It(e){for(;he();)switch(D){case e:return ue;case 34:case 39:e!==34&&e!==39&&It(D);break;case 40:e===41&&It(e);break;case 92:he();break}return ue}function Qn(e,t){for(;he()&&e+D!==57;)if(e+D===84&&$e()===47)break;return"/*"+bt(t,ue-1)+"*"+Ft(e===47?e:he())}function ea(e){for(;!kt($e());)he();return bt(e,ue)}function ta(e){return Jn(Qe("",null,null,null,[""],e=Zn(e),0,[0],e))}function Qe(e,t,r,a,i,o,s,p,f){for(var b=0,x=0,y=s,m=0,c=0,l=0,h=1,A=1,j=1,v=0,R="",d=i,C=o,w=a,g=R;A;)switch(l=v,v=he()){case 40:if(l!=108&&W(g,y-1)==58){Ke(g+=$(Ct(v),"&","&\f"),"&\f",zr(b?p[b-1]:0))!=-1&&(j=-1);break}case 34:case 39:case 91:g+=Ct(v);break;case 9:case 10:case 13:case 32:g+=Kn(l);break;case 92:g+=Xn(Xe()-1,7);continue;case 47:switch($e()){case 42:case 47:Fe(ra(Qn(he(),Xe()),t,r,f),f);break;default:g+="/"}break;case 123*h:p[b++]=ge(g)*j;case 125*h:case 59:case 0:switch(v){case 0:case 125:A=0;case 59+x:j==-1&&(g=$(g,/\f/g,"")),c>0&&ge(g)-y&&Fe(c>32?Kt(g+";",a,r,y-1,f):Kt($(g," ","")+";",a,r,y-2,f),f);break;case 59:g+=";";default:if(Fe(w=Jt(g,t,r,b,x,i,p,R,d=[],C=[],y,o),o),v===123)if(x===0)Qe(g,t,w,w,d,o,y,p,C);else switch(m===99&&W(g,3)===110?100:m){case 100:case 108:case 109:case 115:Qe(e,w,w,a&&Fe(Jt(e,w,w,0,0,i,p,R,i,d=[],y,C),C),i,C,y,p,a?d:C);break;default:Qe(g,w,w,w,[""],C,0,p,C)}}b=x=c=0,h=j=1,R=g="",y=s;break;case 58:y=1+ge(g),c=l;default:if(h<1){if(v==123)--h;else if(v==125&&h++==0&&Yn()==125)continue}switch(g+=Ft(v),v*h){case 38:j=x>0?1:(g+="\f",-1);break;case 44:p[b++]=(ge(g)-1)*j,j=1;break;case 64:$e()===45&&(g+=Ct(he())),m=$e(),x=y=ge(R=g+=ea(Xe())),v++;break;case 45:l===45&&ge(g)==2&&(h=0)}}return o}function Jt(e,t,r,a,i,o,s,p,f,b,x,y){for(var m=i-1,c=i===0?o:[""],l=Or(c),h=0,A=0,j=0;h<a;++h)for(var v=0,R=Be(e,m+1,m=zr(A=s[h])),d=e;v<l;++v)(d=Lr(A>0?c[v]+" "+R:$(R,/&\f/g,c[v])))&&(f[j++]=d);return xt(e,t,r,i===0?gt:p,f,b,x,y)}function ra(e,t,r,a){return xt(e,t,r,Er,Ft(Un()),Be(e,2,-2),0,a)}function Kt(e,t,r,a,i){return xt(e,t,r,Dt,Be(e,0,a),Be(e,a+1,-1),a,i)}function Mr(e,t,r){switch(Gn(e,t)){case 5103:return I+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return I+e+e;case 4789:return qe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return I+e+qe+e+z+e+e;case 5936:switch(W(e,t+11)){case 114:return I+e+z+$(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return I+e+z+$(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return I+e+z+$(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return I+e+z+e+e;case 6165:return I+e+z+"flex-"+e+e;case 5187:return I+e+$(e,/(\w+).+(:[^]+)/,I+"box-$1$2"+z+"flex-$1$2")+e;case 5443:return I+e+z+"flex-item-"+$(e,/flex-|-self/g,"")+(be(e,/flex-|baseline/)?"":z+"grid-row-"+$(e,/flex-|-self/g,""))+e;case 4675:return I+e+z+"flex-line-pack"+$(e,/align-content|flex-|-self/g,"")+e;case 5548:return I+e+z+$(e,"shrink","negative")+e;case 5292:return I+e+z+$(e,"basis","preferred-size")+e;case 6060:return I+"box-"+$(e,"-grow","")+I+e+z+$(e,"grow","positive")+e;case 4554:return I+$(e,/([^-])(transform)/g,"$1"+I+"$2")+e;case 6187:return $($($(e,/(zoom-|grab)/,I+"$1"),/(image-set)/,I+"$1"),e,"")+e;case 5495:case 3959:return $(e,/(image-set\([^]*)/,I+"$1$`$1");case 4968:return $($(e,/(.+:)(flex-)?(.*)/,I+"box-pack:$3"+z+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+I+e+e;case 4200:if(!be(e,/flex-|baseline/))return z+"grid-column-align"+Be(e,t)+e;break;case 2592:case 3360:return z+$(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(a,i){return t=i,be(a.props,/grid-\w+-end/)})?~Ke(e+(r=r[t].value),"span",0)?e:z+$(e,"-start","")+e+z+"grid-row-span:"+(~Ke(r,"span",0)?be(r,/\d+/):+be(r,/\d+/)-+be(e,/\d+/))+";":z+$(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(a){return be(a.props,/grid-\w+-start/)})?e:z+$($(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return $(e,/(.+)-inline(.+)/,I+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ge(e)-1-t>6)switch(W(e,t+1)){case 109:if(W(e,t+4)!==45)break;case 102:return $(e,/(.+:)(.+)-([^]+)/,"$1"+I+"$2-$3$1"+qe+(W(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Ke(e,"stretch",0)?Mr($(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return $(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,i,o,s,p,f,b){return z+i+":"+o+b+(s?z+i+"-span:"+(p?f:+f-+o)+b:"")+e});case 4949:if(W(e,t+6)===121)return $(e,":",":"+I)+e;break;case 6444:switch(W(e,W(e,14)===45?18:11)){case 120:return $(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+I+(W(e,14)===45?"inline-":"")+"box$3$1"+I+"$2$3$1"+z+"$2box$3")+e;case 100:return $(e,":",":"+z)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return $(e,"scroll-","scroll-snap-")+e}return e}function it(e,t){for(var r="",a=0;a<e.length;a++)r+=t(e[a],a,e,t)||"";return r}function na(e,t,r,a){switch(e.type){case Vn:if(e.children.length)break;case qn:case Dt:return e.return=e.return||e.value;case Er:return"";case Br:return e.return=e.value+"{"+it(e.children,a)+"}";case gt:if(!ge(e.value=e.props.join(",")))return""}return ge(r=it(e.children,a))?e.return=e.value+"{"+r+"}":""}function aa(e){var t=Or(e);return function(r,a,i,o){for(var s="",p=0;p<t;p++)s+=e[p](r,a,i,o)||"";return s}}function ia(e){return function(t){t.root||(t=t.return)&&e(t)}}function oa(e,t,r,a){if(e.length>-1&&!e.return)switch(e.type){case Dt:e.return=Mr(e.value,e.length,r);return;case Br:return it([ve(e,{value:$(e.value,"@","@"+I)})],a);case gt:if(e.length)return Hn(r=e.props,function(i){switch(be(i,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Te(ve(e,{props:[$(i,/:(read-\w+)/,":"+qe+"$1")]})),Te(ve(e,{props:[i]})),Tt(e,{props:Zt(r,a)});break;case"::placeholder":Te(ve(e,{props:[$(i,/:(plac\w+)/,":"+I+"input-$1")]})),Te(ve(e,{props:[$(i,/:(plac\w+)/,":"+qe+"$1")]})),Te(ve(e,{props:[$(i,/:(plac\w+)/,z+"input-$1")]})),Te(ve(e,{props:[i]})),Tt(e,{props:Zt(r,a)});break}return""})}}var sa={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ce={},Le=typeof process<"u"&&ce!==void 0&&(ce.REACT_APP_SC_ATTR||ce.SC_ATTR)||"data-styled",Dr="active",Fr="data-styled-version",yt="6.1.13",Wt=`/*!sc*/
`,ot=typeof window<"u"&&"HTMLElement"in window,ca=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ce!==void 0&&ce.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ce.REACT_APP_SC_DISABLE_SPEEDY!==""?ce.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ce.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ce!==void 0&&ce.SC_DISABLE_SPEEDY!==void 0&&ce.SC_DISABLE_SPEEDY!==""&&ce.SC_DISABLE_SPEEDY!=="false"&&ce.SC_DISABLE_SPEEDY),vt=Object.freeze([]),Oe=Object.freeze({});function la(e,t,r){return r===void 0&&(r=Oe),e.theme!==r.theme&&e.theme||t||r.theme}var Wr=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),da=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ua=/(^-|-$)/g;function Xt(e){return e.replace(da,"-").replace(ua,"")}var pa=/(a)(d)/gi,Ze=52,Qt=function(e){return String.fromCharCode(e+(e>25?39:97))};function Et(e){var t,r="";for(t=Math.abs(e);t>Ze;t=t/Ze|0)r=Qt(t%Ze)+r;return(Qt(t%Ze)+r).replace(pa,"$1-$2")}var wt,qr=5381,ke=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},Vr=function(e){return ke(qr,e)};function fa(e){return Et(Vr(e)>>>0)}function ha(e){return e.displayName||e.name||"Component"}function _t(e){return typeof e=="string"&&!0}var Gr=typeof Symbol=="function"&&Symbol.for,Hr=Gr?Symbol.for("react.memo"):60115,ga=Gr?Symbol.for("react.forward_ref"):60112,ma={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},xa={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ur={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ba=((wt={})[ga]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wt[Hr]=Ur,wt);function er(e){return("type"in(t=e)&&t.type.$$typeof)===Hr?Ur:"$$typeof"in e?ba[e.$$typeof]:ma;var t}var ya=Object.defineProperty,va=Object.getOwnPropertyNames,tr=Object.getOwnPropertySymbols,ja=Object.getOwnPropertyDescriptor,Ca=Object.getPrototypeOf,rr=Object.prototype;function Yr(e,t,r){if(typeof t!="string"){if(rr){var a=Ca(t);a&&a!==rr&&Yr(e,a,r)}var i=va(t);tr&&(i=i.concat(tr(t)));for(var o=er(e),s=er(t),p=0;p<i.length;++p){var f=i[p];if(!(f in xa||r&&r[f]||s&&f in s||o&&f in o)){var b=ja(t,f);try{ya(e,f,b)}catch{}}}}return e}function Ne(e){return typeof e=="function"}function qt(e){return typeof e=="object"&&"styledComponentId"in e}function Pe(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function nr(e,t){if(e.length===0)return"";for(var r=e[0],a=1;a<e.length;a++)r+=e[a];return r}function Ge(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Bt(e,t,r){if(r===void 0&&(r=!1),!r&&!Ge(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var a=0;a<t.length;a++)e[a]=Bt(e[a],t[a]);else if(Ge(t))for(var a in t)e[a]=Bt(e[a],t[a]);return e}function Vt(e,t){Object.defineProperty(e,"toString",{value:t})}function He(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var wa=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var r=0,a=0;a<t;a++)r+=this.groupSizes[a];return r},e.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var a=this.groupSizes,i=a.length,o=i;t>=o;)if((o<<=1)<0)throw He(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(a),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var p=this.indexOfGroup(t+1),f=(s=0,r.length);s<f;s++)this.tag.insertRule(p,r[s])&&(this.groupSizes[t]++,p++)},e.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],a=this.indexOfGroup(t),i=a+r;this.groupSizes[t]=0;for(var o=a;o<i;o++)this.tag.deleteRule(a)}},e.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var a=this.groupSizes[t],i=this.indexOfGroup(t),o=i+a,s=i;s<o;s++)r+="".concat(this.tag.getRule(s)).concat(Wt);return r},e}(),et=new Map,st=new Map,tt=1,Je=function(e){if(et.has(e))return et.get(e);for(;st.has(tt);)tt++;var t=tt++;return et.set(e,t),st.set(t,e),t},_a=function(e,t){tt=t+1,et.set(e,t),st.set(t,e)},Sa="style[".concat(Le,"][").concat(Fr,'="').concat(yt,'"]'),Pa=new RegExp("^".concat(Le,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),$a=function(e,t,r){for(var a,i=r.split(","),o=0,s=i.length;o<s;o++)(a=i[o])&&e.registerName(t,a)},Ra=function(e,t){for(var r,a=((r=t.textContent)!==null&&r!==void 0?r:"").split(Wt),i=[],o=0,s=a.length;o<s;o++){var p=a[o].trim();if(p){var f=p.match(Pa);if(f){var b=0|parseInt(f[1],10),x=f[2];b!==0&&(_a(x,b),$a(e,x,f[3]),e.getTag().insertRules(b,i)),i.length=0}else i.push(p)}}},ar=function(e){for(var t=document.querySelectorAll(Sa),r=0,a=t.length;r<a;r++){var i=t[r];i&&i.getAttribute(Le)!==Dr&&(Ra(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function Aa(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Zr=function(e){var t=document.head,r=e||t,a=document.createElement("style"),i=function(p){var f=Array.from(p.querySelectorAll("style[".concat(Le,"]")));return f[f.length-1]}(r),o=i!==void 0?i.nextSibling:null;a.setAttribute(Le,Dr),a.setAttribute(Fr,yt);var s=Aa();return s&&a.setAttribute("nonce",s),r.insertBefore(a,o),a},Ta=function(){function e(t){this.element=Zr(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var a=document.styleSheets,i=0,o=a.length;i<o;i++){var s=a[i];if(s.ownerNode===r)return s}throw He(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},e}(),ka=function(){function e(t){this.element=Zr(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var a=document.createTextNode(r);return this.element.insertBefore(a,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),Ia=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),ir=ot,Ea={isServer:!ot,useCSSOMInjection:!ca},Jr=function(){function e(t,r,a){t===void 0&&(t=Oe),r===void 0&&(r={});var i=this;this.options=ne(ne({},Ea),t),this.gs=r,this.names=new Map(a),this.server=!!t.isServer,!this.server&&ot&&ir&&(ir=!1,ar(this)),Vt(this,function(){return function(o){for(var s=o.getTag(),p=s.length,f="",b=function(y){var m=function(j){return st.get(j)}(y);if(m===void 0)return"continue";var c=o.names.get(m),l=s.getGroup(y);if(c===void 0||!c.size||l.length===0)return"continue";var h="".concat(Le,".g").concat(y,'[id="').concat(m,'"]'),A="";c!==void 0&&c.forEach(function(j){j.length>0&&(A+="".concat(j,","))}),f+="".concat(l).concat(h,'{content:"').concat(A,'"}').concat(Wt)},x=0;x<p;x++)b(x);return f}(i)})}return e.registerId=function(t){return Je(t)},e.prototype.rehydrate=function(){!this.server&&ot&&ar(this)},e.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new e(ne(ne({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(r){var a=r.useCSSOMInjection,i=r.target;return r.isServer?new Ia(i):a?new Ta(i):new ka(i)}(this.options),new wa(t)));var t},e.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.prototype.registerName=function(t,r){if(Je(t),this.names.has(t))this.names.get(t).add(r);else{var a=new Set;a.add(r),this.names.set(t,a)}},e.prototype.insertRules=function(t,r,a){this.registerName(t,r),this.getTag().insertRules(Je(t),a)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Je(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Ba=/&/g,za=/^\s*\/\/.*$/gm;function Kr(e,t){return e.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(a){return"".concat(t," ").concat(a)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Kr(r.children,t)),r})}function La(e){var t,r,a,i=Oe,o=i.options,s=o===void 0?Oe:o,p=i.plugins,f=p===void 0?vt:p,b=function(m,c,l){return l.startsWith(r)&&l.endsWith(r)&&l.replaceAll(r,"").length>0?".".concat(t):m},x=f.slice();x.push(function(m){m.type===gt&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(Ba,r).replace(a,b))}),s.prefix&&x.push(oa),x.push(na);var y=function(m,c,l,h){c===void 0&&(c=""),l===void 0&&(l=""),h===void 0&&(h="&"),t=h,r=c,a=new RegExp("\\".concat(r,"\\b"),"g");var A=m.replace(za,""),j=ta(l||c?"".concat(l," ").concat(c," { ").concat(A," }"):A);s.namespace&&(j=Kr(j,s.namespace));var v=[];return it(j,aa(x.concat(ia(function(R){return v.push(R)})))),v};return y.hash=f.length?f.reduce(function(m,c){return c.name||He(15),ke(m,c.name)},qr).toString():"",y}var Oa=new Jr,zt=La(),Xr=Ve.createContext({shouldForwardProp:void 0,styleSheet:Oa,stylis:zt});Xr.Consumer;Ve.createContext(void 0);function or(){return P.useContext(Xr)}var Na=function(){function e(t,r){var a=this;this.inject=function(i,o){o===void 0&&(o=zt);var s=a.name+o.hash;i.hasNameForId(a.id,s)||i.insertRules(a.id,s,o(a.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,Vt(this,function(){throw He(12,String(a.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=zt),this.name+t.hash},e}(),Ma=function(e){return e>="A"&&e<="Z"};function sr(e){for(var t="",r=0;r<e.length;r++){var a=e[r];if(r===1&&a==="-"&&e[0]==="-")return e;Ma(a)?t+="-"+a.toLowerCase():t+=a}return t.startsWith("ms-")?"-"+t:t}var Qr=function(e){return e==null||e===!1||e===""},en=function(e){var t,r,a=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!Qr(o)&&(Array.isArray(o)&&o.isCss||Ne(o)?a.push("".concat(sr(i),":"),o,";"):Ge(o)?a.push.apply(a,at(at(["".concat(i," {")],en(o),!1),["}"],!1)):a.push("".concat(sr(i),": ").concat((t=i,(r=o)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in sa||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return a};function Re(e,t,r,a){if(Qr(e))return[];if(qt(e))return[".".concat(e.styledComponentId)];if(Ne(e)){if(!Ne(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var i=e(t);return Re(i,t,r,a)}var o;return e instanceof Na?r?(e.inject(r,a),[e.getName(a)]):[e]:Ge(e)?en(e):Array.isArray(e)?Array.prototype.concat.apply(vt,e.map(function(s){return Re(s,t,r,a)})):[e.toString()]}function Da(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(Ne(r)&&!qt(r))return!1}return!0}var Fa=Vr(yt),Wa=function(){function e(t,r,a){this.rules=t,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&Da(t),this.componentId=r,this.baseHash=ke(Fa,r),this.baseStyle=a,Jr.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,a){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=Pe(i,this.staticRulesId);else{var o=nr(Re(this.rules,t,r,a)),s=Et(ke(this.baseHash,o)>>>0);if(!r.hasNameForId(this.componentId,s)){var p=a(o,".".concat(s),void 0,this.componentId);r.insertRules(this.componentId,s,p)}i=Pe(i,s),this.staticRulesId=s}else{for(var f=ke(this.baseHash,a.hash),b="",x=0;x<this.rules.length;x++){var y=this.rules[x];if(typeof y=="string")b+=y;else if(y){var m=nr(Re(y,t,r,a));f=ke(f,m+x),b+=m}}if(b){var c=Et(f>>>0);r.hasNameForId(this.componentId,c)||r.insertRules(this.componentId,c,a(b,".".concat(c),void 0,this.componentId)),i=Pe(i,c)}}return i},e}(),tn=Ve.createContext(void 0);tn.Consumer;var St={};function qa(e,t,r){var a=qt(e),i=e,o=!_t(e),s=t.attrs,p=s===void 0?vt:s,f=t.componentId,b=f===void 0?function(d,C){var w=typeof d!="string"?"sc":Xt(d);St[w]=(St[w]||0)+1;var g="".concat(w,"-").concat(fa(yt+w+St[w]));return C?"".concat(C,"-").concat(g):g}(t.displayName,t.parentComponentId):f,x=t.displayName,y=x===void 0?function(d){return _t(d)?"styled.".concat(d):"Styled(".concat(ha(d),")")}(e):x,m=t.displayName&&t.componentId?"".concat(Xt(t.displayName),"-").concat(t.componentId):t.componentId||b,c=a&&i.attrs?i.attrs.concat(p).filter(Boolean):p,l=t.shouldForwardProp;if(a&&i.shouldForwardProp){var h=i.shouldForwardProp;if(t.shouldForwardProp){var A=t.shouldForwardProp;l=function(d,C){return h(d,C)&&A(d,C)}}else l=h}var j=new Wa(r,m,a?i.componentStyle:void 0);function v(d,C){return function(w,g,_){var N=w.attrs,Z=w.componentStyle,V=w.defaultProps,pe=w.foldedComponentIds,fe=w.styledComponentId,ae=w.target,J=Ve.useContext(tn),ee=or(),G=w.shouldForwardProp||ee.shouldForwardProp,ie=la(g,J,V)||Oe,M=function(T,X,H){for(var oe,U=ne(ne({},X),{className:void 0,theme:H}),se=0;se<T.length;se+=1){var te=Ne(oe=T[se])?oe(U):oe;for(var F in te)U[F]=F==="className"?Pe(U[F],te[F]):F==="style"?ne(ne({},U[F]),te[F]):te[F]}return X.className&&(U.className=Pe(U.className,X.className)),U}(N,g,ie),K=M.as||ae,S={};for(var E in M)M[E]===void 0||E[0]==="$"||E==="as"||E==="theme"&&M.theme===ie||(E==="forwardedAs"?S.as=M.forwardedAs:G&&!G(E,K)||(S[E]=M[E]));var L=function(T,X){var H=or(),oe=T.generateAndInjectStyles(X,H.styleSheet,H.stylis);return oe}(Z,M),u=Pe(pe,fe);return L&&(u+=" "+L),M.className&&(u+=" "+M.className),S[_t(K)&&!Wr.has(K)?"class":"className"]=u,S.ref=_,P.createElement(K,S)}(R,d,C)}v.displayName=y;var R=Ve.forwardRef(v);return R.attrs=c,R.componentStyle=j,R.displayName=y,R.shouldForwardProp=l,R.foldedComponentIds=a?Pe(i.foldedComponentIds,i.styledComponentId):"",R.styledComponentId=m,R.target=a?i.target:e,Object.defineProperty(R,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(d){this._foldedDefaultProps=a?function(C){for(var w=[],g=1;g<arguments.length;g++)w[g-1]=arguments[g];for(var _=0,N=w;_<N.length;_++)Bt(C,N[_],!0);return C}({},i.defaultProps,d):d}}),Vt(R,function(){return".".concat(R.styledComponentId)}),o&&Yr(R,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),R}function cr(e,t){for(var r=[e[0]],a=0,i=t.length;a<i;a+=1)r.push(t[a],e[a+1]);return r}var lr=function(e){return Object.assign(e,{isCss:!0})};function rn(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Ne(e)||Ge(e))return lr(Re(cr(vt,at([e],t,!0))));var a=e;return t.length===0&&a.length===1&&typeof a[0]=="string"?Re(a):lr(Re(cr(a,t)))}function Lt(e,t,r){if(r===void 0&&(r=Oe),!t)throw He(1,t);var a=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return e(t,r,rn.apply(void 0,at([i],o,!1)))};return a.attrs=function(i){return Lt(e,t,ne(ne({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},a.withConfig=function(i){return Lt(e,t,ne(ne({},r),i))},a}var nn=function(e){return Lt(qa,e)},Ue=nn;Wr.forEach(function(e){Ue[e]=nn(e)});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ae=function(){return Ae=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ae.apply(this,arguments)};function Ye(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var dr,ur,pr,fr,hr,Va=rn(dr||(dr=Ye([`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`],[`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`])),"#0658c2","#666","#666","#666","#666","#666"),Ga=Ue.label(ur||(ur=Ye([`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`],[`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`])),function(e){return e.overRide?"":Va}),Ha=Ue.div(pr||(pr=Ye([`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.9;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`],[`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.9;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`])),"#666","#999"),Ua=Ue.div(fr||(fr=Ye([`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`],[`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`])),function(e){return e.error?"red":"#666"}),Ya=Ue.span(hr||(hr=Ye([`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`],[`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`])),"#666"),gr=function(e){return e/1024/1024},Za=function(e){return e===void 0?"":e.map(function(t){return".".concat(t.toLowerCase())}).join(",")};function Ja(e){var t=e.types,r=e.minSize,a=e.maxSize;if(t){var i=t.toString(),o="";return a&&(o+="size >= ".concat(a,", ")),r&&(o+="size <= ".concat(r,", ")),n.jsx("span",Ae({title:"".concat(o,"types: ").concat(i),className:"file-types"},{children:i}),void 0)}return null}function Ka(){return n.jsxs("svg",Ae({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[n.jsx("path",{d:"M5.33317 6.66667H22.6665V16H25.3332V6.66667C25.3332 5.196 24.1372 4 22.6665 4H5.33317C3.8625 4 2.6665 5.196 2.6665 6.66667V22.6667C2.6665 24.1373 3.8625 25.3333 5.33317 25.3333H15.9998V22.6667H5.33317V6.66667Z",fill:"#0658C2"},void 0),n.jsx("path",{d:"M10.6665 14.6667L6.6665 20H21.3332L15.9998 12L11.9998 17.3333L10.6665 14.6667Z",fill:"#0658C2"},void 0),n.jsx("path",{d:"M25.3332 18.6667H22.6665V22.6667H18.6665V25.3333H22.6665V29.3333H25.3332V25.3333H29.3332V22.6667H25.3332V18.6667Z",fill:"#0658C2"},void 0)]}),void 0)}var Pt=0,Xa=function(e,t,r,a,i,o){return r?n.jsx("span",{children:"File type/size error, Hovered on types!"},void 0):n.jsx(Ya,{children:a?n.jsx("span",{children:"Upload disabled"},void 0):n.jsx(n.Fragment,e||t?{children:o?n.jsx(n.Fragment,{children:n.jsx("span",{children:o},void 0)},void 0):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Uploaded Successfully!"},void 0)," Upload another?"]},void 0)}:{children:n.jsxs(n.Fragment,i?{children:[n.jsx("span",{children:i.split(" ")[0]},void 0)," ",i.substr(i.indexOf(" ")+1)]}:{children:[n.jsx("span",{children:"Upload"},void 0)," or drop a file right here"]},void 0)},void 0)},void 0)},an=function(e){var t=e.name,r=e.hoverTitle,a=e.types,i=e.handleChange,o=e.classes,s=e.children,p=e.maxSize,f=e.minSize,b=e.fileOrFiles,x=e.onSizeError,y=e.onTypeError,m=e.onSelect,c=e.onDrop,l=e.disabled,h=e.label,A=e.uploadedLabel,j=e.multiple,v=e.required,R=e.onDraggingStateChange,d=e.dropMessageStyle,C=e.ariaLabel,w=e.ariaDescribedby,g=P.useRef(null),_=P.useRef(null),N=P.useState(!1),Z=N[0],V=N[1],pe=P.useState(null),fe=pe[0],ae=pe[1],J=P.useState(!1),ee=J[0],G=J[1],ie=function(S){return a&&!function(E,L){var u=E.name.split(".").pop();return L.map(function(T){return T.toLowerCase()}).includes(u.toLowerCase())}(S,a)?(G(!0),y&&y("File type is not supported"),!1):p&&gr(S.size)>p?(G(!0),x&&x("File size is too big"),!1):!(f&&gr(S.size)<f)||(G(!0),x&&x("File size is too small"),!1)},M=function(S){var E=!1;if(S){if(S instanceof File)E=!ie(S);else for(var L=0;L<S.length;L++){var u=S[L];E=!ie(u)||E}return!E&&(i&&i(S),ae(S),V(!0),G(!1),!0)}return!1},K=function(S){var E=S.labelRef,L=S.inputRef,u=S.multiple,T=S.handleChanges,X=S.onDrop,H=P.useState(!1),oe=H[0],U=H[1],se=P.useCallback(function(){L.current.click()},[L]),te=P.useCallback(function(k){k.preventDefault(),k.stopPropagation(),Pt++,k.dataTransfer.items&&k.dataTransfer.items.length!==0&&U(!0)},[]),F=P.useCallback(function(k){k.preventDefault(),k.stopPropagation(),--Pt>0||U(!1)},[]),me=P.useCallback(function(k){k.preventDefault(),k.stopPropagation()},[]),xe=P.useCallback(function(k){k.preventDefault(),k.stopPropagation(),U(!1),Pt=0;var we=k.dataTransfer.files;if(we&&we.length>0){var Gt=u?we:we[0],on=T(Gt);X&&on&&X(Gt)}},[T]);return P.useEffect(function(){var k=E.current;return k.addEventListener("click",se),k.addEventListener("dragenter",te),k.addEventListener("dragleave",F),k.addEventListener("dragover",me),k.addEventListener("drop",xe),function(){k.removeEventListener("click",se),k.removeEventListener("dragenter",te),k.removeEventListener("dragleave",F),k.removeEventListener("dragover",me),k.removeEventListener("drop",xe)}},[se,te,F,me,xe,E]),oe}({labelRef:g,inputRef:_,multiple:j,handleChanges:M,onDrop:c});return P.useEffect(function(){R==null||R(K)},[K]),P.useEffect(function(){b?(V(!0),ae(b)):(_.current&&(_.current.value=""),V(!1),ae(null))},[b]),n.jsxs(Ga,Ae({overRide:s,className:"".concat(o||""," ").concat(l?"is-disabled":""),ref:g,htmlFor:t,onClick:function(S){S.preventDefault(),S.stopPropagation()},"aria-describedby":w,role:"button","aria-label":C},{children:[n.jsx("input",{onClick:function(S){S.stopPropagation(),_&&_.current&&(_.current.value="",_.current.click())},onChange:function(S){var E=S.target.files,L=j?E:E[0],u=M(L);m&&u&&m(L)},accept:Za(a),ref:_,type:"file",id:t,name:t,disabled:l,multiple:j,required:v},void 0),K&&n.jsx(Ha,Ae({style:d},{children:n.jsx("span",{children:r||"Drop Here"},void 0)}),void 0),!s&&n.jsxs(n.Fragment,{children:[n.jsx(Ka,{},void 0),n.jsxs(Ua,Ae({error:ee},{children:[Xa(fe,Z,ee,l,h,A),n.jsx(Ja,{types:a,minSize:f,maxSize:p},void 0)]}),void 0)]},void 0),s]}),void 0)};const Qa=Ee().shape({product_name:ye().min(2,"Too Short!").max(100,"Too Long!").required("Required"),product_category_id:Ce().required("Required"),reorder_level:Ce().min(0,"Must be 0 or greater").required("Required"),product_type:ye().oneOf(["raw","finished","custom"],"Invalid product type").required("Required"),product_image:Rr().nullable().test("fileSize","File is too large",e=>!e||e.size<=5e6),attributes:Ar().of(Ee().shape({attribute_id:Ce().required("Required"),value:Ce().required("Required")}))}),ei=["JPG","JPEG","PNG","GIF"],ti=({open:e,handleClose:t,categories:r})=>{const a=un(),i=wr(),{data:o=[]}=_r(),[s,p]=P.useState(null),{refetch:f}=Nt(),b=(m,c)=>{m&&(c("product_image",m),p(URL.createObjectURL(m)))},x=()=>{t(),p(null)},y=(m,c,l)=>l.some((h,A)=>h.attribute_id===m&&A!==c);return n.jsxs(ut,{open:e,onClose:x,maxWidth:"md",fullWidth:!0,children:[n.jsx(pt,{children:"Add New Product"}),n.jsx(lt,{initialValues:{product_name:"",product_category_id:"",reorder_level:0,product_type:"raw",product_image:null,attributes:[]},validationSchema:Qa,onSubmit:async(m,{setSubmitting:c,resetForm:l})=>{try{const h=await a.mutateAsync(m);m.product_image&&await i.mutateAsync({id:h.data.id,image:m.product_image}),f(),p(null),l(),x(),rt.success("Successfully Created Product")}catch(h){rt.error("Something went wrong please try again"),console.error("Error creating product:",h)}finally{c(!1)}},children:({values:m,errors:c,touched:l,isSubmitting:h,setFieldValue:A})=>n.jsxs(dt,{children:[n.jsxs(ft,{children:[n.jsx(Q,{sx:{maxWidth:500,mx:"auto",mt:2,mb:2},children:n.jsx(Ie,{variant:"outlined",sx:{p:3,borderStyle:"dashed",borderColor:"grey.400",backgroundColor:"grey.50","&:hover":{borderColor:"primary.main",cursor:"pointer"}},children:n.jsxs(Q,{sx:{textAlign:"center"},children:[n.jsx(an,{handleChange:j=>b(j,A),name:"product_image",label:"Upload or drop a Product Image",types:ei,multiple:!1}),l.product_image&&c.product_image&&n.jsx(je,{color:"error",variant:"caption",display:"block",sx:{mt:1},children:c.product_image}),s&&n.jsx(Ie,{elevation:0,sx:{p:2,mt:2,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"grey.50",borderRadius:1},children:n.jsx(Q,{sx:{width:"100%",height:200,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",borderRadius:1,bgcolor:"white"},children:n.jsx("img",{src:s,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})})]})})}),n.jsx(Y,{as:q,name:"product_name",label:"Product Name",fullWidth:!0,margin:"normal",error:l.product_name&&c.product_name,helperText:l.product_name&&c.product_name}),n.jsx(Y,{as:q,select:!0,name:"product_category_id",label:"Category",fullWidth:!0,margin:"normal",error:l.product_category_id&&c.product_category_id,helperText:l.product_category_id&&c.product_category_id,children:r.map(j=>n.jsx(de,{value:j.id,children:j.name},j.id))}),n.jsx(Y,{as:q,name:"reorder_level",label:"Reorder Level",type:"number",fullWidth:!0,margin:"normal",error:l.reorder_level&&c.reorder_level,helperText:l.reorder_level&&c.reorder_level}),n.jsxs(Y,{as:q,select:!0,name:"product_type",label:"Product Type",fullWidth:!0,margin:"normal",error:l.product_type&&c.product_type,helperText:l.product_type&&c.product_type,children:[n.jsx(de,{value:"raw",children:"Raw Material"}),n.jsx(de,{value:"finished",children:"Finished Product"}),n.jsx(de,{value:"custom",children:"Custom Product"})]}),n.jsx(Sr,{sx:{my:2}}),n.jsx(je,{variant:"subtitle1",gutterBottom:!0,children:"Product Attributes"}),n.jsx(Tr,{name:"attributes",children:({push:j,remove:v})=>n.jsxs(Q,{children:[m.attributes.map((R,d)=>{var C,w,g,_,N,Z,V,pe,fe,ae,J,ee,G,ie,M,K;return n.jsxs(Q,{sx:{display:"flex",gap:2,mb:2},children:[n.jsx(Y,{as:q,select:!0,name:`attributes.${d}.attribute_id`,label:"Attribute",fullWidth:!0,error:((w=(C=l.attributes)==null?void 0:C[d])==null?void 0:w.attribute_id)&&((_=(g=c.attributes)==null?void 0:g[d])==null?void 0:_.attribute_id),helperText:((Z=(N=l.attributes)==null?void 0:N[d])==null?void 0:Z.attribute_id)&&((pe=(V=c.attributes)==null?void 0:V[d])==null?void 0:pe.attribute_id),children:o.map(S=>n.jsxs(de,{disabled:y(S.id,d,m.attributes),value:S.id,children:[S.attribute_name," (",S.unit_of_measurement,")"]},S.id))}),n.jsx(Y,{as:q,name:`attributes.${d}.value`,label:"Value",type:"number",fullWidth:!0,error:((ae=(fe=l.attributes)==null?void 0:fe[d])==null?void 0:ae.value)&&((ee=(J=c.attributes)==null?void 0:J[d])==null?void 0:ee.value),helperText:((ie=(G=l.attributes)==null?void 0:G[d])==null?void 0:ie.value)&&((K=(M=c.attributes)==null?void 0:M[d])==null?void 0:K.value)}),n.jsx(nt,{onClick:()=>v(d),color:"error",children:n.jsx(Mt,{})})]},d)}),n.jsx(le,{type:"button",onClick:()=>j({attribute_id:"",value:""}),startIcon:n.jsx(We,{}),variant:"outlined",fullWidth:!0,children:"Add Attribute"})]})})]}),n.jsxs(ht,{children:[n.jsx(le,{onClick:x,children:"Cancel"}),n.jsx(le,{type:"submit",disabled:h,variant:"contained",color:"primary",children:h?"Adding...":"Add Product"})]})]})})]})},ri=Ee().shape({attribute_name:ye().required("Required").min(2,"Too Short!").max(100,"Too Long!"),unit_of_measurement:ye().required("Required").max(50,"Too Long!")}),ni=({open:e,handleClose:t})=>{const r=pn();return n.jsxs(ut,{open:e,onClose:t,children:[n.jsx(pt,{children:"Add New Attribute"}),n.jsx(lt,{initialValues:{attribute_name:"",unit_of_measurement:""},validationSchema:ri,onSubmit:async(a,{setSubmitting:i,resetForm:o})=>{try{await r.mutateAsync(a),o(),t()}catch(s){console.error("Error creating attribute:",s)}finally{i(!1)}},children:({errors:a,touched:i,isSubmitting:o})=>n.jsxs(dt,{children:[n.jsxs(ft,{children:[n.jsx(Y,{as:q,name:"attribute_name",label:"Attribute Name",fullWidth:!0,margin:"normal",error:i.attribute_name&&a.attribute_name,helperText:i.attribute_name&&a.attribute_name}),n.jsx(Y,{as:q,name:"unit_of_measurement",label:"Unit of Measurement",fullWidth:!0,margin:"normal",error:i.unit_of_measurement&&a.unit_of_measurement,helperText:i.unit_of_measurement&&a.unit_of_measurement})]}),n.jsxs(ht,{children:[n.jsx(le,{onClick:t,children:"Cancel"}),n.jsx(le,{type:"submit",disabled:o,variant:"contained",color:"primary",children:o?"Adding...":"Add Attribute"})]})]})})]})},ai=Ee().shape({product_name:ye().min(2,"Too Short!").max(100,"Too Long!").required("Required"),product_category_id:Ce().required("Required"),reorder_level:Ce().min(0,"Must be 0 or greater").required("Required"),product_type:ye().oneOf(["raw","finished","custom"],"Invalid product type").required("Required"),product_image:Rr().test("fileSize","File is too large",e=>!e||e.size<=5e6),attributes:Ar().of(Ee().shape({attribute_id:Ce().required("Required"),value:Ce().required("Required")}))}),ii=["JPG","JPEG","PNG","GIF"],oi=({open:e,handleClose:t,categories:r,product:a})=>{const i=fn(),o=wr(),{data:s=[]}=_r(),[p,f]=P.useState(null),{refetch:b}=Nt();P.useEffect(()=>{a!=null&&a.product_image&&f(At(a.product_image))},[a]);const x=(c,l)=>{c&&(l("product_image",c),f(URL.createObjectURL(c)))},y=()=>{t(),f(null)},m=(c,l,h)=>h.some((A,j)=>A.attribute_id===c&&j!==l);return a?n.jsxs(ut,{open:e,onClose:y,maxWidth:"md",fullWidth:!0,children:[n.jsx(pt,{children:"Edit Product"}),n.jsx(lt,{initialValues:{product_name:a.product_name||"",product_category_id:a.product_category_id||"",reorder_level:a.reorder_level||0,product_type:a.product_type||"raw",attributes:a.attributes.map(c=>({attribute_id:c.id,value:parseFloat(c.pivot.value)}))||[]},validationSchema:ai,onSubmit:async(c,{setSubmitting:l})=>{try{await i.mutateAsync({id:a.id,data:c}),c.product_image&&await o.mutateAsync({id:a.id,image:c.product_image}),b(),y(),rt.success("Successfully Edited Product")}catch(h){rt.error("Something went wrong please try again"),console.error("Error updating product:",h)}finally{l(!1)}},children:({values:c,errors:l,touched:h,isSubmitting:A,setFieldValue:j})=>n.jsxs(dt,{children:[n.jsxs(ft,{children:[n.jsx(Q,{sx:{maxWidth:500,mx:"auto",mt:2,mb:2},children:n.jsx(Ie,{variant:"outlined",sx:{p:3,borderStyle:"dashed",borderColor:"grey.400",backgroundColor:"grey.50","&:hover":{borderColor:"primary.main",cursor:"pointer"}},children:n.jsxs(Q,{sx:{textAlign:"center"},children:[n.jsx(an,{handleChange:v=>x(v,j),name:"product_image",label:"Upload or drop a Product Image",types:ii,multiple:!1}),p&&n.jsx(Ie,{elevation:0,sx:{p:2,mt:2,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"grey.50",borderRadius:1},children:n.jsx(Q,{sx:{width:"100%",height:200,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",borderRadius:1,bgcolor:"white"},children:n.jsx("img",{src:p,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})})]})})}),n.jsx(Y,{as:q,name:"product_name",label:"Product Name",fullWidth:!0,margin:"normal",error:h.product_name&&l.product_name,helperText:h.product_name&&l.product_name}),n.jsx(Y,{as:q,select:!0,name:"product_category_id",label:"Category",fullWidth:!0,margin:"normal",error:h.product_category_id&&l.product_category_id,helperText:h.product_category_id&&l.product_category_id,children:r.map(v=>n.jsx(de,{value:v.id,children:v.name},v.id))}),n.jsx(Y,{as:q,name:"reorder_level",label:"Reorder Level",type:"number",fullWidth:!0,margin:"normal",error:h.reorder_level&&l.reorder_level,helperText:h.reorder_level&&l.reorder_level}),n.jsxs(Y,{as:q,select:!0,name:"product_type",label:"Product Type",fullWidth:!0,margin:"normal",error:h.product_type&&l.product_type,helperText:h.product_type&&l.product_type,children:[n.jsx(de,{value:"raw",children:"Raw Material"}),n.jsx(de,{value:"finished",children:"Finished Product"}),n.jsx(de,{value:"custom",children:"Custom Product"})]}),n.jsx(Sr,{sx:{my:2}}),n.jsx(je,{variant:"subtitle1",gutterBottom:!0,children:"Product Attributes"}),n.jsx(Tr,{name:"attributes",children:({push:v,remove:R})=>n.jsxs(Q,{children:[c.attributes.map((d,C)=>{var w,g,_,N,Z,V,pe,fe,ae,J,ee,G,ie,M,K,S,E;return n.jsxs(Q,{sx:{display:"flex",gap:2,mb:2},children:[n.jsx(Y,{as:q,select:!0,name:`attributes.${C}.attribute_id`,label:"Attribute",fullWidth:!0,error:((g=(w=h.attributes)==null?void 0:w[C])==null?void 0:g.attribute_id)&&((N=(_=l.attributes)==null?void 0:_[C])==null?void 0:N.attribute_id),helperText:((V=(Z=h.attributes)==null?void 0:Z[C])==null?void 0:V.attribute_id)&&((fe=(pe=l.attributes)==null?void 0:pe[C])==null?void 0:fe.attribute_id),children:s.map(L=>n.jsxs(de,{value:L.id,disabled:m(L.id,C,c.attributes),children:[L.attribute_name," (",L.unit_of_measurement,")"]},L.id))}),n.jsx(Y,{as:q,name:`attributes.${C}.value`,label:`Value ${((ae=s.find(L=>L.id===d.attribute_id))==null?void 0:ae.unit_of_measurement)||""}`,type:"number",fullWidth:!0,error:((ee=(J=h.attributes)==null?void 0:J[C])==null?void 0:ee.value)&&((ie=(G=l.attributes)==null?void 0:G[C])==null?void 0:ie.value),helperText:((K=(M=h.attributes)==null?void 0:M[C])==null?void 0:K.value)&&((E=(S=l.attributes)==null?void 0:S[C])==null?void 0:E.value)}),n.jsx(nt,{onClick:()=>R(C),color:"error",children:n.jsx(Mt,{})})]},C)}),n.jsx(le,{type:"button",onClick:()=>v({attribute_id:"",value:""}),startIcon:n.jsx(We,{}),variant:"outlined",fullWidth:!0,disabled:c.attributes.length>=s.length,children:"Add Attribute"})]})})]}),n.jsxs(ht,{children:[n.jsx(le,{onClick:y,children:"Cancel"}),n.jsx(le,{type:"submit",disabled:A,variant:"contained",color:"primary",children:A?"Updating...":"Update Product"})]})]})})]}):null},si=()=>n.jsx($t,{item:!0,xs:12,sm:6,md:4,lg:3,children:n.jsxs(Pr,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[n.jsx(re,{variant:"rectangular",height:200}),n.jsxs($r,{children:[n.jsx(re,{variant:"text",sx:{fontSize:"1.25rem",mb:1}}),n.jsx(re,{variant:"text",width:"60%"}),n.jsx(re,{variant:"text",width:"40%"}),n.jsx(re,{variant:"text",width:"70%"}),n.jsx(re,{variant:"text",width:"80%"})]})]})}),ci=()=>n.jsxs(Rt,{children:[n.jsx(O,{children:n.jsx(re,{variant:"rectangular",width:50,height:50,sx:{borderRadius:1}})}),n.jsx(O,{children:n.jsx(re,{variant:"text",width:100})}),n.jsx(O,{children:n.jsx(re,{variant:"text",width:150})}),n.jsx(O,{children:n.jsx(re,{variant:"text",width:100})}),n.jsx(O,{children:n.jsx(re,{variant:"text",width:200})}),n.jsx(O,{align:"right",children:n.jsx(re,{variant:"text",width:80})}),n.jsx(O,{align:"right",children:n.jsxs(Q,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[n.jsx(re,{variant:"circular",width:32,height:32}),n.jsx(re,{variant:"circular",width:32,height:32})]})})]}),li=e=>{if(!e)return"default";switch(e.toLowerCase()){case"aluminum":return"#1976d2";case"breezeway":return"#2e7d32";case"glass":return"#0288d1";case"hardware":return"#d32f2f";case"accessory":return"#f57c00";case"lock":return"#7b1fa2";case"frame":return"#c2185b";case"track":return"#00796b";case"paint":return"#fbc02d";default:return"#9e9e9e"}},di=({category:e})=>{if(!e||!e.name)return n.jsx(O,{children:"-"});const t=li(e.name);return n.jsx(hn,{label:e.name,size:"small",sx:{backgroundColor:t,color:t==="#fbc02d"?"rgba(0, 0, 0, 0.87)":"white",fontWeight:500}})},Ii=()=>{const[e,t]=P.useState(0),[r,a]=P.useState(10),[i,o]=P.useState(""),[s,p]=P.useState("table"),[f,b]=P.useState(!1),[x,y]=P.useState(!1),[m,c]=P.useState(!1),[l,h]=P.useState(!1),[A,j]=P.useState(null),[v,R]=P.useState("all"),[d,C]=P.useState({field:"product_name",direction:"asc"}),w=u=>{j(u),h(!0)},g=()=>{j(null),h(!1)},{data:_,isLoading:N,refetch:Z}=Nt(),{data:V,isLoading:pe}=gn(),fe=mn(),ae=(_==null?void 0:_.filter(u=>{var H,oe,U,se,te,F;const T=((H=u.product_code)==null?void 0:H.toLowerCase().includes(i.toLowerCase()))||((oe=u.product_name)==null?void 0:oe.toLowerCase().includes(i.toLowerCase()))||((se=(U=u.category)==null?void 0:U.name)==null?void 0:se.toLowerCase().includes(i.toLowerCase()))||((te=u.attributes)==null?void 0:te.some(me=>{var xe,k,we;return((xe=me.attribute_name)==null?void 0:xe.toLowerCase().includes(i.toLowerCase()))||((we=(k=me.pivot)==null?void 0:k.value)==null?void 0:we.toLowerCase().includes(i.toLowerCase()))})),X=v==="all"||((F=u.category)==null?void 0:F.id)===v;return T&&X}))||[],J=u=>{C({field:u,direction:d.field===u&&d.direction==="asc"?"desc":"asc"})},ee=[...ae].sort((u,T)=>{var oe,U,se,te,F,me;if(d.field==="attributes"){const xe=((se=(U=(oe=u.attributes)==null?void 0:oe[0])==null?void 0:U.pivot)==null?void 0:se.value)||"",k=((me=(F=(te=T.attributes)==null?void 0:te[0])==null?void 0:F.pivot)==null?void 0:me.value)||"";return d.direction==="asc"?xe>k?1:-1:xe<k?1:-1}const X=u[d.field],H=T[d.field];return d.direction==="asc"?X>H?1:-1:X<H?1:-1}),G=u=>!u||u.length===0?"No attributes":u.map(T=>`${T.attribute_name}: ${T.pivot.value}${T.unit_of_measurement}`).join(", "),ie=(u,T)=>{T!==null&&p(T)},M=async u=>{var T,X;try{(await jt.fire({title:"Are you sure?",text:"You will not be able to recover this product!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it",confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d"})).isConfirmed&&(await fe.mutateAsync(u),await jt.fire({title:"Deleted!",text:"Product has been deleted successfully.",icon:"success",timer:1500,showConfirmButton:!1}),Z())}catch(H){await jt.fire({title:"Error!",text:((X=(T=H.response)==null?void 0:T.data)==null?void 0:X.message)||"Failed to delete product.",icon:"error"}),console.error("Failed to delete product:",H)}},K=(u,T)=>{t(T)},S=u=>{a(parseInt(u.target.value,10)),t(0)},E=()=>n.jsx(vn,{component:Ie,children:n.jsxs(jn,{children:[n.jsx(Cn,{children:n.jsxs(Rt,{children:[n.jsx(O,{children:"Image"}),n.jsx(O,{children:n.jsx(De,{active:d.field==="product_code",direction:d.field==="product_code"?d.direction:"asc",onClick:()=>J("product_code"),children:"Code"})}),n.jsx(O,{children:n.jsx(De,{active:d.field==="product_name",direction:d.field==="product_name"?d.direction:"asc",onClick:()=>J("product_name"),children:"Name"})}),n.jsx(O,{children:"Category"}),n.jsx(O,{children:n.jsx(De,{active:d.field==="attributes",direction:d.field==="attributes"?d.direction:"asc",onClick:()=>J("attributes"),children:"Attributes"})}),n.jsx(O,{align:"right",children:n.jsx(De,{active:d.field==="quantity",direction:d.field==="quantity"?d.direction:"asc",onClick:()=>J("quantity"),children:"Quantity"})}),n.jsx(O,{align:"right",children:n.jsx(De,{active:d.field==="reorder_level",direction:d.field==="reorder_level"?d.direction:"asc",onClick:()=>J("reorder_level"),children:"Reorder Level"})}),n.jsx(O,{align:"right",children:"Actions"})]})}),n.jsx(wn,{children:N?Array(r).fill(0).map((u,T)=>n.jsx(ci,{},T)):ee.slice(e*r,e*r+r).map(u=>n.jsxs(Rt,{children:[n.jsx(O,{children:u.product_image?n.jsx("img",{src:At(u.product_image),alt:u.product_name,style:{width:50,height:50,objectFit:"cover",borderRadius:"4px"}}):n.jsx(Ie,{sx:{width:50,height:50,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:n.jsx(Yt,{color:"disabled"})})}),n.jsx(O,{children:u.product_code}),n.jsx(O,{children:u.product_name}),n.jsx(O,{children:n.jsx(di,{category:u.category})}),n.jsx(O,{children:G(u.attributes)}),n.jsx(O,{align:"right",children:Number(u.quantity)}),n.jsx(O,{align:"right",children:u.reorder_level}),n.jsxs(O,{align:"right",children:[n.jsx(nt,{onClick:()=>w(u),children:n.jsx(Rn,{style:{fontSize:20}})}),n.jsx(nt,{onClick:()=>M(u.id),children:n.jsx(Mt,{style:{fontSize:20}})})]})]},u.id))})]})}),L=()=>n.jsx($t,{container:!0,spacing:2,children:N?Array(r).fill(0).map((u,T)=>n.jsx(si,{},T)):ee.slice(e*r,e*r+r).map(u=>{var T;return n.jsx($t,{item:!0,xs:12,sm:6,md:4,lg:3,children:n.jsxs(Pr,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[u.product_image?n.jsx(An,{component:"img",height:"200",image:At(u.product_image),alt:u.product_name,sx:{objectFit:"cover"}}):n.jsx(Q,{sx:{height:200,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.100"},children:n.jsx(Yt,{sx:{fontSize:60,color:"text.disabled"}})}),n.jsxs($r,{children:[n.jsx(je,{variant:"h6",noWrap:!0,children:u.product_name}),n.jsxs(je,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Code: ",u.product_code]}),n.jsxs(je,{variant:"body2",color:"text.secondary",children:["Category: ",(T=u.category)==null?void 0:T.name]}),n.jsxs(je,{variant:"body2",color:"text.secondary",children:["Reorder Level: ",u.reorder_level]}),n.jsxs(je,{variant:"body2",color:"text.secondary",children:["Attributes: ",G(u.attributes)]})]})]})},u.id)})});return n.jsxs(_n,{maxWidth:"xxl",sx:{mt:0,p:"0!important"},children:[n.jsxs(Q,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[n.jsxs(Q,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.jsx(q,{placeholder:"Search products...",variant:"outlined",size:"small",value:i,onChange:u=>o(u.target.value),InputProps:{startAdornment:n.jsx(xn,{position:"start",children:n.jsx(Sn,{})})}}),n.jsxs(bn,{size:"small",sx:{minWidth:120},children:[n.jsx(Pn,{children:"Category"}),n.jsxs(yn,{value:v,onChange:u=>R(u.target.value),label:"Category",children:[n.jsx(de,{value:"all",children:"All Categories"}),V==null?void 0:V.map(u=>n.jsx(de,{value:u.id,children:u.name},u.id))]})]}),n.jsxs(Nn,{value:s,exclusive:!0,onChange:ie,size:"small",children:[n.jsx(Ut,{value:"table",children:n.jsx(Ht,{title:"Table View",children:n.jsx(Mn,{})})}),n.jsx(Ut,{value:"card",children:n.jsx(Ht,{title:"Card View",children:n.jsx(Dn,{})})})]})]}),n.jsxs(Q,{children:[n.jsx(le,{variant:"contained",onClick:()=>y(!0),startIcon:n.jsx(We,{}),color:"error",children:"Add Product"}),n.jsx(le,{variant:"contained",onClick:()=>b(!0),startIcon:n.jsx(We,{}),sx:{ml:1},color:"info",children:"Add Category"}),n.jsx(le,{variant:"contained",onClick:()=>c(!0),startIcon:n.jsx(We,{}),sx:{ml:1},color:"success",children:"Add Attribute"})]})]}),s==="table"?n.jsx(E,{}):n.jsx(L,{}),n.jsx($n,{rowsPerPageOptions:[5,10,25],component:"div",count:ee.length,rowsPerPage:r,page:e,onPageChange:K,onRowsPerPageChange:S}),n.jsx(Wn,{open:f,handleClose:()=>b(!1)}),n.jsx(ti,{open:x,handleClose:()=>y(!1),categories:V||[]}),n.jsx(ni,{open:m,handleClose:()=>c(!1)}),n.jsx(oi,{open:l,handleClose:()=>g(),categories:V||[],product:A})]})};export{Ii as default};
