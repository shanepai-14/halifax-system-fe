import{j as t,q as N,T as A,D as J,r as ae,ai as ce,d as de}from"./index-BCpXsV6C.js";import{d as ue,e as pe,a as K,b as v,f as he}from"./PlusOutlined-BjNBVFEH.js";const fe=({purchaseOrder:s,contentRef:X})=>{var D,I,b,F,z;const $=a=>a.reduce((R,C)=>{const U=C.received_quantity||C.requested_quantity;return R+C.price*U},0);return t.jsx(t.Fragment,{children:t.jsxs(N,{ref:X,sx:{display:"none","@media print":{display:"block",p:4,bgcolor:"white"}},children:[t.jsxs(N,{sx:{mb:4,textAlign:"center"},children:[t.jsx(A,{variant:"h4",sx:{mb:1,fontWeight:"bold"},children:"PURCHASE ORDER"}),t.jsxs(A,{variant:"h6",children:["PO Number: ",s==null?void 0:s.po_number]})]}),t.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",mb:4},children:[t.jsxs(N,{children:[t.jsx(A,{variant:"subtitle1",sx:{fontWeight:"bold",mb:1},children:"Supplier Information:"}),t.jsx(A,{children:(D=s==null?void 0:s.supplier)==null?void 0:D.supplier_name}),t.jsx(A,{children:(I=s==null?void 0:s.supplier)==null?void 0:I.address}),t.jsx(A,{children:(b=s==null?void 0:s.supplier)==null?void 0:b.contact_number})]}),t.jsxs(N,{sx:{textAlign:"right"},children:[t.jsxs(A,{sx:{mb:1},children:[t.jsx("strong",{children:"Date:"})," ",new Date(s==null?void 0:s.po_date).toLocaleDateString()]}),t.jsxs(A,{sx:{mb:1},children:[t.jsx("strong",{children:"Status:"})," ",(F=s==null?void 0:s.status)==null?void 0:F.replace(/_/g," ").toUpperCase()]}),(s==null?void 0:s.invoice)&&t.jsxs(A,{children:[t.jsx("strong",{children:"Invoice Number:"})," ",s.invoice]})]})]}),t.jsx(J,{sx:{mb:4}}),t.jsxs(ue,{sx:{mb:4},children:[t.jsx(pe,{children:t.jsxs(K,{sx:{backgroundColor:"#f5f5f5"},children:[t.jsx(v,{sx:{fontWeight:"bold"},children:"Product"}),t.jsx(v,{sx:{fontWeight:"bold"},children:"Requested Qty"}),t.jsx(v,{sx:{fontWeight:"bold"},children:"Received Qty"}),t.jsx(v,{sx:{fontWeight:"bold"},children:"Unit Price"}),t.jsx(v,{sx:{fontWeight:"bold"},children:"Total"})]})}),t.jsxs(he,{children:[(z=s==null?void 0:s.items)==null?void 0:z.map((a,R)=>{var C;return t.jsxs(K,{children:[t.jsx(v,{children:(C=a.product)==null?void 0:C.product_name}),t.jsx(v,{children:a.requested_quantity}),t.jsx(v,{children:a.received_quantity||0}),t.jsxs(v,{children:["₱",Number(a.price).toFixed(2)]}),t.jsxs(v,{children:["₱",(a.price*(a.received_quantity||a.requested_quantity)).toFixed(2)]})]},R)}),t.jsxs(K,{children:[t.jsx(v,{colSpan:(s==null?void 0:s.status)==="pending"?3:4,sx:{textAlign:"right",fontWeight:"bold"},children:"Total Amount:"}),t.jsxs(v,{sx:{fontWeight:"bold"},children:["₱",$((s==null?void 0:s.items)||[]).toFixed(2)]})]})]})]}),t.jsx(N,{sx:{mt:6},children:t.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",mt:8},children:[t.jsxs(N,{sx:{width:"200px"},children:[t.jsx(J,{}),t.jsx(A,{sx:{mt:1},children:"Prepared by"})]}),t.jsxs(N,{sx:{width:"200px"},children:[t.jsx(J,{}),t.jsx(A,{sx:{mt:1},children:"Approved by"})]})]})})]})})};var ne={exports:{}};(function(s,X){(function($,D){s.exports=D(ae)})(typeof self<"u"?self:ce,function($){return function(){var D={155:function(e){e.exports=$}},I={};function b(e){var n=I[e];if(n!==void 0)return n.exports;var i=I[e]={exports:{}};return D[e](i,i.exports,b),i.exports}b.d=function(e,n){for(var i in n)b.o(n,i)&&!b.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},b.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},b.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var F={};b.r(F),b.d(F,{useReactToPrint:function(){return ie}});var z=b(155);function a({level:e="error",messages:n,suppressErrors:i=!1}){i||(e==="error"?console.error(n):e==="warning"?console.warn(n):e==="debug"&&console.debug(n))}function R(e,n){if(n||!e){const i=document.getElementById("printWindow");i&&document.body.removeChild(i)}}function C(e,n){const{documentTitle:i,onAfterPrint:d,onPrintError:x,preserveAfterPrint:h,print:S,suppressErrors:g}=n;setTimeout(()=>{var w,j;if(e.contentWindow)if(e.contentWindow.focus(),S)S(e).then(()=>d==null?void 0:d()).then(()=>R(h)).catch(E=>{x?x("print",E):a({messages:["An error was thrown by the specified `print` function"],suppressErrors:g})});else{if(e.contentWindow.print){const E=(j=(w=e.contentDocument)===null||w===void 0?void 0:w.title)!==null&&j!==void 0?j:"",q=e.ownerDocument.title;i&&(e.ownerDocument.title=i,e.contentDocument&&(e.contentDocument.title=i)),e.contentWindow.print(),i&&(e.ownerDocument.title=q,e.contentDocument&&(e.contentDocument.title=E))}else a({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:g});d==null||d(),R(h)}else a({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:g})},500)}function U(e){const n=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let d=i.nextNode();for(;d;)n.push(d),d=i.nextNode();return n}function Z(e,n,i){const d=U(e),x=U(n);if(d.length===x.length)for(let h=0;h<d.length;h++){const S=d[h],g=x[h],w=S.shadowRoot;if(w!==null){const j=g.attachShadow({mode:w.mode});j.innerHTML=w.innerHTML,Z(w,j,i)}}else a({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",e,n],suppressErrors:i})}const oe=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function se(e,n,i,d){var x,h,S;const{contentNode:g,clonedContentNode:w,clonedImgNodes:j,clonedVideoNodes:E,numResourcesToLoad:q,originalCanvasNodes:G}=i,{bodyClass:L,fonts:_,ignoreGlobalStyles:Y,pageStyle:M,nonce:T,suppressErrors:H,copyShadowRoots:B}=d;e.onload=null;const u=e.contentDocument||((x=e.contentWindow)===null||x===void 0?void 0:x.document);if(u){const V=u.body.appendChild(w);B&&Z(g,V,!!H),_&&(!((h=e.contentDocument)===null||h===void 0)&&h.fonts&&(!((S=e.contentWindow)===null||S===void 0)&&S.FontFace)?_.forEach(r=>{const o=new FontFace(r.family,r.source,{weight:r.weight,style:r.style});e.contentDocument.fonts.add(o),o.loaded.then(()=>{n(o)}).catch(m=>{n(o,["Failed loading the font:",o,"Load error:",m])})}):(_.forEach(r=>n(r)),a({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:H})));const c=M??oe,P=u.createElement("style");T&&(P.setAttribute("nonce",T),u.head.setAttribute("nonce",T)),P.appendChild(u.createTextNode(c)),u.head.appendChild(P),L&&u.body.classList.add(...L.split(" "));const Q=u.querySelectorAll("canvas");for(let r=0;r<G.length;++r){const o=G[r],m=Q[r];if(m===void 0){a({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",o],suppressErrors:H});continue}const l=m.getContext("2d");l&&l.drawImage(o,0,0)}for(let r=0;r<j.length;r++){const o=j[r],m=o.getAttribute("src");if(m){const l=new Image;l.onload=()=>n(o),l.onerror=(p,y,W,f,k)=>n(o,["Error loading <img>",o,"Error",k]),l.src=m}else n(o,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',o])}for(let r=0;r<E.length;r++){const o=E[r];o.preload="auto";const m=o.getAttribute("poster");if(m){const l=new Image;l.onload=()=>n(o),l.onerror=(p,y,W,f,k)=>n(o,["Error loading video poster",m,"for video",o,"Error:",k]),l.src=m}else o.readyState>=2?n(o):(o.onloadeddata=()=>n(o),o.onerror=(l,p,y,W,f)=>n(o,["Error loading video",o,"Error",f]),o.onstalled=()=>n(o,["Loading video stalled, skipping",o]))}const ee="select",te=g.querySelectorAll(ee),re=u.querySelectorAll(ee);for(let r=0;r<te.length;r++)re[r].value=te[r].value;if(!Y){const r=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let o=0,m=r.length;o<m;++o){const l=r[o];if(l.tagName.toLowerCase()==="style"){const p=u.createElement(l.tagName),y=l.sheet;if(y){let W="";try{const f=y.cssRules.length;for(let k=0;k<f;++k)typeof y.cssRules[k].cssText=="string"&&(W+=`${y.cssRules[k].cssText}\r
`)}catch(f){a({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",l,`Original error: ${f==null?void 0:f.message}`],level:"warning"})}p.setAttribute("id",`react-to-print-${o}`),T&&p.setAttribute("nonce",T),p.appendChild(u.createTextNode(W)),u.head.appendChild(p)}}else if(l.getAttribute("href"))if(l.hasAttribute("disabled"))a({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",l],level:"warning"}),n(l);else{const p=u.createElement(l.tagName);for(let y=0,W=l.attributes.length;y<W;++y){const f=l.attributes[y];f&&p.setAttribute(f.nodeName,f.nodeValue||"")}p.onload=()=>n(p),p.onerror=(y,W,f,k,le)=>n(p,["Failed to load",p,"Error:",le]),T&&p.setAttribute("nonce",T),u.head.appendChild(p)}else a({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",l],level:"warning"}),n(l)}}}q===0&&C(e,d)}function O(e,n,i,d){e.onload=()=>se(e,n,i,d),document.body.appendChild(e)}function ie(e){const{contentRef:n,fonts:i,ignoreGlobalStyles:d,onBeforePrint:x,onPrintError:h,preserveAfterPrint:S,suppressErrors:g}=e;return(0,z.useCallback)(j=>{R(S,!0);const E=function({contentRef:c,optionalContent:P,suppressErrors:Q}){return P&&(c&&a({level:"warning",messages:['"react-to-print" received a `contentRef` option and a optional-content param passed to its callback. The `contentRef` option will be ignored.']}),typeof P=="function")?P():c?c.current:void a({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Q})}({contentRef:n,optionalContent:j,suppressErrors:g});if(!E)return void a({messages:["There is nothing to print"],suppressErrors:g});const q=E.cloneNode(!0),G=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),L=q.querySelectorAll("img"),_=q.querySelectorAll("video"),Y=i?i.length:0,M=(d?0:G.length)+L.length+_.length+Y,T=[],H=[],B=function(){const c=document.createElement("iframe");return c.width=`${document.documentElement.clientWidth}px`,c.height=`${document.documentElement.clientHeight}px`,c.style.position="absolute",c.style.top=`-${document.documentElement.clientHeight+100}px`,c.style.left=`-${document.documentElement.clientWidth+100}px`,c.id="printWindow",c.srcdoc="<!DOCTYPE html>",c}(),u=(c,P)=>{T.includes(c)?a({level:"debug",messages:["Tried to mark a resource that has already been handled",c],suppressErrors:g}):(P?(a({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...P],suppressErrors:g}),H.push(c)):T.push(c),T.length+H.length===M&&C(B,e))},V={contentNode:E,clonedContentNode:q,clonedImgNodes:L,clonedVideoNodes:_,numResourcesToLoad:M,originalCanvasNodes:E.querySelectorAll("canvas")};x?x().then(()=>O(B,u,V,e)).catch(c=>{h==null||h("onBeforePrint",c)}):O(B,u,V,e)},[e])}return F}()})})(ne);var be=ne.exports;const xe=de(t.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print");export{xe as P,fe as a,be as l};
