import{j as t,K as x,T as l,L as j}from"./index-C8-WptdO.js";import{d as q,e as v,a as b,b as i,f as T}from"./TextField-DVGTpPr-.js";const P=({purchaseOrder:n,contentRef:y})=>{var d,g,c,m,f;const a=s=>s.reduce((e,o)=>{const _=o.received_quantity||o.requested_quantity;return e+o.price*_},0);return t.jsx(t.Fragment,{children:t.jsxs(x,{ref:y,sx:{display:"none","@media print":{display:"block",p:4,bgcolor:"white"}},children:[t.jsxs(x,{sx:{mb:4,textAlign:"center"},children:[t.jsx(l,{variant:"h4",sx:{mb:1,fontWeight:"bold"},children:"PURCHASE ORDER"}),t.jsxs(l,{variant:"h6",children:["PO Number: ",n==null?void 0:n.po_number]})]}),t.jsxs(x,{sx:{display:"flex",justifyContent:"space-between",mb:4},children:[t.jsxs(x,{children:[t.jsx(l,{variant:"subtitle1",sx:{fontWeight:"bold",mb:1},children:"Supplier Information:"}),t.jsx(l,{children:(d=n==null?void 0:n.supplier)==null?void 0:d.supplier_name}),t.jsx(l,{children:(g=n==null?void 0:n.supplier)==null?void 0:g.address}),t.jsx(l,{children:(c=n==null?void 0:n.supplier)==null?void 0:c.contact_number})]}),t.jsxs(x,{sx:{textAlign:"right"},children:[t.jsxs(l,{sx:{mb:1},children:[t.jsx("strong",{children:"Date:"})," ",new Date(n==null?void 0:n.po_date).toLocaleDateString()]}),t.jsxs(l,{sx:{mb:1},children:[t.jsx("strong",{children:"Status:"})," ",(m=n==null?void 0:n.status)==null?void 0:m.replace(/_/g," ").toUpperCase()]}),(n==null?void 0:n.invoice)&&t.jsxs(l,{children:[t.jsx("strong",{children:"Reference Number:"})," ",n.invoice]})]})]}),t.jsx(j,{sx:{mb:4}}),t.jsxs(q,{sx:{mb:4},children:[t.jsx(v,{children:t.jsxs(b,{sx:{backgroundColor:"#f5f5f5"},children:[t.jsx(i,{sx:{fontWeight:"bold"},children:"Product"}),t.jsx(i,{sx:{fontWeight:"bold"},children:"Requested Qty"}),t.jsx(i,{sx:{fontWeight:"bold"},children:"Received Qty"}),t.jsx(i,{sx:{fontWeight:"bold"},children:"Unit Price"}),t.jsx(i,{sx:{fontWeight:"bold"},children:"Total"})]})}),t.jsxs(T,{children:[(f=n==null?void 0:n.items)==null?void 0:f.map((s,e)=>{var o;return t.jsxs(b,{children:[t.jsx(i,{children:(o=s.product)==null?void 0:o.product_name}),t.jsx(i,{children:s.requested_quantity}),t.jsx(i,{children:s.received_quantity||0}),t.jsxs(i,{children:["₱",Number(s.price).toFixed(2)]}),t.jsxs(i,{children:["₱",(s.price*(s.received_quantity||s.requested_quantity)).toFixed(2)]})]},e)}),t.jsxs(b,{children:[t.jsx(i,{colSpan:(n==null?void 0:n.status)==="pending"?3:4,sx:{textAlign:"right",fontWeight:"bold"},children:"Total Amount:"}),t.jsxs(i,{sx:{fontWeight:"bold"},children:["₱",a((n==null?void 0:n.items)||[]).toFixed(2)]})]})]})]}),t.jsx(x,{sx:{mt:6},children:t.jsxs(x,{sx:{display:"flex",justifyContent:"space-between",mt:8},children:[t.jsxs(x,{sx:{width:"200px"},children:[t.jsx(j,{}),t.jsx(l,{sx:{mt:1},children:"Prepared by"})]}),t.jsxs(x,{sx:{width:"200px"},children:[t.jsx(j,{}),t.jsx(l,{sx:{mt:1},children:"Approved by"})]})]})})]})})};export{P};
